programming sound blaster adcdac xh dsp reset port write xah dsp read data port read xch dsp write data command write xch dsp write buffer status bit read xeh dsp data available status bit read x  sound blaster  x  sound blaster micro channel version x  sound blaster  x  sound blaster pro dsp                                    due different mode hardware performance different audio card maximum sampling rate different input adc sound blaster  mononormal mode bit khz khz sound blaster  mononormal mode bit khz khz monohigh speed mode bit khz khz sound blaster pro mononormal mode bit khz khz monohigh speed mode bit khz khz output dac sound blaster  mononormal mode bit khz khz sound blaster  mononormal mode bit khz khz monohigh speed mode bit khz khz sound blaster pro mononormal mode bit khz khz monohigh speed mode bit khz khz dsp command h direct mode bit dac single byte data transfer h dma mode bit dac h direct mode bit adc single byte data transfer h dma mode bit adc h set time constant h set block size h high speed dma mode bit dac h high speed dma mode bit adc dh turn speaker dh turn speaker dh halt dma progress dh continue dma eh get dsp version read major ver minor reset dsp write h port xh wait microsecond write h port xh read port xah aah read see read xah aah read abort declare sound blaster present error write dsp writes xch must follow procedure read xch bit clear write xch read dsp read xah must follow procedure read xeh bit set read xah interrupt dma dac dma adc mode single interrupt occur block data readwritten clear interrupt read xeh well clearing pic ignoring interrupt interrupt ignored poll dmac dma controller dmac report count ffffh transfer finished read xeh finished also poll dma status register wait terminal count reached bit set found first read starting transfer bit set second note vesalocal bus video user video card use dma channel dma channel used sound blaster video access screw output sound blaster calculating time constant normal speed time constant  sampling rate   high speed time constant msbyte  sampling rate msbyte   msbyte msbyte eh eh direct mode dac write dh xch write h xch write bit data sample xch wait correct timing must timing repeat step  end data write dh xch normal speed dma mode dac write dh xch setup interrupt service routine write h xch write time constant xch program dmac dma controller write h xch write lsbyte data length write msbyte data length service interrupt may need repeat step  isr restore original interrupt service routine write dh xch command written dsp waiting interrupt high speed dma mode dac write dh xch setup interrupt service routine write h xch write time constant xch program dmac dma controller write h xch write lsbyte data length write msbyte data length write h xch service interrupt may need repeat step  isr restore original interrupt service routine write dh xch command written dsp waiting interrupt resetting dsp procedure used halt dma progress direct mode adc write h xch read bit data sample xah wait correct timing must timing repeat step  finished normal speed dma mode adc setup interrupt service routine write h xch write time constant xch program dmac dma controller write h xch write lsbyte data length write msbyte data length service interrupt may need repeat step  isr restore original interrupt service routine command written dsp waiting interrupt high speed dma mode adc setup interrupt service routine write h xch write time constant xch program dmac dma controller write h xch write lsbyte data length write msbyte data length write h xch service interrupt may need repeat step  isr restore original interrupt service routine command written dsp waiting interrupt resetting dsp procedure used halt dma progress mixer                                   mixer found sound blaster pro mix following audio source digitized voice fm synthesized music cdaudio linein microphone input pc speaker output allows software control volume digitized voice fm synthesized music cdaudio linein microphone mixing overall master volume mixer setting done io port xh xh x sound blaster pro xh address port write xh data port readwrite programming sequence follows write address mixer register xh readwrite mixer register value fromto xh mixer register register                     h data reset h reserved h voice volume l voice volume r h reserved h reserved ah x x x x x mic mixing ch x x filter adc x eh x x dnfi x x x vstc x h reserved h master volume l master volume r h reserved h fm volume l fm volume r h cd volume l cd volume r ah reserved ch reserved eh line volume l line volume r xdo nt care reservedpreserve original value register description reset register h write bit value register reset mixer voice volume register h  voice volume left  voice volume right default level microphone mixing register ah default level input setting register ch adc input source microphone default cd audio microphone linein filter filter select x low filter default x high filter x x filter output setting register eh register specifies voice output feature dnfi output filter default output filter bypassed vstc mono voice mode default stereo voice mode master volume register h  master volume left  master volume right default level fm volume register h  fm volume left  fm volume right default level cd volume register h  cd volume left  cd volume right default level linein volume register eh  linein volume left  linein volume right default level  