promodem r interrupt driven serial communication library v written adrian j michaud c interactive telecommunication system  release date  table content         page introduction featuressupported compiler registration ording form setupcontrolblock opencom closecom sendcharacter checkqueue getcharacter clearqueue getcarrierdetect setbaudrate setdtr dropdtr setdataformat sendstring setfifomode setfifotriggerlevel waitforcharacter disableirq enableirq disablectsrts enablectsrts getctsrtsstatus terminalc example terminal program source file bbsc example bulletin board source file trouble using promodem page promodem user manual interactive telecommunication system introduction       promodem high performance interrupt driven r serial communication library used creating computerized bulletin board system terminal program r networking driver r host host communication promodem support following uarts pcc nsaf pccf promodem take full advantage enabling character fifo relieve cpu excessive software overhead using internal fifo activated allowing byte plus bit error data per byte rcvr fifo stored receive transmit mode logic chip minimize system overhead maximize system efficiency page promodem user manual interactive telecommunication system feature     promodem contains following feature interrupt driven input directly via peripheral interrupt controller full fifo support selectable trigger level support user definable base address using irq irq automatic ctsrts hardware handshaking asynchronous device baud rate k bit per second handle unlimited open com port using irq irq overrun might occur slow cpu high baud rate course support isa pc mca p machine small large huge memory model available registered user c compiler supported            microsoft c v v quickc v cc v borland turboc v v v v page promodem user manual interactive telecommunication system registration       promodem public domain program free promodem copyright c interactive telecommunication system nonregistered user library granted limited one month license promodem evaluate library suitability requirement usage promodem beyond evaluation time period requires registration copy library used use nonregistered copy promodem beyond original evaluation period prohibited shareware version promodem built small model register promodem receive full printed documentation along large huge library compiler supported source code memory model supported compiler also part registration package two way register first sending interactive telecommunication system along registration form non u resident please send check drawn u fund accept non u currency must include additional u cover exchange handling also add overseas shippinghandling see page ordering form ordering information page promodem user manual interactive telecommunication system promodem ordering form            please remit eutecnics co adrian j michaud promodem nagog pk suite acton qty description total  promodem registration   diskette   includes memory model source code printed manual msc tc  promodem registration   diskette   includes memory model source code printed manual msc tc u order add shipping handling shipping  foreign order add shipping add foreign currency exchange misc charge  resident please add  sale tax tax  total  name  company  address    obtain promodem friend shareware house bb user group  check money order must drawn u fund u dollar sorry cod order accepted make check payable interactive telecommunication system page promodem user manual interactive telecommunication system function int setupcontrolblock ajms controlblock unsigned int baseaddress int irq unsigned int buffersize description set control block specific com port irq number first function always used preparing communicate com port com port opened requires different control block return value successful setup successful toomanyirqs many mounted com port example usage include  promodemh  main ajms controlblock  set control block com xf irq byte receive buffer  setupcontrolblock controlblock xf init control block opencom controlblock open com port  page promodem user manual interactive telecommunication system function int opencom ajms controlblock description open com port communication function allocates irq buffer set uart communication dtr data terminal ready turned port opened ct clear send rts request send hardware handshaking automaticly turned detected com port opened return value bufferallocationerror could allocate irq buffer comalreadyopen port already open ready comportnotready unable talk serial device successful com port successfully opened example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set  opencom controlblock  open com port  page promodem user manual interactive telecommunication system function int closecom ajms controlblock description close previously opened com port deallocates irq buffer allocated opencom restores uart previous state opened return value comportnotopen com port previously opened successful com port successfully closed irq buffer deallocated example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  closecom controlblock close com port  page promodem user manual interactive telecommunication system function int sendcharacter ajms controlblock unsigned char ch description sends character com port return value carrier carrier nocarrier nt carrier also see sendstring example usage include  promodemh  example unsigned char ch  allocate ch stack  extern ajms controlblock  assumes control block previously   set com port open  ch unsigned char getch  get character keyboard  sendcharacter controlblock ch  send character com port  page promodem user manual interactive telecommunication system function int checkqueue ajms controlblock description check status irq receive buffer return value characterswaiting character queue queueempty queue empty also see getcharacter clearqueue waitforcharacter example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  checkqueue controlblock  characterswaiting  check queue  printf  c  getcharacter controlblock  print one byte queue  page promodem user manual interactive telecommunication system function int getcharacter ajms controlblock description get single character receive irq queue return value first character placed receive queue receive queue expands character received getcharacter take first character queue return int high byte masked also see checkqueue example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  checkqueue controlblock  characterswaiting  check queue  printf  c  getcharacter controlblock  print one byte queue  page promodem user manual interactive telecommunication system function void clearqueue ajms controlblock description clear content receive irq queue insures pending character receive irq queue return value none also see checkqueue example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  clearqueue controlblock  clear receive irq queue  page promodem user manual interactive telecommunication system function int getcarrierdetect ajms controlblock description check status dcd data carrier detect line serial port used detect modem carrier return value carrier carrier nocarrier nt carrier example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  getcarrierdetect controlblock  nocarrier  check dcd  printf  nthere carriern   display loss carrier  page promodem user manual interactive telecommunication system function void setbaudrate ajms controlblock unsigned long baudrate description set baud rate serial port return value none example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  setbaudrate controlblock unsigned long  set k baud  page promodem user manual interactive telecommunication system function void setdtr ajms controlblock description turn dtr data terminal ready line serial port opencom automaticly turn dtr com port initially opened dtr need turned talk modem return value none also see dropdtr example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  setdtr controlblock  turn dtr data terminal ready  page promodem user manual interactive telecommunication system function void dropdtr ajms controlblock description turn dtr data terminal ready line serial port closecom automatically turn dtr modem set correctly drop carrier dtr toggled modem manual explain set modem respond dtr return value none also see setdtr example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  dropdtr controlblock  turn dtr data terminal ready  page promodem user manual interactive telecommunication system function void setdataformat ajms controlblock int option description set data format com port opencom automatically set com port bit stop parity override use function return value none example usage  bit set com port bit   bit set com port bit   bit set com port bit   bit set com port bit   stopbits set com port stop bit   stopbits set com port stop bit   parityon set com port use parity   noparity set com port use parity bit   evenparity set com port use even parity   oddparity set com port use odd parity   stickparity set com port use stick parity   setbreak set com port set break  include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open   set com port n simply bitwise anything want  setdataformat controlblock bit noparity stopbits page promodem user manual interactive telecommunication system function int sendstring ajms controlblock char string description sends null terminated string com port return value carrier carrier sending string nocarrier nt carrier sending string also see sendcharacter example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  sendstring controlblock  nhello world   send string com port  page promodem user manual interactive telecommunication system function setfifomode ajms controlblock description turn fifo buffer com port work uart return value fifoenabled fifo enabled nofifopresent fifo present uarts also see setfifotriggerlevel example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open   try enable fifo  setfifomode controlblock fifoenabled printf  nfifo enabled  else printf  nno fifo present  page promodem user manual interactive telecommunication system function setfifotriggerlevel ajms controlblock unsigned char mode description set fifo trigger level rcvr fifo interrupt work uart return value none also see setfifomode example usage  fifotrigger irq trigger byte fifo buffer   fifotrigger irq trigger byte fifo buffer   fifotrigger irq trigger byte fifo buffer   fifotrigger irq trigger byte fifo buffer  include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open   set fifo trigger character rcvr buffer  setfifotriggerlevel controlblock fifotrigger page promodem user manual interactive telecommunication system function int waitforcharacter ajms controlblock double second description wait character received irq receive queue specified number second return value int character received high byte masked waittimeout time character received also see getcharacter example usage include  promodemh  example unsigned char ch extern ajms controlblock  assumes control block previously   set com port open   wait  second character timeout  ch waitforcharacter controlblock  chwaittimeout printf  ntimeout character receivedn  else printf  nhere character cn  ch page promodem user manual interactive telecommunication system function disableirq ajms controlblock description turn irq vector restores original vector com port opened always done spawning swap program disk em return value none also see enableirq example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  disableirq controlblock  restores irq vector original  page promodem user manual interactive telecommunication system function enableirq ajms controlblock description set irq vector point promodem serial receive irq internal routine used disableirq previously called opencom automatically set irq vector com port originally opened return value none also see disableirq example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  enableirq controlblock  set irq vector point promodem irq  page promodem user manual interactive telecommunication system function disablectsrts ajms controlblock description turn ctsrts hardware handshaking return value none also see enablectsrts example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  disablectsrts controlblock  disables ctsrts hardware handshaking  page promodem user manual interactive telecommunication system function enablectsrts ajms controlblock description turn ctsrts hardware handshaking return value none also see disablectsrts example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  enableirq controlblock  enables ctsrts hardware handshaking  page promodem user manual interactive telecommunication system function getctsrtsstatus ajms controlblock description get status ctsrts state return value enabled ctsrts hardware handshaking enabled disabled ctsrts hardware handshaking disabled also see disablectsrts disablectsrts example usage include  promodemh  example extern ajms controlblock  assumes control block previously   set com port open  getctsrtsstatus controlblock  enabled  check ctsrts  printf  nctsrts enabled  else printf  nctsrts disabled  page promodem user manual interactive telecommunication system terminalc example terminal program using promodem terminalc demo program written using routine promodem library demonstrate library function build program need promodemh file came archive promtclib prommsclib link correct libs h file include lib directory compile link nmake promodemmak microsoft quickc cl terminalc link prommsclib microsoft c tcc terminalc promtclib turbo c terminalc want note microsoft compiler must turn debug flag set page promodem user manual interactive telecommunication system bbsc example bulletin board system using promodem bbsc demo bb program written using routine promodem library demonstrate library function build program need promodemh file came archive promtclib prommsclib link correct libs h file include lib directory compile link nmake bbsmak microsoft quickc cl bbsc link prommsclib microsoft c tcc bbsc promtclib turbo c bbsc want note microsoft compiler must turn debug flag set page promodem user manual interactive telecommunication system problem promodem                original promodem version  lacked ctsrts hardware handskaking promodem version  includes support ct clear send rts request send hardware handshaking version  latest version promodem  trouble getting promodem work question promodem please feel free call bb written using promodem   baud hstvbis leave message stating promodem user would like support granted account reached voice   pm est  