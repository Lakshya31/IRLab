                                                    online software programming toolkit ההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה programmer manual version  do win edition note since likely want refer manual working opendoors highly recommended take time print simply type copy opendoortxt prn do prompt exception title page document contains bit ascii character c copyright brian pirie right reserved table content chapter introduction opendoors              welcome                      feature opendoors toolkit              chapter evaluation copy ordering          evaluation copy benefit registering          order                     order mail                  sending order fee mail              ordering credit card                 receive order               ordering source code                 opendoors  order form                 opendoors  feedback form                term registration source code use           chapter opendoors tutorial                 manual                   compiling program opendoors              linking opendoors using do compiler           linking opendoors using window compiler         running door program written opendoors          running dosbased door program               running window nt door program             basic door programming opendoors           tour sample door program  exvote             example program included opendoors          chapter opendoors api function              overview                      table commonly used function             table function                  odaddpersonality                  odautodetect                    odchat                      odcarrier                     odclearkeybuffer                  odclrline                     odclrscr                     odcolorconfig                   oddisp                      oddispemu                     oddispstr                     oddrawbox                     odeditstr                     odexit                      odgetanswer                    odgetinput                    odgetkey                      opendoors  manual end page odgettext                     odhotkeymenu                    odinit                      odinputstr                    odkernel                     odlistfiles                    odlogwrite                    odmultilineedit                   odpage                      odparsecmdline                   odpopupmenu                    odprintf                     odputch                      odputtext                     odrepeat                     odrestorescreen                   odsavescreen                    odscroll                     odsendfile                    odsetattrib                    odsetcolor                    odsetcursor                    odsetdtr                     odsetpersonality                  odsetstatusline                   odsleep                      odspawn                      odspawnvpe                     odwindowcreate                   odwindowremove                   chapter opendoors control structure            introduction control structure             control structure door info file stats            control structure serial port setting            control structure bb caller information          control structure door setting              control structure diagnostics               control structure opendoors customization           control structure function key              control structure color customization            control structure text customization            chapter special topic                  additional information win version           configuration file system                 defining custom door information file format          multiple personality system                log file system                    making door multinodeaware               chapter troubleshooting getting assistance opendoors      opendoors  manual end page chapter                   troubleshooting problem                 solution common problem                opendoors support                   opendoors support bb                 opendoors word wide web site              opendoors conference                 getting touch                 appendix content package                appendix b change version              appendix c future version                 appendix special thanks                  glossary                        index                          opendoors  manual end page                                        chapter introduction opendoors welcome                                        welcome opendoors opendoors powerful easy use online software programming toolkit c c opendoors often used create addon  door  program run bb system also used many online software application using opendoors joining programmer around world used since first released public year opendoors grown simple bb door programming library perhaps sophisticated widely used supported package type exactly opendoors opendoors provides complete system allows quickly easily write spectacular professional quality interactive online software opendoors write software bb door program would write program without worry many internal detail door programming opendoors look communicating modem providing ansiavatarrip terminal support interfacing wide variety bb package door information file doorsys dorinfodef etc opendoors also look status line sysop function key do shell chatting hanging addition opendoors carry work involved keeping track carrier detection user timeouts much much opendoors also highly flexible allowing take little much control program behavior wish package includes do win version opendoors allows build plaindos version program run variety platform do desqview window x nt o build win version take special advantage window nt build version program choice do version opendoors performs serial io using either fossil driver built serial io capability making use fossil driver  opendoors  manual end page optional win version take special advantage bit programming multithreading window gui allows access many service provided window odbc database access mapi email messaging do win version opendoors run do windowsbased bb package do version opendoors also run osbased bb package following section provides detailed information feature capability opendoors provides feature opendoors toolkit                                        find opendoors provides solid platform build bb door program online software top may want write simple utility door program online game sophisticated application perhaps interested getting market selling online software perhaps wish write custom door program particular bb system opendoors accomplish thing much easily ever feature opendoors provides opendoors handle  dirty  work involved writing bb door program since opendoors look door related operation need next nothing different writing door program would writing program simply call opendoor simple function input output control door operation fact many people converted nondoor program door program matter minute using opendoors one common comment receive opendoors easy use opendoors allows write software directly support wide variety bb system including remoteaccess quickbbs pcboard maximus opus wildcat wwiv spitfire superbbs telegard tribbs gap others would expect opendoors flawlessly monitor modem carrier detect signal automatically recover user hang without anything extra program opendoors also monitor much time user left door provides fully adjustable inactivity timeout monitor opendoors take care work involved reading writing bb door information file dorinfodef  opendoors  manual end page exitinfobbs chaintxt doorsys etc particular information available opendoors provide everything could ever want know user online system door running addition many door information file format supported opendoors also able define custom format opendoors also work involved displaying automatically updating door status line information available sysop user name location baud rate time left function key ansiavatarrip setting using opendoors choose number different  personality  personality allows opendoors mimic status line sysop function key used various bb package opendoors includes personality mimic remoteaccess pcboard wildcat opendoors also allows create personality mimic bb system opendoors automatically provides sysop standard function key adjusting user time hanging even locking user opendoors also provides chat mode available sysop pressing altc addition opendoors full support sysop shell do activated altj key opendoors designed easy use even novice c programmer able write professionalquality door opendoors take care every detail yet still give ability completely control customize every detail door behavior even people begin door programming opendoors never programmed c past opendoors support fossilbased builtin serial io capability fossilbased serial io used maximum compatibility various system serial port including multipleport serial card digiboard opendoors also operate without fossil driver using serial io capability opendoor builtin asynchronous communication support baud rate  nonstandard serial port configuration opendoors also ability automatically detect two serial io method used particular system opendoors also automatically detects bb system operating local mode support full local mode operation  opendoors  manual end page opendoors function include built sysoppage function ask user wish chat proceed page sysop bb package would opendoors also provides screen clearing function detect whether user screen clearing turned various ansiavatarrip control function detect user graphic mode turned addition basic display feature opendoors also number advanced screen control function include function save restore entire screen along function save restore scroll portion screen function allow provide overlapping window popup menu highlighted selection bar opendoors provides multiline text editor use allow user enter edit text file email message text span multiple line customize many editor setting suit need opendoors number special subsystem may elect include door among logfile system allows add log file support door single line programming another valuable opendoors subsystem configuration file system using single line code add configuration file support door opendoors configuration file permit sysop using door customize door behavior preference opendoors also fully customized order may write door program use language english among ansiavatarrip feature found opendoors ability send ansiavatarrip file disk allows easily design program screen incorporate door opendoors also come source code number example door modify simply extract bit piece use door plus manual contains many example c source code help writing nearly door program might wish build may also elect purchase source code opendoors permit make modification portion opendoors use portion opendoors source code program write merely learn communication type program written  opendoors  manual end page                                        chapter evaluation copy ordering evaluation copy benefit registering                                        opendoors distributed sold using conventional  shareware  approach complete package freely distributed online bb system internet cdroms medium give chance try opendoors buy unlike traditional commercial software opportunity see opendoors firsthand determine whether meet need without first paying however registering permitted use following condition may use package one month period evaluation purpose program written package may distributed also registering program written opendoors display message user indicating opendoors registered course message removed registered decided register opendoors become licensed owner powerful tool creating bb door program online software registered licensed owner opendoors entitled virtually unlimited use opendoors may write many program wish using opendoors please program may freely distributed even sold additional royalty fee one time purchase opendoors entitles use please registration entitles use do win version opendoors  opendoors  manual end page also entitled free upgrade newer version opendoors addition great many feature quality version opendoors offer currently working great many addition enhancement next version see end document outline feature currently  work  program write using version also automatically take many new feature upgrade new version perhaps best news price opendoors similar package sell even however version opendoors cost u dollar canadian dollar equivalent country currency note price increase future version registering save able upgrade future version additional charge also source code opendoors available licensed user additional u cdn equivalent ordering copy source code allow customize opendoors use making change addition wish also give opportunity see opendoors work use portion opendoors code program wish write think might interested ordering opendoors source code please sure read section entitled  ordering source code  located page order                                        way ordering opendoors license registration common way order mailing opendoors order form along cheque money order cash address order form may order using major credit card opendoors credit card order handled thirdparty credit card order service named psl following section provide information order using option  opendoors  manual end page order mail                                        order opendoors mailing cheque money order cash simply follow three step fill registration form information filling form located page send appropriate payment u cdnequivalent registration u cdnequivalent registration source code wish detailed instruction sending registration fee see section begin page included section list equivalent price number country send two item brian pirie cedarock drive kanata km h canada many people register opendoors also order source code package may wish consider benefit opendoors source code allows learn opendoors communication software written allows modify customize opendoors suit preference also allows use portion opendoors nondoor programming project think might also interested opendoors source code sure read section source code begin page also may wish send opendoors feedback form located page along registration feedback form give chance tell think opendoors change would like see future version fact majority suggestion made form past already implemented current version opendoors printed opendoors manual simply remove mail form page already printed copy manual printer quickly print form printing orderfrm file included opendoors distribution archive type copy orderfrm prn do prompt printer alternatively printer simply send hand written version order form  opendoors  manual end page special instruction anything would like say register feel free write back registration form separate piece paper filling opendoors registration form sure indicate would prefer receive opendoors registration key andor source code following option available send registration andor source code conventional mail internet email fastest option fax call bb calling opendoors support bb fidonet  crashmail  decided mean would prefer receive order please read detailed instruction order method also ordering source code please sure read section ordering source code begin page sending order fee mail                                        price opendoors canadian dollar u dollar equivalent registration source code cost additional canadian dollar u dollar equivalent convenience equivalent value number country currency time writing follows                        registration registration source code                        canadian dollar canadian dollar u dollar u dollar british pound british pound french franc french franc german mark german mark netherland gilder netherland gilder australian dollar australian dollar                        ordering mail order fee may paid using following method  opendoors  manual end page cheque money order canadian currency drawn upon canadian bank case order fee either cdn registration cdn registration source code cheque money order u currency drawn upon u bank case order fee either u registration u registration source code international money order international bank draft available bank post office company american express canadian currency depending particular case order fee may sent postal service mail order form money order drawn either cdn registration cdn registration source code cheque drawn bank world country currency equivalent canadian dollar instance cheque appropriate number british pound drawn british bank perfectly acceptable however unable accept cheque canadian dollar drawn british bank unfortunately bank canada currently unwilling accept eurocheques cash please note usually recommended cash sent mail responsible cash lost mail simply put wish order cash responsibility get cash however receive order form cash perfectly acceptable would like mention many people already ordered opendoors sending cash yet run across case cash lost mail nonetheless wish send cash may wish consider registered mail added security ordering opendoors within canada likely choose first option canadian cheque money order ordering opendoors within united state likely choose second option american cheque money order ordering outside canada u would ideal could send fee international money order however noted order method acceptable location also quite possible may able accept mean sending order fee unsure sending order fee please feel free get touch mean listed page  opendoors  manual end page ordering credit card                                        information applies credit card order please read entire section ordering opendoors credit card order cover additional cost processing credit card order shipping handling fee applies opendoors order made psl total price pay registration handling u registration source code handling u price charged credit card u dollar order opendoors mc visa amex discover public software library calling psl  fax  ci email  also order online world wide web information visit opendoors web site information opendoors web site provided page also mail credit card order psl pobox houston tx  ordering phone must call pm cst monday thursday pm friday number credit card order author program reached number question status shipment order refund registration option product detail technical support volume discount dealer pricing site license non credit card order etc must directed brian pirie cedarock drive kanata km h canada insure get latest version psl notify day order ship opendoors directly send opendoors conventional mail unless previously heard asking send order mean ordering credit card psl please sure indicate whether wish order opendoors registration registration source code also please sure include credit card billing address without information psl unable process order  opendoors  manual end page receive order                                        convenience send opendoors registration key andor source code following method ordering opendoors mail simply check one option order form ordering thirdparty credit card service automatically send order internet email conventional mail unless receive message order asking send mean                                        receiving wish receive opendoors registration key order internet email including internet email compuserve internet account fill order form mail along email payment described sure include email address order form note source code sent via internet email                                        receiving order receive opendoors registration key andor order source code conventional mail simply fill order mail form mail along payment described cover cost postage address contains non roman character also enclose selfaddressed envelope mailing label                                        receiving wish receive opendoors registration key order fax fill order form mail along payment fax described sure include fax number order form choose method ordering source code                                        receiving may choose receive opendoors registration andor order source code calling opendoors bb registration calling form order fee received unable opendoors receive order electronic mean call bb bb electronic mail may quickest way receive registration information andor source code obvious disadvantage option fact estimate order arrive order receive quickly possible may end calling opendoors bb order arrived order form arrived registration key andor source code placed hold  opendoors  manual end page able receive first call bb phone number bb                                          receiving order receive opendoors registration key andor order source code message andor upload bb fill call order form mail along payment described bb sure include phone number baud rate login password bb would like call always cover long distance cost reason unable connect bb busy example bb longer online send order conventional mail instead                                        receiving order receive opendoors registration key andor order source code fidonet crashmail simply fill order fidonet form mail along payment described crashmail sure include fidonet node address wish registration key andor source code sent via crashmail cover long distance cost reason unable connect fidonet system send order conventional mail instead  opendoors  manual end page ordering source code                                       many people also choose order source code along opendoors registration ordering source code allow customize opendoors use use part opendoors source code program learn opendoors work idea change would like see opendoors either large small ordering source code allow make change creating customized version opendoors able remove copyright notice change way certain opendoors function work add new capability opendoors surprisingly little time also able use opendoors source code desqviewaware code emsdisk swapping routine configuration file system communication routine anything else program write also ordering opendoors source code allow learn opendoors work program communication software bb door program order opendoors source code receive source code package source code package also includes short  source code manual  description opendoors source code organized instruction recompile source code choose receive source code package electronically receive form single zip file choose receive source code package mail receive   diskette requirement due wide variety compiler available difference unable test opendoors source code every compiler mean may need make change source code order compile certain compiler order compile do version opendoors must using compiler support inline assembly language keywords includes borland compiler released since many compiler one notable exception watcom compiler support inline assembly language time writing information do opendoors library included package compiled using turbo c  professional win library included package compiled using microsoft visual c  mean reasonably certain opendoors compile compiler recent compiler company without change  opendoors  manual end page                                      opendoors  order form                                      registration name  appear registration name  different postal address    email address  applicable additional info  eg faxbbs phone number brian password needed wish receive order   internet email fastest call brian bb     conventional mail call bb   include login info   fax include fax fidonet  crashmail     would like order registration key source code  u canadian equivalent fund  registration key  u canadian equivalent fund  upgrade source code already  registered u canadian equiv agree registration term  set forth page manual signature make cheque payable brian pirie cedarock drive kanata km h canada  official use                           sn  sent                                        opendoors  manual end page                                      opendoors  feedback form                                      name  opendoors library expect use  do version memory model    window win version  first learn opendoors  compiler version using  like opendoors   change addition would like see future version   additional comment                                           opendoors  manual end page term registration source code use                                       purchase opendoors registration andor source code license entitled almost unlimited use version opendoors however order protect investment time effort developing opendoors must also agree term outlined licensing opendoors andor source code term intended reasonable way intended limit use opendoors primary intent term permitted disclose opendoors registration information opendoors source code individual term registration source code use follows purpose term  opendoors  defined library file header file example program programmer manual version past present language platform opendoors online software programming toolkit case source code license opendoors also refers source code used build opendoors upon licensing opendoors individual organization named order form licensee entitled use version opendoors within term set forth violation term considered copyright infringement ground termination registration agreement licensee entitled additional cost use distribute sell executable exe com file built opendoors licensee also entitled use distribute sell example program example configuration file portion manual licensing source code licensee also entitled distribute sell executable file result using altered version source code portion thereof provided possible programmer access opendoors api function executable file licensee entitled distribute registration key number provided brian pirie portion opendoors source code purpose term organization considered company non profit organization licensee organization registration key source code may shared among member organization condition individual using registration andor source code official activity organization term way suggest agreement part brian pirie develop future version opendoors fix bug current version opendoors opendoors offered   warrantee expressed implied event shall brian pirie liable loss profit damage including limited special incidental consequential damage  opendoors  manual end page                                        chapter opendoors tutorial manual                                        opendoors programmer manual intended serve complete tutorial guide reference writing program opendoors chapter manual beginning page provides introduction overview feature opendoors unsure opendoors begin chapter chapter beginning page provides important information related evaluation copy opendoors register copy chapter serf tutorial opendoors bb door programming general chapter provides reference opendoors api function use program chapter provides reference  opendoors control structure  give access wide array information allows customize opendoor appearance behavior chapter provides information special opendoors feature advanced door programming topic among subject discussed chapter win version opendoors configuration file multi node operation rip graphic logfile support defining custom door information file format chapter begin page give instruction troubleshooting program written opendoors list solution common difficulty information many source opendoors support time difficulty opendoors sure refer chapter complete stepbystep instruction tracing source problem solution common difficulty opendoors chapter also directs major source support including information opendoors email conference opendoors support bb get touch also find many useful tool manual doubt come useful working opendoors beginning page basic table content showing manual organized helping locate general topic  opendoors  manual end page end manual beginning page index help locate information specific topic manual also includes glossary page help understanding new term may come across reading manual end manual also find several useful section information new version information contact information new opendoors feature currently work likely want print manual make reading reference programming easier print manual simply type following line do prompt worried size manual might consider using utility print multiple page text file single sheet paper printing two manual page per side paper certainly legible even fourup would give text size average newspaper text printing side able fit manual sheet paper  compiling program opendoors                                        process compiling program written opendoors similar compiling program however two additional step must sure remember must include opendoorh header file must link program appropriate opendoors library file program written opendoors must  include  opendoorh header file placed opendoorh header file directory program source code place following line beginning c cpp file include  opendoorh  placed opendoorh header file directory standard header file stdioh place following line beginning c cpp file include opendoorh  opendoors  manual end page addition including opendoors header file source code module must also  link  appropriate opendoors library file program procedure depends upon compiler using following section describe link opendoors library using various compiler linking opendoors using do compiler                                        section describes link provided opendoors library file variety do compiler using compiler described refer compiler manual information link third party library using borland turbo c  earlier cause compiler link program opendoors library creating text file prj extension text file list name program c module along name appropriate opendoors library file listed table end section select project file within turbo c ide prior compiling program using turbo c borland c set compiler link program opendoors library creating project file within ide choose open project command project menu enter name new project file load project dialog box add name program ccpp module along name appropriate opendoors library file pressing insert project window return turbo c borland c work project file using open command project menu using microsoft c compiler quick c microsoft c visual c set compiler link program opendoors library creating makefile create new project file within quick c using set program list option make menu within visual c using new command project menu add name program ccpp source file along name appropriate opendoors library file newly create makefile several different do library file included opendoors one use different memory model following chart list library file name along corresponding memory model important use  opendoors  manual end page library file corresponds memory model using whenever change compiler use different memory model important rebuild source file using  build   rebuild  command addition changing library program linked unfamiliar concept memory model refer compiler manual unsure memory model compiler currently using check setting compile option dialog box command line reference information                         library memory filename model                         odoorslib do small memory model library odoormlib do medium memory model library available separately odoorclib do compact memory model library available separately odoorllib do large memory model library odoorhlib do huge memory model library                         understand compile program written opendoors good idea try compiling one example program exhelloc included opendoors package linking opendoors using window compiler                                        win version opendoors resides dll odoorsdll order use opendoors win program typically link import library although also possible use loadtime dynamic linking use loadlibrary getprocaddress opendoors package includes coffformat import library use microsoft compiler named odoorwlib using compiler us omfformat object file borland compiler need create version odoorwlib import library using implib utility provided compiler compiling opendoors program window compiler sure either win win constant defined  opendoors  manual end page microsoft borland compiler define one constant default however using compiler another company may need explicitly configure compiler define one preprocessor constant using microsoft visual c  later setup compiler link opendoors import library creating makefile choose filenewproject adding program ccpp source file odoorwlib import library project prompted project type choose  application   mfc appwizard  using visual c  must manually edit mak file using text editor file replace occurrence  subsystem window   subsystem window  instructs linker create executable file targeted window opendoors visual element appear correctly later version microsoft compiler default using  subsystem window  step longer necessary compiler using borland c  later must create opendoors import library odoorsdll compile first opendoors program go directory odoorsdll located move original odoorwlib backup location issue command implib odoorwlib odoorsdll create new import library odoorwlib use compiler compile opendoors program command line issue command bcc tw yourprogramc odoorwlib compile opendoors program within ide create new project file add program source file opendoors import library project compiling within ide check targetexpert sure using multithreaded version runtime library default borland ide compiles single threaded work opendoors additional information win version opendoors provided chapter  opendoors  manual end page running door program written opendoors                                        section provides information run bb door program written opendoors using opendoors write form online software information provided apply different degree depending nature program opendoors support local remote mode normal mode operation remote mode program output displayed local screen remote user screen run program remote mode usually set run bb package however testing purpose often convenient run program local mode several way start program local mode first method place example dorinfodef file directory program program us opendoors command line processing function odparsecmdline start program local mode simply specifying local program command line example try example program include opendoors issuing command votedos local do version votewin local window nt version opendoors also run local mode set run bb package log bb local mode bb run door program opendoors automatically run local mode run program remote mode probably want run bb system nt bb package testing purpose might want obtain popular bb package wildcat maximus free remoteaccess running dosbased door program                                        do bb package typically run door program using one two method either bb package directly load executes program exit do batch file turn executes door program either case bb package produce door information file common called  drop file  provides information door program name current user opendoors automatically support common drop file format including dorinfoxdef doorsys running window nt door program  opendoors  manual end page                                        section provides information specific running door program compiled win version opendoors please feel free include information program manual since win version opendoors resides dll odoorsdll file must present system program run although window nt find file located directory program executable file good idea install dll window system directory way program using win version opendoors share copy dll reducing amount disk space used required setup window nt door depend upon bb system run program run native window nt bb system ideally bb system provide ability pas live serial port handle door program program command line otherwise run door batch file following instruction provided running program dosbased bb system bb system able pas live window communication handle door command line using opendoors standard commandline processing function odparsecmdline setup bb run program directly using command line yourprogramnameexe handle xxxxxxxxxx xxxxxxxxx serial port handle decimal format need use start command dtron utility change com n autoassign setting systemini file running win door program dosbased bb system windowsbased bb system unable pas live serial port handle door program follow step add line form  com n autoassign x  enh section systemini file n specifies serial port number bb modem connected x usually example modem connected com would add line  comautoassign  sans quote start computer change take effect windowsbased door program able access modem  opendoors  manual end page setup bb software run windowsbased door program would door program probably want batch file command line run window program form start w yourprogramnameexe command line parameter cause windowsbased door program start minimized mode cause calling msdos session wait window program exit continuing wish program started minimized mode remove command line attempt start door program calling directly rather using  start w  command bb software immediately start cause attempt run simultaneously door program running start command use dtronexe similar utility reenable dtr detection modem normally command line form dtron port x bps x serial port number com com etc locked bps rate example serial port locked bps connected com would use dtron port bps full information dtron utility simply type command line dtron help may freely redistribute dtron utility included package program additional information win version opendoors explanation step provided chapter  opendoors  manual end page basic door programming opendoors                                        section provides complete tutorial basic writing bb door program using opendoors using opendoors write online software much information still relevant addition reading section would encourage look example program included int opendoors package program described beginning page give much better idea opendoors program look like program also serve great starting point writing program using opendoors probably best mean introduction door programming opendoors strongly encourage try compiling running simple introduction program instruction compiling program written opendoors see page do version include  opendoorh  main odprintf  welcome first door program nr  odprintf  press key return bb nr  odgetkey true odexit false win version include  opendoorh  int winapi winmain hinstance hinstance hinstance hprevinstance lpstr lpszcmdline int ncmdshow odprintf  welcome first door program nr  odprintf  press key return bb nr  odgetkey true odexit false keep mind even simple program automatically door capability already mentioned notice line read include  opendoorh  program written opendoors must include opendoorh header file order compile correctly first two line mainwinmain function simply call opendoors odprintf  opendoors  manual end page function odprintf similar printf function c programmer already familiar however unlike printf odprintf function sends output modem local screen notice line text displayed odprintf function end  nr  sequence instead normal  n  terminal emulation software running remote user system usually requires carriage return line feed correctly begin new line next line example program opendoors singlekey input function odgetkey true value cause opendoors wait key pressed either remote local keyboard returning last line mainwinmain function call odexit program using opendoors call function time always use false parameter encouraged try compiling running program described congratulation written first door program feel free make change program see effect change simplify example separate version program shown do win version opendoors however would typically write program could compiled using either do win version opendoors beginning mainline function follows ifdef odplatwin int winapi winmain hinstance hinstance hinstance hprevinstance lpstr lpszcmdline int ncmdshow else int main int argc char argv endif case entirely familiar operation door program provide introduction internals door operation keep mind opendoors automatically carry task door program start one first thing must read door information file sometimes called  drop file  passed bb user online wish run door likely select command menu point bb system remoteaccess maximus pc board whatever create file information system currently online various bb package produce various style door information file opendoors automatically recognizes read wide variety door information file format result door able run almost bb system  opendoors  manual end page fortunately opendoors take care work involved detecting reading door information file initializing communicating serial port order carry task along setting status line opendoors provides function called odinit explicitly call function first call opendoors function first time door program output anything automatically cause odinit function called result upon first call opendoors function initialization task door automatically carried however may time want program access information user online carry action require odinit executed prior point call opendoors function case call odinit thing opendoors provides cc structure name odcontrol allows access available information user online system door running also allows adjust various opendoors parameter depending bb system door running actual information available odcontrol structure vary information odcontrol structure see section control structure beginning page door initialized begin communication user online opendoors take care communication various input display function door finished write information changed back door information file applicable finish communicating modem return bb opendoors shutdown operation automatically performed call odexit function function terminate door activity optionally hang user allowing provide either return bb logoff option exiting exit specified errorlevel one important opendoors function aware odkernel function odkernel central opendoors control function responsible much opendoor updating status line monitoring carrier detect user timeout status responding sysop function key odkernel function called automatically opendoors within opendoors function result since door program call opendoors function regular basis often need call odkernel function however door going perform action updating data  opendoors  manual end page file call opendoors function second call odkernel function information odkernel function see page information function available opendoors control structure see corresponding section manual  opendoors  manual end page tour sample door program  exvote                                         one best way see opendoors work potential look example program included opendoors package brief description program found page section take closer look one example program exvotec unlike simple example previous section exvotec much complicated program taking advantage many advanced feature opendoors even understand everything exvotec able make use various element demonstrated program opendoors package includes two compiled version exvote votedosexe plaindos program run do window o votewinexe compiled using win version opendoors run window nt opendoors package also contains sample door information file dorinfodef use file test door local mode wish manually create dorinfodef file easily dorinfodef door information file simple text file list different piece information line following format                              line number description example                              name bb bb sysop first name brian sysop last name pirie com port modem com baud rate etc baud n unused user first name john user last name public caller location ottawa ansi mode user security level user time left                              feel free make change wish exvotec recompile one effective enjoyable way learn opendoors experimenting registered owner opendoors may even distribute version door also may find exvotec serf good framework building door program exvotec door behaves similarly door program fair bit common door  opendoors  manual end page write opendoors see output window identical remote user seeing user ansi avatar rip mode turned see color screen clearing turned screen cleared status line bottom window list name user currently online using sample dorinfodef file user name  sysop  user location user baud rate door operating local mode local display also show much time user left whether user paged system operator chat information number special command available system operator local keyboard command allow system operator hang user adjust amount time user may remain online enter chat mode user enter do shell do version do version help command available status line pressing f key window version command listed menu appears top window let u take closer look actual source code exvotec door already printed copy manual possibly exvotec file well would probably good idea notice near top program along standard header file opendoorh file included file must included program written opendoors placing opendoorh file directory door compiling simply include line include  opendoorh  program main winmain function exvotec program loop repeatedly display main menu obtains choice user responds command user chooses exit program main menu displayed screen cleared calling odclrscr odclrscr function clear local remote screen user screen clearing enabled refer page information force screen cleared regardless user screen clearing setting main menu displayed using odprintf function one common opendoors function use next odgetanswer used obtain menu choice user specified set key next switch statement used respond user command appropriately user press p key  opendoors  manual end page page system operator odpage called user chooses return bb odexit called terminate opendoor activity return control bb false parameter passed odexit indicates opendoors disconnect hangup exiting user chooses log exvotec first confirms action user call odexit true parameter numerical parameter passed odexit set errorlevel opendoors exit choosequestion function exvotec us opendoors function odgetkey function similar odgetanswer function already seen however unlike odgetanswer wait user press key list possibility provide odgetkey allow user press key odgetkey accepts single parameter parameter true odgetkey wait user press key returning parameter false odgetkey return immediately value key waiting inbound buffer returning next key character waiting number place exvotec also us odinputstr function unlike odgetkey odgetanswer return single character odinputstr allows user input edit string many character receive string entered user press enter key odinputstr accepts four parameter string user input stored maximum number character input minimum character value accept maximum character value accept another new feature opendoors used exvotec opendoors control structure odcontrol global structure documented chapter manual opendoors control structure allows access wide variety information user currently online bb system program running also allows control various opendoors setting example exvotec compare current user name odcontrolodusername name system operator odcontrolodsysopname determine whether system operator using program exvotec us two data file first contains record every user second contains record every question exvotec access data file controlled manner order permit program running simultaneously multiple line multinode bb system exvotec need update data file open exclusive access one node access file  opendoors  manual end page given time since data file could changed another node since time exvotec last read file always read record make change rewrite record file open exclusive access close file soon possible opening file order permit node access file exvotec keep track question user voted along question result voting question data file format complex many door program although complex others exvotec also us color one easiest way use different color opendoors program use opendoor print colorsetting extension change color text display point odprintf format string using enclosing name new display color back quote character example odprintf  red red green greennr  would cause word  red  displayed red word  green  displayed green exvotec also take advantage number opendoors capability optionally choose include door program notice number new line beginning main function change setting opendoors control structure line odcontrolodconfigfile includeconfigfile cause opendoors configuration file system included program using system opendoors automatically read configuration file used system operator change various program setting refer included doorcfg file example opendoors configuration file addition configuration file setting automatically supported configuration file system also add configuration file setting simply supply opendoors callback function call whenever encounter unrecognized keyword configuration file line odcontrolodconfigfunction customconfigfunction cause opendoors call function customconfigfunction exvotec purpose notice customconfigfunction receives two parameter first unrecognized keyword second parameter follow keyword configuration file exvotec check two special configuration file line one set whether  opendoors  manual end page user add question one set whether user view result question voting next line main function odcontrolodmps includemps cause opendoors  multiple personality system  included program allows sysop choose number status line sysop function key  personality  mimic number different bb system using personality setting configuration file line odcontrolodlogfile includelogfile cause opendoors log file system included program opendoors log file system automatically record date time program startup exit major action specified file exvotec also writes log file entry calling odlogwrite function exvotec also provides ability sysop provide asciiansiavatarrip file displayed place normal main menu exvotec us odhotkeymenu function display voteascansavtrip file main menu file exists file available normal exvotec menu used instead odhotkeymenu function automatically select appropriate file ascansavtrip current display mode user able make menu choice time menu choice made menu entirely displayed function stop displaying menu return immediately  opendoors  manual end page example program included opendoors                                        addition exvotec program discussed detail previous section number example program included opendoors program help demonstrate possible opendoors also serve excellent tool help learn opendoors addition free include portion example program program summary example program                                        exhelloc example simple door program display short message prompt user press key user press key door exit control returned main bb software despite fact consists line code exhello remains fully functional door program information compiling opendoors door program see section begin page                                        exchatc program example multiwindow fullscreen chat door written opendoors exchat demonstrates ease using sophisticated ansi avatar rip terminal feature within opendoors program instruction compile program see section begin page program create two window screen separated bar user name sysop name information program permit communication local sysop remote user displaying text typed user one window text typed sysop window either person typing reach bottom window content window scrolled provide room typing word also wrapped either typist reach end line advantage splitscreen chat program permit sysop user type time without difficulty chat function automatically invokes opendoors internal chat mode ansi avatar rip mode available display color window size location distance scroll window content configurable setting appropriate variable sysop invokes do shell popup window displayed indicate user door program suspended chat feature program also easily integrated door write may used replace existing opendoors lineoriented chat system  opendoors  manual end page                                        exmusicc example door demonstrates play  ansi  music sound effect opendoors door included program function send  ansi  music remote system function text remote system ability play  ansi  music may use function door wish add music sound effect capability program compiled following instruction begin page                                        exskic simple addictive online game written using opendoors action game player must control skier downhill slalom course user may turn skier left right game end soon player ski outside marked course game begin easy level quickly becomes difficult course navigated becomes narrow game maintains list player high score list may viewed main menu                                        exvotec exvotec file contain source code vote example door described beginning page vote example door allows user vote different  poll  view result voting question optionally add question user answer  opendoors  manual end page                                        chapter opendoors api function overview                                        opendoors provides wide set feature take advantage program control feature access opendoors program using two facility opendoors api function opendoors control structure general api function used actually accomplish task displaying something user retrieving input user opendoors control structure hand used alter opendoors setting retrieve specific information program written opendoors make use opendoors api function doorrelated input output addition common input output task opendoors api function provide access many special capability displaying asciiansiavatarrip file providing popup window menu much much information user online information system door running setting customize opendoor behavior controlled opendoors control structure control structure described section beginning page chapter divided following section table commonly used function page ii table opendoors function page iii detailed information function page two table list name opendoors function along brief description task performed function page number detailed description function found first table list commonly used opendoors function allow quickly find function likely looking second table list opendoors function grouped according general category functionality  opendoors  manual end page section containing detailed information list function alphabetical order information function beginning new page section includes brief description function purpose detailed description use function function call format list related function many case example source code showing typical use function table commonly used function                                        odprintf display text ability change display color page odclrscr clear screen page odinputstr input string one character user page odgetanswer input single key list possible choice ignoring upperlower case page odgetkey input single key user page odsetcursor position cursor ansiavatarrip mode page odhotkeymenu display asciiansiavatarrip file option watching keypress user page odpopupmenu display popup menu ansiavatarrip mode page odwindowcreate creates popup window ansiavatarrip mode page odwindowremove remove popup window restoring screen content  underneath  window page  opendoors  manual end page table function                                        output text display function function            oddispstr display normal nullterminated string page oddisp sends specified number character modem without local echo page odprintf performs formatted output printf function also allows imbedded code change display color page odputch display single character page oddispemu display string interpreting imbedded ansiavatar terminal emulation code page odrepeat display character number time using avatar optimization possible page color cursor control             odsetcolor set current color specified foreground background setting page odsetattrib set current color specified ibmpc display attribute page odsetcursor set position cursor ansiavatarrip mode enabled page screen manipulation          odclrscr clear screen user screen clearing enabled page odsavescreen store current content screen later redisplayed using odrestorescreen work display mode page odrestorescreen restores content screen previously stored using  opendoors  manual end page odsavescreen work display mode page block manipulation          odclrline clear remainder current line page odgettext store area screen later displayed odputtext requires ansiavatarrip graphic mode page odputtext display text color information previously stored using odgettext requires ansiavatarrip graphic mode page odscroll scroll portion screen ansiavatarrip graphic mode page popup window menu            oddrawbox draw box screen ansiavatarrip graphic mode page odwindowcreate display popup window storing screen content   window requires ansiavatarrip graphic mode page odwindowremove remove popup window displayed odwindowcreate restoring original screen content   window requires ansiavatarrip graphic mode page odpopupmenu display menu popup window allowing user choose menu item either pressing  hot  key moving highlighted selection bar menu selection menu may removed restoring original screen content   window requires ansiavatarrip graphic mode page  opendoors  manual end page file display function            odsendfile display asciiansiavatarrip file instance an file created program  thedraw  page odhotkeymenu display asciiansiavatarrip menu file hotkeys active page odlistfiles list file available download area using filesbbs file page                                        input odgetanswer input single key keyboard function allowing particular response page odgetinput flexible version odgetkey also support extended key arrow key insert etc page odgetkey input single key keyboard optionally waiting key available page odinputstr input string specified length keyboard page odeditstr formatted string editing function requiring ansiavatarrip graphic page odmultilineedit provides text editor allows user enter edit text span multiple line email message text file page odclearkeybuffer remove waiting key keyboard input queue page                                        common odpage allows user page sysop door page activity function odspawn opendoors  quick  spawn function executes external program eg file compressor external protocol etc  opendoors  manual end page separate screen restoring opendoors screen afterwards page odspawnvpe opendoors fullfeatured spawn function executes external program separate screen searching path program allowing specify environment pas child process returning errorlevel returned child process page odlogwrite add entry end log file page odparsecmdline handle standard command line option page                                        special odinit begin door operation setting control opendoors control structure function setting local screen initializing serial port applicable reading door information file page odcolorconfig transfer color configuration line color attribute value page odaddpersonality add custom status linecontrol key personality opendoors page odsetstatusline temporarily alters setting current opendoors status line page odautodetect automatically determines remote terminal software graphical capability page odkernel central opendoors control function executed every second page odexit end door operation closing serial port driver rewriting door information file optionally returning control bb page  opendoors  manual end page odcarrier allows detection carrier signal program disabled opendoors internal checking page odsetdtr control dtr signal modem used manually disconnect remote user order perform activity call back verification page odchat force opendoors enter chat mode even sysop press  chat  key page odsleep suspends program execution yielding control task multitasking environment page  opendoors  manual end page odaddpersonality                                        purpose installs custom status line sysop function key personality opendoors format bool odaddpersonality char pszname byte btoutputtop byte btoutputbottom odpersonalityproc pfperfunc return true success false failure description used function called opendoors api function function installs new personality opendoors first parameter specifies string used identify personality string user able supply configuration file select personality also string passed odsetpersonality manually switch personality second third parameter specify based bottom line number output window used personality instance top value bottom value would cause door output displayed first line screen leaving bottom two line use personality status line last parameter pointer personality function opendoors call perform various operation involve personality information personality opendoors multiple personality system see section begin page function effect do version opendoors see also odsetpersonality odsetstatusline  opendoors  manual end page odautodetect                                        purpose attempt automatically determine terminal capability remote system format void odautodetect int nflags return na description function used determine whether remote terminal support ansi andor rip remote imaging protocol graphic mode information usually supplied door bb software door information file reason door program need make used function however door running bb software report ansi rip capability remote system may wish use function odautodetect set either following opendoors control structure variable true corresponding graphic mode detected odcontroluseransi true ansi mode available odcontroluserrip true rip mode available however either variable previously set true either explicitly program due corresponding mode enabled door information file odautodetect detect corresponding graphic mode set false terminal software support ansi rip graphic mode necessarily ability report graphic mode capability door reason failure detect either mode necessarily indicate available however mode detected odautodetect safe assume remote system support detected mode nflags parameter reserved future use always set detectnormal function autodetect avatar mode standard mean determining whether remote system support avatar mode example example using odautodetect determining remote terminal graphic capability since terminal software support autodetection example also prompt  opendoors  manual end page user determine software capability odautodetect fails detect ansi mode code assumes terminal software support autodetection ansi mode also support autodetection rip mode opendoors assumes ansi mode always available conjunction rip mode  call automatic terminal detection function  odautodetect  ansi mode detected ask user odcontroluseransi  prompt user ansi capability  odclrscr odprintf  system support ansi graphic  odprintf  yn   user chooses e  odgetanswer  yn    turn ansi mode  odcontroluseransi true  since ansi mode present rip mode may also   available prompt user rip  odprintf  rnn  odprintf  system support rip graphic  odprintf  yn   user chooses e  odgetanswer  yn    turn rip mode  odcontroluserrip true  since ansi mode present avatar mode may   also available prompt user avatar  odprintf  rnn  odprintf  system support avatar  odprintf  graphic yn   user chooses e  odgetanswer  yn    turn avatar mode  odcontroluseravatar true odprintf  rnn   opendoors  manual end page odchat                                        purpose manually invokes sysop chat mode format void odchat void return na description normally opendoors sysop chat mode invoked sysop explicitly request using sysop chat key however may case wish manually invoke sysop chat mode one example replacing opendoors builtin chat mode still wish use opendoors chat mode circumstance instance may wish use split screen chat routine ansi avatar rip graphic mode available use opendoors lineoriented chat mode ascii mode available see also odpage example example using odchat function see exchatc example door described page  opendoors  manual end page odcarrier                                        purpose determine status carrier detect signal program opendoors internal carrier detection disabled format bool odcarrier void return true carrier present false carrier present local mode description usually use odcarrier function opendoors automatically monitor carrier detect signal correctly recover carrier detect signal lost door operating remote mode however program may wish disable opendoors internal carrier detection routine using odcontroloddisable variable two case might want callback verification door disconnect user attempt call back terminal program fact door would want opendoors exit carrier detect signal lost case like able use odcarrier function order determine state carrier detect signal function return boolean value information boolean value see glossary begin page either true false carrier detect signal present function called return true carrier detect signal detected return false since remote connection thus carrier opendoors operating local mode function always return value false local mode see also odsetdtr example example use function let u consider call back verification door hang user call user back entered phone number order verify correctness number program would probably contain function responsible disconnecting user waiting connection broken phoning user point function likely prior point function hang  opendoors  manual end page user would disable opendoors internal carrier detection using line odcontroloddisable  discarrierdetect would want piece code would simply wait given amount time carrier signal drop occurs would continue place call occur would probably try hangup procedure one two time example function return value false carrier signal drop return value true char hangup void clockt timer char toreturn false odsetdtr false  hangup modem   wait sec  timer clock clockspersec timer clock  carrier lost return success  odcarrier toreturn true break odsetdtr true  reenable dtr signal  return toreturn  opendoors  manual end page odclearkeybuffer                                        purpose function clear input keyboard buffer format void odclearkeybuffer void return na description opendoors maintains keyboard input buffer order permit user  type ahead  send input door prior time ready process key press example user could begin type command menu still displayed door reach point inputting menu command character already typed user already waiting opendoors input function note keyboard input buffer include key hit user online nonfunction key ie altc appear opendoors keyboard buffer hit sysop allows user online sysop control door time sysop wish temporarily prevent user control door sysop may use altk userkeyboard key key stroke placed opendoors typeahead buffer retrieved odgetkey odinputstr function keyboard buffer contain maximum user keystroke version opendoors additional keystroke simply discarded opendoors time however want erase key hit user prevent typing ahead example door busy processing moment user may pressing key keyboard perhaps hope speed thing key waiting typeahead buffer one key user entered valid response next prompt door user may find accidentally made choice wish well designed door simply erase content type ahead buffer long period internal processing etc keep mind much use odclearkeybuffer function undesirable using time presence keyboard buffer prove useful user door erase content typeahead buffer simply call odclearkeybuffer function function take parameter return value  opendoors  manual end page see also odgetkey odinputstr odeditstr example one example use odclearkeybuffer function see example program exvotec described beginning page another example using function case present simple function waitforreturn simply pause user press enter return key function begin displaying prompt asking enter return key pressed function clear keyboard input buffer wait user press carriage return key using odgetkey function note also function continue user pressed correct key good idea door program allows door distinguish character pressed user  line noise  character void waitforreturn void  display prompt  oddispstr  please press enter continue  nr  odclearkeybuffer  clear keyboard buffer  odgetkey true  wait enter key   opendoors  manual end page odclrline                                        purpose clear rest current display line format void odclrline void return na description function clear line cursor cursor position end line rest line cleared cursor automatically returned position prior issuing command hence display line cursor located looked follows underscore character representing cursor position aline text cursor word    line  odclrline command issued line would appear follows cursor directly following word   note function place space character cursor location every location end line door running plain ascii mode command simply clear rest line manually sending series space backspace character ansi avatar rip mode active corresponding ansiavatar control sequence sent order accomplish line clear since graphic mode sequence much shorter sequence would required clear line manually use function cause door graphic display much quickly ansi avatar rip mode active also note ansi avatar rip graphic mode line cleared currently selected color attribute thus wanted place blue background particular line would use odsetcolor odsetattrib function use odsetcursor function locate cursor beginning desired line followed odclrline function procedure demonstrated example see also odclrscr odsetcursor  opendoors  manual end page example example function clear entire line specified color since function performs operation require ansi avatar rip graphic mode used case mode known available example function would useful fullscreen editor viewer performing ansi animation function accepts three parameter line cleared first line second foreground color line background color line function differs odclrline function several important manner first function clear entire line whereas odclrline function used clear remaining character line particular location also mentioned function selects color clear line move cursor line cleared neither done odclrline function void clearline char linenumber char foreground char background odsetcursor linenumber  move correct line  odsetcolor foreground background  set color  odclrline  clear entire line   opendoors  manual end page odclrscr                                        purpose opendoors clear screen function format void odclrscr void return na description odclrscr function used clear output screen ie user screen local screen exception status line cleared function clear screen screen clearing enabled program running bb system pas user screen clearing setting door may wish determine whether user system support screen clearing code first time user us door able store setting data file example demonstrates detect whether user system support screen clearing note ability user terminal support screen clearing code independent user ansi avatar rip graphic mode setting information user screen clearing setting please refer userattrib variable opendoors control structure chapter manual wish force screen clear regardless user screen clearing setting simply use function call oddispemu  xc  true see also odclrline example example function determines whether user system support screen clearing function return value true screen clearing supported return value false screen clearing supported int usersupportsscreenclearing void char answer  display instruction user  oddispstr  order door functionnr  oddispstr  correctly must know whether notnr   opendoors  manual end page oddispstr  system support screen clearingnr  oddispstr  moment attempt clearnr  oddispstr  screen order test systemsnr  oddispstr  capabilitiesnrnr  oddispstr  please press enter return younr  oddispstr  ready perform testnr  odgetkey true   wait return key  odclrscr  attempt clear screen   ask user screen cleared  oddispstr  screen clear yn nr   loop user chooses e n  answerodgetkey true  get user answer  answer  answer return true answer n  answer n return false  opendoors  manual end page odcolorconfig                                        purpose par color configuration line configuration file generating color attribute value format byte odcolorconfig char pszcolordesc return color attribute value description function use using configuration file system opendoors wish allow sysop specify text color used door opendoors automatically recognizes color configuration setting thing sysop chat mode filesbbs listing may wish add additional color configuration option case could call odcolorconfig function custom line function information custom line function see section opendoors configuration file system begin page use function simply pas configuration file line wish parsed function single parameter function return color attribute value format used odsetattrib function color specified using string format flashing bright foreground background  flashing  optional keyword indicating text flashing  bright  optional keyword indicating foreground color bright foreground name foreground color background name background color case upper lower significant color keywords language configurable using array odcontrolodcolornames example see example accompanying section opendoors configuration file system begin page  opendoors  manual end page oddisp                                        purpose sends buffer text optional local echo format void oddisp char pachbuffer int nsize bool blocalecho return na description function allows send buffer text specified length option enabling disabling local echo probably little use function instead likely display string using either oddispstr odprintf function depending whether wish use printf formatting option breakdown us various opendoors display function see description oddispstr function page two case function come useful wish display buffer character known length may contain null ascii character since character used c language indicate end string two string display function oddispstr odprintf send character remote system wish send text remote system without displayed local screen wish send string modem command mode without character displayed local screen oddisp function called three parameter first parameter pachbuffer pointer buffer character wish displayed second parameter nsize simply number character buffer displayed third parameter blocalecho set true character sent modem also displayed local screen third parameter set false buffer sent modem without echoed sysop screen see also oddispstr odprintf odputch odrepeat oddispemu  opendoors  manual end page example following example use oddisp function order display single character contained variable  character  without echo local screen oddisp character false order send command modem know modem command mode command contained nullterminated string  string  oddisp string strlen string false order send exactly character buffer  buffer  echo local screen oddisp buffer true  opendoors  manual end page oddispemu                                        purpose display string ansiavatar terminal emulation format void oddispemu char psztodisplay bool bremoteecho return na description oddispemu function allows display ansi avatar graphic sequence function pass character wish display opendoors terminal emulator fully documented description odsendfile function page function used send control sequence user terminal also displayed local screen appear user string passed oddispemu contains stream text display may include normal text terminal emulation control sequence bremoteecho parameter set true string passed oddispemu sent remote terminal addition displayed locally parameter set false string displayed locally note wish display entire file containing ansiavatarrip graphic sequence perhaps program menu title screen use odsendfile function see also odsendfile oddisp oddispstr odprintf breakdown us various opendoors display function see oddispstr function page example example use oddispemu function see spaceright moveleft function included example program exskic  opendoors  manual end page oddispstr                                        purpose display string screen remote local format oddispstr char psztodisplay return na description two function often used displaying string within door oddispstr odprintf function odprintf function allows formatted output whereas oddispstr function simply display actual content string passed wish display single character use odputch function wish send string buffer modem without local echo use oddisp function wish send sequence character modem odrepeat function use graphic control code available display sequence much faster simply sending character repetition also wish send ansi avatar rip graphic control code emulated local screen use oddispemu function oddispstr function display content null terminated string pointed string display sent local screen modem presuming door running local mode important thing keep mind using oddispstr function use  nr  instead simply  n  new line due fact terminal program usually require carriagereturn linefeed sequence nr instead linefeed n example instead using oddispstr  hello world n  use oddispstr  hello world nr  change cursor color location output oddispstr function refer odsetcursor odsetattrib function see also oddisp odprintf odputch odrepeat oddispemu  opendoors  manual end page example example various us oddispstr function displaying three string constant separate line oddispstr  examplenr  oddispstr  opendoorsnr  oddispstr  oddispstr functionnr  displaying three string constant line oddispstr  another  oddispstr  oddispstr  oddispstr  examplenr  displaying string variable char string strcpy string  string nr  oddispstr string  opendoors  manual end page oddrawbox                                        purpose draw box screen ansi avatar rip graphic mode format bool oddrawbox byte btleft byte bttop byte btright byte btbottom return true success false failure description function use ansi avatar rip graphic mode function draw box current display attribute specified location screen boarder box made character specified odcontrol odboxchars array avatar graphic mode available function us avatar control code display box le  length time required display box ansi mode first two parameter function btleft bttop specify coordinate top lefthand corner box draw third fourth parameter btright btbottom specify coordinate bottom lefthand corner box like value passed odsetcursor function coordinate relative upper lefthand corner screen position  corner mentioned function display window current text color thus calling function use either odsetcolor odsetattrib function specify color would like window displayed normally boarder window displayed using ibm extended ascii character produce single line boarder however may wish boarder displayed using different character case character used display boarder specified odcontrol odboxchars variable described opendoors control structure section manual see also odsetcolor odsetattrib odclrscr odeditstr odsetcursor example example use oddrawbox function conjunction odeditstr function show portion program display window allows user input name file would like upload  opendoors  manual end page description file whether want private upload user able move among field using tab key select  continue  button finished function return true user selects continue false user press escape  main  dialog box  function int getinformation char filename char description char private char currentfield  currently selected field int choice  user choice odsetcolor lwhite dblue  display window oddrawbox  odsetcursor   display window title odsetcolor lgreen dblue oddispstr  enter filename information  odsetcolor lcyan dblue  display field title odsetcursor  oddispstr  filename  odrepeat  odsetcursor  oddispstr  description  odrepeat  odsetcursor  oddispstr  private  odrepeat  drawbutton filename   blank content input variable description  private   main dialog box loop currentfield  field button odsetcolor lgreen dblue  highlight button drawbutton  loop user press tab enter esc choiceodgetkey true choice  choice  choice  odsetcolor lcyan dblue  unhighlight button drawbutton choice return true  enter pressed  opendoors  manual end page choice return false  esc pressed currentfield  otherwise tab pressed switch currentfield  according selected field  input appropriate line case choiceodeditstr filename  ffffffffffff   xbxa editflageditstring editflagallowcancel editflagfieldmode editflagkeepblank break case choiceodeditstr description    xbxa editflageditstring editflagallowcancel editflagfieldmode editflagkeepblank break case choiceodeditstr private    xbxa editflageditstring editflagallowcancel editflagfieldmode  user pressed escape choiceeditreturncancel return false  user choice go previous field choiceeditreturnprevious currentfield  first field currentfield  go last field else  first field  currentfield  go previous field else  user chose next field currentfield  go next field void drawbutton void  function display button oddrawbox   draw box button odsetcursor  oddispstr  continue   display text button  opendoors  manual end page odeditstr                                        purpose allows perform formatted input full line editing feature etc ansiavatarrip graphic mode format word odeditstr char pszinput char pszformat int nrow int ncolumn byte btnormalcolor byte bthighlightcolor char chblank word nflags return function return one following value editreturnerror indicates error occurred edit function unable run occur error one parameter ansiavatarrip graphic available editreturncancel indicates user pressed cancel key esc string left unaltered editreturnaccept indicates user pressed accept key enter auto enter feature activated editreturnprevious indicates user wish move previous field pressing arrow shift tab etc editreturnnext indicates user wish move next field pressing arrow tab etc description perform string input within opendoors one two function used odinputstr odeditstr first function odinputstr allows simple line input editing used ascii ansi avatar rip mode second function odeditstr allows many formatted input option advanced line editing feature requires use ansi avatar rip terminal mode mentioned odeditstr function allows advanced line editing inputting deleting text middle string whereas odinputstr function allows editing end string backspacing erase mistake edit function available odeditstr listed note  opendoors  manual end page function may may available depending upon capability user terminal program single standard used transmission special edit key arrow key odeditstr function make much effort possible make edit feature available terminal program many edit function access using either control key combination special key arrow key delete key opendoors recognize special control key sent either ansi control sequence sent terminal program doorway style scan code ascii code sequence also available many terminal program usually required odeditstr edit function follows note edit function always available local keyboard home move cursor beginning line edited press home key either doorway mode local keyboard end move cursor end line edited press end key either doorway mode local keyboard delete character deletes character cursor press delete local keyboard doorway mode many terminal program without doorway mode alternatively press control g backspace deletes character left cursor press backspace control h toggle insert mode switch odeditstr function insert mode overwrite mode press insert either doorway mode local keyboard alternatively press control v cursor left move cursor left one character press left arrow local keyboard doorway mode many terminal program without doorway mode alternatively press control cursor right move cursor right one character press right arrow local keyboard doorway mode many terminal program without doorway mode alternatively press control erase entire line press control accept input press enter return line accept input alternatively press control z note key work current input  opendoors  manual end page  valid  ie conforms format string described cancel input available specifically enabled odeditstr command line press escape next field enabled allows user move next field dialog box form press arrow doorway mode many terminal program without doorway mode alternatively press tab note arrow key usually available local keyboard usually used adjust user remaining time previous field enabled allows user move previous field dialog box form press arrow doorway mode many terminal program without doorway mode alternatively press shift tab local keyboard doorway mode note arrow key usually available local keyboard usually used adjust user remaining time let u look parameter odeditstr function accepts first parameter pszinput pointer string user input stored important string long enough accommodate longest input format string permit including  c string terminator ie string one character greater length format string including format string  character second parameter pszformat pointer string specifies format maximum length input odeditstr function accept using format string specify length input field also force user input certain format example wished input north american style phone number could use format string   regardless whether user typed dash character input would converted type format phone number  could also specify format string  mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm  would permit user enter name character note since cursor moved position immediately following last character input field character string occupy column screen odeditstr function would automatically capitalize name first character word capitalized remain character word lower case even user move cursor middle string  opendoors  manual end page entered add delete space thus either make one work two two word one odeditstr would format string reflect change valid character format sting along meaning listed note format string case sensitive except literal string delimited    character space character added point increase legibility indicates numeric character valid position indicates numeric character space character valid position indicates numeric character along   valid position format style intended floatingpoint numeric input indicates character valid position indicates printable character ascii ascii valid position indicates alphabetical character z z space valid position c indicates city name character valid position format character word automatically capitalized first letter upper case subsequent letter lower case addition permitting alphabetical character space character character also accepted position indicates date character   valid position f indicates msdos filename character valid position h indicates hexidecimal character f f valid position l indicates lower case alphabetical character z space character valid position however user attempt enter upper case alphabetical character position automatically converted lower case equivalent indicates name character valid position character alphabetical character  opendoors  manual end page z z space character character case converted first character word upper case letter lower case indicates telephone number character  valid position u indicates upper case alphabetical character z space character valid position however user attempt enter lower case alphabetical character position automatically converted upper case equivalent w indicates msdos filename character permitted position including  wildcard character x indicates alphanumeric character z z valid position indicates yesno character n n valid position character automatically converted upper case   single double quote used specify sequence character appear location input string referred elsewhere  literal string  user entering string character automatically supplied user required type literal string must begin end quote character remember double quote  character must imbedded c string preceding quote character backslash character third fourth parameter nrow ncolumn specify location screen first left character input field located parameter identical nrow ncolumn parameter passed odsetcursor function word nrow specifies line number screen first line ncolumn specifies column across screen first column fifth sixth parameter btnormalcolor bthighlightcolor allow specify color input field fifth parameter btnormalcolor specifies color input field input taking place sixth parameter bthighlightcolor specifies color field input taking place thus several input field screen one time would able make easier user identify currently active field  opendoors  manual end page field currently accepting input highlighted color distinct field odeditstr function begin change current color field normal color highlighted color odeditstr function exit change current color field back normal color wish field highlighted set parameter value disable field redrawing using eighth parameter flag seventh parameter accepted odeditstr function chblank serve one two purpose normally parameter specify background character display unfilled portion end input field set character ascii grey block character produce visual background field show user visually long field many character permitted type field normally field displayed input removed odeditstr function exit however may cause background remain place using eighth parameter flag wish  background  visual field effect simply set character parameter space ascii password input mode parameter instead specify character display place character typed user case background display character default space ascii character eighth last parameter accepted odeditstr function nflags parameter parameter bitmapped flag variable allows control special feature odeditstr function one setting may specified listing chain value separated bitwiseor operator wish turn mode simply pas editflagnormal value flag parameter editflagnormal default setting use value none flag active editflagnoredraw set prevents odeditstr function redrawing input string field start exit set flag normal color highlight color contain value background character character parameter space ascii character must draw field background prior calling odeditstr also calling odeditstr editflageditstring flag set must display existing string field prior calling odeditstr  opendoors  manual end page editflagfieldmode setting flag specifies odeditstr operate field input mode field input mode user may finish entering input pressing previous field next field button arrow key tab key etc described user chooses finish accept input pressing one key odeditstr return value reflect choice made allow make possible user move number input field form dialog box demonstrated example accompanying oddrawbox function editflageditstring setting flag specifies odeditstr edit preexisting string instead starting blank string case inputstring parameter must point initialized string string may either contain text empty odeditstr expect find string terminator  character begin editing content string prior character set editflageditstring flag previous content inputstring parameter significant odeditstr automatically start blank string editflagstrictinput setting flag cause odeditstr function operate  strict  input mode may desirable input format contains one type input normally inputting string user would able move middle string insert text would cause rest input line shift right however case format string specifies different type character permitted different position cause input changed longer conforms format string case user input longer valid user able exit function pressing enter although escape still available activated change input however strict input mode turned odeditstr restrict way user permitted edit string prevent case occurring editflagpasswordmode setting flag cause odeditstr function operate  password  mode password mode character typed user hidden displayed instead blank character specified  character  parameter  opendoors  manual end page editflagallowcancel flag set user able cancel current input abort editing process pressing escape key change made input field canceled replaced original content string odeditstr function exit indicating user canceled input editflagfillstring set flag force user enter string fill entire length format string normally user able enter string length maximum length specified format string however case inputting date want input field filled otherwise user would able enter first part date editflagautoenter set flag cause odeditstr function automatically simulate pressing enter key string filled used cause odeditstr function finish inputting soon valid string entered instead wait user press enter return editflagautodelete set along editflageditstring flag flag activate autodelete feature odeditstr function autodelete active first key pressed user edit control key existing text automatically deleted totally new string accepted user could useful allowing user go back edit previous input user wish change part old string move cursor location wish make change perform editing however user wish completely replace old string new one simply begin type old string automatically deleted new string accepted editflagkeepblank normally opendoors display input field background passed  character  parameter user editing string remove odeditstr function exit however may wish continue field displayed input taken place odeditstr function exited case setting flag cause background character remain visible input finished  opendoors  manual end page editflagpermaliteral format string contains literal character forcing character added time input using format string   odeditstr function operate one two mode default mode literal character displayed automatically added string instance inputting current time using format string mode would result input field initially blank user type first digit time number would appear user type second digit time number appear colon character automatically added opendoors however also set odeditstr function operate  permaliteral  mode setting flag editflagpermaliteral flag set input field initially contain literal character ie colon example cursor still located leftmost position input field mode literal character become permanent part input field moved deleted user instead cursor simply skip literal character position editflagleaveblank flag applies special case first character character format string literal default odeditstr function always return string containing least first literal character however alter behavior setting flag set nonliteral character entered string odeditstr return empty string editflagshowsize normally odedit add extra blank end input field give cursor space move field full however may prefer input field shown exactly maximum size input permitted setting editflagshowsize case cursor positioned immediately past end input field maximum number character entered see also odinputstr odgetchar odclearkeybuffer example several example typical us odeditstr function sake simplicity example perform input beginning top left hand corner screen store user input string variable  opendoors  manual end page named  string  example user odeditstr function dialogbox form entry application see example accompanying oddrawbox function input name maximum character first letter word automatically capitalized odeditstr string  mmmmmmmmmmmmmmmmmmmmmmmmm  x x editflagnormal input north american style phone number requiring digit filled running  strict input  mode odeditstr string     x x editflagfillstring editflagstrictinput allow user edit previously entered character string autodelete mode character permitted string remember editflageditstring flag set string must initialized prior calling odeditstr function odeditstr string   x x editflageditstring editflagautodelete input password character user password permitted contain upper case character odeditstr password mode used small block displayed place character typed odeditstr string  uuuuuuuuuuuuuuuu  x x editflagpasswordmode input twodigit number user requiring digit filled automatically accepting input two digit entered requiring user press enter odeditstr string   x x editflagfillstring editflagautoenter input filename download field dialog box filename permitted contain valid filename character odinputstr function operate field mode cancel escape key enabled also string  opendoors  manual end page edit mode enabled allowing user edit previously entered line editflagkeepblank flag set causing field background remain displayed user exit time however autodelete mode used note combination parameter expects field content already displayed prior calling odeditstr function odeditstr string  wwwwwwwwwwww  x x editflageditstring editflagfieldmode editflagallowcancel editflagkeepblank input string without field background line redrawing input take place odeditstr string    x x editflagnoredraw input date using permaliteral mode month entered three digit short form  jan   feb  etc literal character    permanent part input field odeditstr string  uuu   x x editflagpermaliteral editflagfillstring  opendoors  manual end page odexit                                        purpose opendoors program termination function format void odexit int nerrorlevel bool btermcall return na description must use function want program exit function close serial port rewrite changed information door information drop call endof program function exit errorlevel specified first parameter also second parameter btermcall set true odexit also log user option logging within door shown example accomplished lowering dtr line modem causing modem hangup control returned bb detect user longer online carry logoff processing wish program always perform activity prior exiting updating closing data file set function executed within odexit function accomplished using odcontrol odbeforeexit variable described section opendoors control structure chapter use variable allow program always carry activates even opendoors decides call odexit function user hang door note special case may use odcontroloddisable variable prevent odexit function rewriting door information file also may use odcontrolodnoexit variable shutdown door operation without actually exiting program variable described chapter see also odinit example example demonstrates function door could execute user chooses exit door function ask user whether wish exit door return bb simply logoff bb continue using door example function call odexit user  opendoors  manual end page wish exit door return control function called user wish exit void goodbye void char pressed  display choice user  oddispstr  chosen exit doornr  oddispstr  wish nr  oddispstr  r eturn bbsnr  oddispstr  l ogoff bbsnr  oddispstr  c ontinue using doornr   loop user make valid choice  pressedodgetkey true  get key user   user selects r exit without hanging  pressed r  pressed r odexit false  user selects l hangup exit  pressed l  pressed l odexit true  user selects c return allow door continue  pressed c  pressed c return  opendoors  manual end page odgetanswer                                        purpose function allow user respond prompt using certain key format char odgetanswer char pszoptions return character user entered description function used get response user particular response accepted parameter odgetanswer function simply string listing valid response function wait user selects one valid response return response function case insensitive return character case supplied string see also odgetkey odhotkeymenu example odgetanswer  yn  user press return odgetanswer  yn  user press return odgetanswer  abc nrz  valid response b c space enter z  opendoors  manual end page odgetinput                                        purpose function allows single input event eg keystroke retrieved optionally translating extended key sequence arrow key insert key format bool odgetinput todinputevent pinputevent todmillisec timetowait word wflags return true success false input event retrieved description like odgetkey odgetinput used retrieve single key input user however odgetinput designed easily extended future version opendoors information retrieved new function placed structure contains information whether input event generated remote user local console type input event function also builtin ability recognize translate multiple character sequence generated user press extended key arrow key insert delete etc first parameter point todinputevent structure defined follows typedef struct todinputeventtype eventtype bool bfromremote char chkeypress todinputevent odgetinput successfully retrieves input event structure filled information input eventtype member either eventcharacter indicating single character keystroke eventextendedkey indicating extended key arrow key case eventcharacter chkeypress set character received case eventextendedkey chkeypress set one following value  opendoors  manual end page                               chkeypress value meaning control key alternative                               odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyf f none odkeyup arrow ctrl e odkeydown arrow ctrl x odkeyleft left arrow ctrl odkeyright right arrow ctrl odkeyinsert insert ctrl v odkeydelete delete ctrl g odkeyhome home none odkeyend end none odkeypgup page none odkeypgdn page none odkeyshifttab shift tab none                               bfromremote member todinputevent structure set true input event originated remote system false event originated local system second parameter timetowait specifies long function wait input returning millisecond value cause function return immediately input waiting opendoor internal input buffer equivalent value false passed odgetkey function value odnotimeout cause function wait return next input event received equivalent value true passed odgetkey function value specifies maximum number millisecond odgetinput wait input input received time elapses odgetkey return immediately value true todinputevent structure fill accordingly input received time elapses odgetkey return false number millisecond wait rounded nearest millisecond do version opendoors third parameter allows specify flag control behavior odgetinput normally parameter set getinnormal however disable translation extended keystroke setting value getinraw mode odgetinput work like  opendoors  manual end page odgetkey returning every individual character received remote system since extended key directly supported terminal program odgetinput provides alternative extended key form controlkey combination control key combination recognized odgetinput listed table however control key alternative ignored setting getinrawctrl flag odgetinput function used internally odpopupmenu odeditstr odmultilineedit see also odgetkey odclearkeybuffer example following example show structure odgetinput might used program todinputevent inputevent odgetinput inputevent odnotimeout getinnormal inputeventeventtype  eventextendedkey switch inputeventchkeypress case odkeyup  arrow key pressed  break case odkeydown  arrow key pressed  break else inputeventeventtype  eventcharacter  single character key pressed   stored inputeventchkeypress   opendoors  manual end page odgetkey                                        purpose function input key user format char odgetkey bool bwait return next key waiting keyboard none description function retrieves next key waiting opendoors keyboard buffer see description odclearkeybuffer function page information opendoors keyboard buffer odgetkey function allows door retrieve keystroke pressed user keystroke pressed sysop keyboard sysop function key sequence pressed since input accepted source possible sysop well remote user make selection control door door input opendoors accomplished function odinputstr function odeditstr function odinputstr odeditstr function used input entire sequence character user string requires user press enter key finished typing input hand odgetkey function used input single keystroke one character user allows user make choice without press enter key odgetkey function accepts single parameter determines whether wait user press key already done pas false value odgetkey function wait key pressed keyboard instead return key waiting buffer pas true value odgetkey function instead wait key pressed also waiting user press key odgetkey function give processor waiting program door running desqview waiting user make choice menu list option likely pas true odgetkey function indicating wish wait key pressed however wish continue processing key yet available keyboard pas false odgetkey function example displaying screen text wish allow user pause abort display would simply call  opendoors  manual end page odgetkey function every moment passing value false would able check control key pressed continue displaying text odgetkey function return ascii value representing keystroke made waiting user make particular choice perhaps menu likely store value returned odgetkey variable type char example char key  keyodgetkey true would able determine key user pressed testing value key either comparing numerical ascii value comparing character constant testing noncharacter key escape tab return may wish use ascii value key example wished take action case user press enter return key ascii value could keyodgetkey true  get keypress user  key  key enter return    whatever want  wish instead respond user pressing character key perhaps choice menu using character constant c f also testing alphabetical character probably want check user pressing either upper lower case version letter example wished user press key continue could test either upper lowercase follows keyodgetkey true  get keypress user  key  key  key    whatever want  chart following page list decimal value corresponding keystroke ascii value  opendoors  manual end page ascii keystroke ascii keystroke                               control control control control p control b control q control c control r control control control e control control f control u control g control v control h backspace control w control tab control x control j control control k control z control l escape control enter return spacebar control n ascii keystroke ascii keystroke ascii keystroke ascii keystroke                         p h  q r j k  l u   v n w x p  b q  c z r  e  f u  g  v h w x j b k c z l e  n f g  delete  opendoors  manual end page see also odgetinput odinputstr odeditstr odclearkeybuffer example example use odgetkey function see example description portion example odexit odclearkeybuffer function example function see example program exvotec described section beginning page  opendoors  manual end page odgettext                                        purpose store rectangular region screen array later redrawn using odputtext requires ansi avatar rip mode format bool odgettext int nleft int ntop int nright int nbottom void pblock return true success false failure description function store content text color information rectangular portion screen denoted variable nleft ntop nright nbottom buffer pointed pblock saved portion screen may restored using odputtext buffer must large enough store two byte every character specified rectangle word required size buffer byte length width parameter nleft nright column number parameter ntop nbottom row number function effect current text color cursor position ansi avatar rip mode required function wish save restore entire screen may use odsavescreen odrestorescreen function used display mode function fails reason value false returned odcontroloderror variable set indicate reason failure information odcontroloderror variable see page see also odputtext odsavescreen odrestorescreen odscroll odwindowcreate odwindowremove  opendoors  manual end page odhotkeymenu                                        purpose function display menu file hotkeys format char odhotkeymenu char pszfilename char pszhotkeys bool bwait return key pressed response menu  none description function used display menu ascii ansi avatar rip file allowing user select option time menu displayed odhotkeymenu function quite similar odsendfile function probably familiarize function going use odhotkeymenu like odsendfile odhotkeymenu display file specified pszfilename using appropriate terminal emulation extension provided filename opendoors automatically search matching file ending asc an avt extension opendoors select appropriate file display based available file available terminal emulation second parameter pszhotkeys string specifying valid response menu format string passed odgetanswer function character listed string pressed either uppercase lowercase version opendoors immediately stop displaying menu return value key pressed case upper lower returned always identical case used hotkeys string include enter key valid hot key including n character hotkey string third parameter passed odhotkeymenu bwait specifies whether opendoors wait displaying menu user make valid selection menu true exit immediately false normally want use true value calling function allow use single function call display menu always return user selection wish gain control soon opendoors displayed menu may specify false parameter case user press valid hot key menu sent function return character  see also odsendfile odgetanswer  opendoors  manual end page example example use odhotkeymenu function consider following code fragment  main program loop   display menu get user choice  char choiceodhotkeymenu  mainmenu   q  true  switch choice  perform appropriate action  case odprintf  selected onenr  break case odprintf  selected twonr  break case odprintf  selected threenr  break case q odexit false example main menu loop simple door us odhotkeymenu function program continue executing loop user chooses exit door iteration loop odhotkeymenu function called display door menu file mainmenua appropriate ascansavt file chosen displayed menu possible choice may made menu specified string  q  thus whenever user press one key q odhotkeymenu function return immediately value key pressed menu still displayed time key pressed menu display cease moment program executes case statement respond user key appropriately user press door output simple message screen user press q key door pas control back bb  opendoors  manual end page odinit                                        purpose initialize opendoors activity format void odinit void return na description function initializes opendoors function must called manually wish access data user etc call opendoors function however explicitly call odinit function called automatically first call opendoors function function called odinit odaddpersonality odparsecmdline odinit function read information door information file initializes communication modem display status line set opendoors internal data structure information data available odinit called please refer chapter opendoors control structure begin page odinit function read door information file located directory specified variable odcontrolinfopath variable set prior calling odinit function opendoors expect find door information file current directory thus wish door able run directory bb system directory would good idea allow sysop using door specify location door information file example setting odcontrolinfopath variable please see example program located page also note prevent odinit function carrying normal activity attempting read door information file use odcontroloddisable variable described section opendoors control structure begin page see also odexit example time may wish write door program require maintenance utility run regular basis example game door may system file updated daily basis utility program run system  opendoors  manual end page event day midnight one way accomplishing would door package include two exe file one actual door program utility program however another option would door maintenance function accessible single exe file order simplify use door sysop case would want test command line determine whether program run door mode maintenance mode would execute odinit function along rest door code program running  door mode  program demonstrates one method case program would include two function door would carry doorrelated activity maint would carry maintenancerelated activity simple example command line includes     program run maintenance mode otherwise run door mode also running door mode program take first commandline parameter path location door information file include  opendoorh  void door void void maint void int main int argc char argv int counter  check command line parameter  counter counter argc counter argv counter   argv counter maint  carry maintenance  exit  exit   run door mode   commandline parameter take first   path door information file  argc strncpy odcontrolinfopath argv  odinit  call odinit function  door  run door portion program  odexit false  shutdown door   opendoors  manual end page void maint void   carry maintenance activity  void door void   carry door activity   opendoors  manual end page odinputstr                                        purpose input string user format void odinputstr char pszinput int nmaxlength unsigned char chmin unsigned char chmax return na description perform string input within opendoors one two function used odinputstr odeditstr first function odinputstr allows simple line input editing used ascii ansi avatar rip mode second function odeditstr allows many formatted input option advanced line editing feature requires use ansi avatar rip graphic mode odinputstr function allows input string user string permitted number character specified maxlen parameter character must value minchar maxchar parameter function wait user press enter key finish inputting string first parameter passed function pointer string user input stored wanted store string character inputted user might define string follows char inputstring notice string must long enough hold thirty character entered user along additional  null  character used indicate end string c hence length string always least one greater total number character user permitted enter passed nmaxlength parameter second parameter passed odinputstr function integer value indicating maximum number character input user example parameter value user would able enter string containing number character including character parameter value user would able enter single character however user would able backspace change character press enter satisfied entry note  opendoors  manual end page even ask odinputstr function input single character still expect string passed return string either zero one character followed null string terminator character third fourth parameter passed function allow control character user permitted enter part string example could set minimum character character maximum character character permitting user enter numeric character hand could permit user enter ascii character range odinputstr function permit character range beginning character passed minchar including character passed maxchar see also odeditstr odgetkey odclearkeybuffer example number example use odinputstr function various application input two character number digit  odinputstr string input character name character space ascii odinputstr string  opendoors  manual end page odkernel                                        purpose opendoors central control function format void odkernel void return na description do version opendoors odkernel function responsible many vital opendoors task monitoring carrier detect signal monitoring amount time user remaining updating status line responding sysop hotkeys reading character received modem odkernel function automatically called frequent basis opendoors function often need concerned function however order opendoors carry activity mentioned quick response important odkernel opendoors function called least every second thus program carrying processing calling opendoors function second call odkernel function example demonstrates one method note reason possible program call odkernel function opendoors function period several second cause door crash fail way problem opendoors able respond action sysop pressing function key user dropping carrier time next call odkernel opendoors function hence use odkernel function improve quality response time program calling opendoors function regular basis absolutely vital function effect win version opendoors see also odsleep  opendoors  manual end page odlistfiles                                        purpose list file particular file area using filesbbs format bool odlistfiles char pszfilespec return true successful false unsuccessful description function allows display list file available download particular file area bb system would file name description taken filesbbs located directory pointed pszfilespec thus list file available download c bbsfilesuploads simply odlistfiles  c bbsfilesuploads  opendoors us thirdgeneration filesbbs format compatible filesbbs format add additional feature line filesbbs file list filename along description thus typical filesbbs file might look follows pkzexe pkzip file compressor version  odoorszip newest version opendoors reczip record file c bb bb file displayed opendoors list size file found filesbbs file beside name file found file exist  offline  string displayed file size column title line may also added filesbbs indenting one column thus could something like newest uploads  pkzexe pkzip file compressor version  odoorszip newest version opendoors reczip record file c bb bb file addition standard filesbbs format opendoors also permit wildcards used filesbbs filename ie fnews full directory path allow file several different directory included file area  opendoors  manual end page may alter color used display various portion file list using odcontrol variable odcontrolodlisttitlecol odcontrolodlistnamecol odcontrolodlistsizecol odcontrolodlistcommentcol odcontrolodlistofflinecol documented opendoors control structure section manual begin page see also odsendfile  opendoors  manual end page odlogwrite                                        purpose function write entry log file format bool odlogwrite char pszmessage return true success false failure description function used write entry log file logfile already opened call function first time opendoors automatically open log file time create entry log file simply call odlogwrite function passing string text wish write include control character string simply text appear line opendoors automatically format log file adding time information control character recommended length string passed odlogwrite exceed character order logfile line le character length log file entry usually contain period punctuation end line also log file entry usually written present tense first character entry usually uppercase entry lower case also since excessive number length log file entry quickly use lot disk space best think carefully event recorded log file also good idea minimize number word used entry without cryptic example  user entering option menu  used instead  user entered option menu  see also page example calling odlogwrite function simple follows odlogwrite  awarding user minute time   opendoors  manual end page odmultilineedit                                        purpose provides multiple line text editor used entering editing text span one line message text file format int odmultilineedit char pszbuffertoedit uint unbuffersize todeditoptions peditoptions return odmultieditsuccess success odmultiediterror failure description function provides text editor optional word wrap capability editor used entering editing text file message information span multiple line editor configured operate fullscreen mode occupy smaller area screen specify provides navigation home end page arrow key feature editing feature insert overwrite mode ctrly delete line etc would expect odmultilineedit function designed easy use flexible end function take three parameter first two parameter required third parameter optional option structure first parameter pszbuffertoedit pointer buffer text edit buffer must always terminated string buffer must initialized calling odmultilineedit second parameter unbuffersize indicates size buffer passed pszbuffertoedit note total amount space available buffer text entered user length data actually initially buffer wish customize odmultilineedit option may simply set third parameter hence simple example use odmultilineedit char szmyeditbuffer   odmultilineedit szmyeditbuffer sizeof szmyeditbuffer null wish customize odmultilineedit pas pointer todeditoptions structure third parameter initialize entire structure zero attempting use set value structure wish change default value left automatically revert default example wanted specify text format  opendoors  manual end page default could create initialize pas todeditoptions structure follows char szmyeditbuffer   todeditoptions myeditoptions memset myeditoptions sizeof myeditoptions myeditoptionstextformat formatlinebreaks odmultilineedit szmyeditbuffer sizeof szmyeditbuffer myeditoptions definition todeditoptions structure follows typedef struct int narealeft int nareatop int narearight int nareabottom todedittextformat textformat todeditmenuresult pfmenucallback void punused void pfbufferrealloc void poriginalbuffer uint unnewsize dword dweditflags char pszfinalbuffer uint unfinalbuffersize todeditoptions narealeft nareatop narearight nareabottom allows specify portion screen text editor use default textformat allows specify format text stored buffer using default formatparagraphbreaks specifies line break appears end paragraph content paragraph word wrapped formatlinebreaks specifies line break appears end line text screen newly entered text word wrapped formatnowordwrap equivalent formatlinebreaks except newly entered text word wrapped instead line may arbitrarily long text format odmultilineedit automatically decides whether line break take form carriage return r line feed n combination based see buffer supply line break found buffer default use line feed n character formatftscmessage specifies ftsc compliant message used msg message file among thing specifies carriage return r end paragraph line feed n ignored pfmenucallback allows provide callback function called user press escape controlz  opendoors  manual end page key allows provide menu accessed within text editor function return editmenudonothing editor continue normally editmenuexiteditor odmultilineedit return menu callback function provided odmultilineedit always return escape controlz key pressed pfbufferrealloc allows provide function attempt reallocate larger buffer user enters text fit originally supplied buffer dynamically allocated buffer initially passed odmultilineedit allocated buffer using malloc calloc pfbufferrealloc set point realloc function allocated buffer using c new operator must write reallocation function obeys semantics c realloc function buffer reallocation function provided odmultilineedit never allow user enter text fit buffer initially supply using buffer reallocation option obtain pointer final buffer size final buffer pszfinalbuffer unfinalbuffersize member see also odinputstr odeditstr odgetinput  opendoors  manual end page odpage                                        purpose function allow user page sysop format void odpage void return na description function called allow user page sysop function ask user wish chat sysop page sysop sysop free break chat time sysop paging also aborted user simply pressing enter asked reason chat user page sysop wantschat indicator begin flash main status line status line switch show user reason wanting chat also user total number page incremented depending upon setting odcontrolodokaytopage variable function also optionally check sysop paging hour allow user page sysop valid paging hour information variable containing user total number page user wantchat status valid sysop paging hour odcontrolodokaytopage variable see section opendoors control structure begin page example example use odpage function see exvotec example program described beginning page  opendoors  manual end page odparsecmdline                                        purpose handle standard command line option format do version void odparsecmdline int nargcount char papszarguments win version void odparsecmdline lpstr pszcmdline return na description opendoors function us different calling format do win version opendoors reason odparsecmdline always allows pas command line parameter format operating system pass do version opendoors pas argc argv value passed main function two parameter odparsecmdline win version opendoors pas pszcmdline value passed winmain function one parameter odparsecmdline odparsecmdline function called first call opendoors function possible exception odaddpersonality function recommended program us opendoors call odparsecmdline part startup procedure allows program automatically handle many common command line option make easier setup run program among helpful command line option processed odparsecmdline option set serial port information including information nonstandard serial port setup specify location configuration drop file force program run silent mode without local display pas user information ability start program local mode without drop file complete list option supported odparsecmdline run example vote door included opendoors package specifying help command line wish process command line parameter addition supported opendoors simply check commandline parameter calling odparsecmdline way would handle command line option nt using odparsecmdline odparsecmdline function  opendoors  manual end page generate error message encounter unrecognized command line option supply text display user chooses help option setting odcontrolodcmdlinehelp point string separate line string n character align text using character see also odinit example following example show program us odparsecmdline structured order compile either do win version opendoors include  opendoorh   main winmain function program begin  ifdef odplatwin int winapi winmain hinstance hinstance hinstance hprevinstance lpstr lpszcmdline int ncmdshow else int main int argc char argv endif ifdef odplatwin endif  set program name use opendoors  ifdef odplatwin  window pas ncmdshow value opendoors  odcontrolodcmdshow ncmdshow  call odparsecmdline  odparsecmdline lpszcmdline else odparsecmdline argc argv endif  start rest program   opendoors  manual end page odpopupmenu                                        purpose creates popup menu allows user make selection pressing single key selecting item highlight bar user made selection menu may removed screen restoring original screen content  beneath  window format int odpopupmenu char psztitle char psztext int nleft int ntop int nlevel word uflags return popuperror error odcontroloderror set indicate type error popupescape user exited menu pressing escape popupleft user exited menu pressing left arrow key popupright user exited menu pressing right arrow key postive integer indicating menu item chosen selection made description odpopupmenu creates popup window menu choice use ansiavatarrip mode user able choose item menu moving highlighted selection bar arrow key pressing key associated particular menu item content menu defined string pointed psztext parameter menu definition string contains menu option separated  pipe character key associated menu entry defined proceeding letter  carat character example string  saveloadexit  would produce menu three option save load exit user would able select save option pressing key load option pressing l key exit option pressing x key furthermore character corresponding menu item would displayed highlighted color menu displayed odpopupmenu may optionally title specified psztitle parameter parameter set null title displayed parameter null specified string displayed title window  opendoors  manual end page nleft ntop parameter specify left top location menu window upper right corner screen bottom right corner menu automatically determined size number menu entry menu definition string nlevel parameter specifies menu level integer unless using menukeep flag parameter always uflags parameter specifies one following option joined bitwiseor operator menunormal effect menuallowcancel allow user exit menu escape menupulldown allow exit arrow key menukeep leave menu active selection menudestroy remove currently active menu using flag use menunormal placeholder parameter specify menuallowcancel user able exit menu without making selection pressing escape key user press escape odpopupmenu return popupescape use menupulldown option odpopupmenu implement set pulldown menu case user press left arrow key right arrow key menu displayed odpopupmenu return popupleft popupright allowing display different menu normally odpopupmenu remove menu screen soon user make selection however may case want menu continue visible user make selection example may want menu option lead submenu may wish display popup window return menu user exited popup window menukeep flag specified menu remain active onscreen user make selection however menu still destroyed user cancel menu happen specified menuallowcancel user move another menu pressing left right arrow key happen specified menupulldown menukeep specified user make selection must eventually either return menu destroy calling menudestroy want return menu simply call odpopupmenu level value used originally create menu user able make another selection menu odpopupmenu return selection want destroy menu simply call odpopupmenu menudestroy flag  opendoors  manual end page set level value used create original menu wish create another popup menu first one still active simply call odpopupmenu time different level value color used odpopupmenu function set following opendoors control structure setting char odcontrolodmenutitlecol char odcontrolodmenubordercol char odcontrolodmenutextcol char odcontrolodmenukeycol char odcontrolodmenuhighlightcol char odcontrolodmenuhighkeycol see also odwindowcreate odwindowremove oddrawbox odhotkeymenu example following example show use multiplelevel menu include stdlibh include  opendoorh  main switch odpopupmenu  main menu   fileselectronic mailnewsexit  menunormal menukeep case odpopupmenu  file menu   search filesdownloadupload  menunormal menuallowcancel break case odpopupmenu  email menu   get new mailsend mailsend fax  menunormal menuallowcancel break case odpopupmenu  news menu   choose newsgroupread newspost news  menunormal menuallowcancel break case odpopupmenu null null menudestroy return  opendoors  manual end page odprintf                                        purpose performs formatted output remote local ability change display color format void odprintf char pszformat  return na description one two opendoors function allows display string character oddispstr function complete comparison various opendoors display function see description oddispstr function page like oddispstr function odprintf function display output local screen remote user screen door operating local mode however odprintf function also allows formatted output printf function addition providing feature normal c printf function odprintf function allows include code change color display text unique feature allows display multicolored text without use chain alternating oddispstr odsetcolor call printf function odprintf function accepts one parameter first parameter format string displayed additional parameter data displayed within string opendoors odprintf function recognizes control character option recognized normal printf function example display amount time user left online following line would valid use odprintf function odprintf  time left dnr  odcontrolusertimelimit note full discussion printf function beyond scope manual information using printf please see turbo c  borland c manual addition normal control sequence       odprintf function also allows include special colorsetting code within format string color code sequence begin end delimiter character used indicate sequence color setting consider example following line code display text various color  opendoors  manual end page odprintf  blue blue green green red red nr  case assuming course color monitor used word  blue  displayed color blue word  green  displayed color green word  red  displayed color red case sequence blue set display color dark blue black backquote delimiter character indicates beginning end color sequence sure confuse backquote character normal forward quote common difficulty experienced odprintf function text backquote character indicates color set text include name foreground color name background color  bright  keyword  flashing  keyword first color mentioned taken foreground color second background color case sensitive additional word included legibility thus bright white cyan equivalent bright white cyan background  bright  keyword indicates foreground color displayed high intensity  flashing  keyword indicates text flashing background specified background color default black foreground background color specified color default white black odprintf function automatically determine whether user ansi avatar rip graphic enabled send appropriate color code change color displayed text user either ansi avatar graphic mode turned odprintf function send color code thus door program using color code would work well ansiavatarrip graphic available except text appear color may prefer set color using odsetcolor odsetattrib function instead using cryptic color code imbedded odprintf function case however much advantageous place color code within odprintf string case point consider single odprintf statement example accomplish result using oddispstr odsetcolor function would use following six function call  opendoors  manual end page odsetcolor dblue dblack oddispstr  blue  odsetcolor dgreen dblack oddispstr  green  odsetcolor dred dblack oddispstr  red nr  method may easier understand certainly requires many line code accomplish however either method work choice method prefer keep mind however color set stored variable instead always color must use either odsetcolor odsetattrib function set display color backquote character normally used delimit color sequence odprintf function may wish able print backquote character using odprintf function case may configure opendoors use different character represent color code sequence simply use odcontrolodcolordelimiter variable described opendoors control structure section beginning page example wished use tilde character instead backquote character change color simply place following line within program point called odinit opendoors function odcontrolodcolordelimiter also may disable color code interpretation within odprintf function altogether setting odcontrolodcolordelimiter variable note odprintf function interprets color code parsing control sequence     thus used command odprintf   string color code contained string  string  would also interpreted wish color code character might contained string  string  treated could disable odprintf color code interpretation setting odcontrolodcolorchar variable note string displayed odprintf exceed character size including size color sequence expanded field  opendoors  manual end page see also oddispstr oddisp odputch odrepeat oddispemu example simple example user statistic door program display various piece information user using odprintf function notice use color code sequence order display title different color information field note since information available door depend bb system running information displayed door available bb system description information available bb system see opendoors control structure portion manual begin page include  opendoorh  int main int argc char argv odinit  begin opendoors program  odprintf  bright white statisticsnr   display title  odprintf         nrnr   display statistic  odprintf  red name blue snr  odcontroluserlogintime odprintf  red location blue snr  odcontroluserlocation odprintf  red phone number blue snr  odcontroluserhomephone odprintf  red last call blue snr  odcontroluserlastdate odprintf  red number call blue unr  odcontrolusernumcalls odprintf  red number page blue unr  odcontrolusernumpages odprintf  red remaining time blue dnr  odcontrolusertimelimit odprintf  red downloads blue unr  odcontroluserdownloads odprintf  red uploads blue unr  odcontroluseruploads odprintf  red kbytes dl today blue unr  odcontrolusertodayk  ask user press enter  odprintf  bright green green press enter return bb  nr  odgetkey true   wait user press enter  odexit false  return bb  helpful section demonstrates use odprintf color hint sequence imbedded directly printf format string odprintf  hello bright green   opendoors  manual end page however also way take advantage feature example c programming language concatenates string constant separated white space carriage return instance  hello   bright green    equivalent  hello bright green  reason create macro common color sequence program define highlight  bright green  use constant calling odprintf function follows odprintf  hello  highlight   may find method setting display color easier read easily configurable including color sequence directly format string another use color sequence describe allows color used odprintf  hardwired  since color control sequence evaluated odprintf evaluates format sequence   reason possible change display color using string variable instead using fixed color string example program variable char highlight set point equal  bright green  would able use odprintf follows odprintf  hello  highlight display color would changed location   appears odprintf format string advantage using method change display color unlike method value highlight variable changed could used example allow sysop configure color wish door use would need change value highlight variable order change color set odprintf  opendoors  manual end page odputch                                        purpose function display single character format void odputch int chtodisplay return na description function performs similar function opendoors display function information us various opendoors display function see description oddispstr function page function similar oddisp oddispstr function except display single character time function display character passed cursor position output window advance cursor next display position opendoors operating local mode character also sent modem thus displayed user screen manner displayed local screen ansi avatar rip graphic mode activated character displayed current color see also oddispstr oddisp odprintf odrepeat oddispemu example example use odputch function example function could use place odgetkey function function input single character keyboard odgetkey function however character entered printable character function also echo character local screen using odputch function char getkeywithecho int wait char pressedodgetkey wait  get key user  pressed  pressed   key printable  odputch pressed  display character  return pressed  return key pressed user   opendoors  manual end page odputtext                                        purpose display rectangular region text color information previously stored using odgettext format bool odputtext int nleft int ntop int nright int nbottom void pblock return true success false failure description function  paste  rectangular block text color information previously retrieved using odgettext block placed screen location indicated variable nleft ntop nright nbottom nleft nright column number ntop nbottom row number length width rectangle specified nleft ntop nright nbottom must length width rectangle passed odgettext storing block text function attempt display pasted block quickly possible transmitting information portion block different original screen content function return leaf cursor original position display color original setting function requires ansi avatar mode control structure variable odcontrolodfullput may set true force odputtext always send character block displayed instead displaying portion block differ original screen content wish save restore entire screen use odsavescreen odrestorescreen work display mode may also use odputtext display rectangular block text generate manually instead retrieving using odgettext pas array contains text color information rectangular area painted pblock parameter array passed odputtext contains twobyte sequence information character rectangle first byte contains ascii code character displayed second byte contains color attribute value character format used odsetattrib function described page two byte sequence stored order english written array begin two byte  opendoors  manual end page sequence character first line left right followed character second line length line must exactly equal width rectangular region painted see also odgettext odsavescreen odrestorescreen odscroll odwindowcreate odwindowremove  opendoors  manual end page odrepeat                                        purpose repeatedly display specified character number time using special graphic code greater speed possible format void odrepeat char chvalue byte bttimes return na description display function repeatedly display character chvalue bttimes time complete breakdown various opendoors display function see description oddispstr function located page advantage using function display series identical character function use special graphicsmode control sequence display repeated character efficiently required graphic mode available example avatar mode function display entire line one character sending control sequence modem three character long graphic mode turned oddispstr function simply send specified character appropriate number time display function output function sent local remote screen see also odputch oddispstr oddisp odprintf oddispemu example example function demonstrates use odrepeat function drawing window square box screen function essentially simplified version oddrawbox function described page unlike function oddrawbox function allows customization character used draw box boarder possible us additional avatar graphic code display window even faster function thus function really provided demonstration purpose function accepts four parameter indicate location upper left lower right corner window displayed function display window current color attribute setting since function us odrepeat function avatar graphic available display entire window fraction second even displaying window size entire screen slow  opendoors  manual end page baud rate note window display function requires user ansi avatar rip graphic mode enabled void drawwindow char left char top char right char bottom char linecounter  number current line drawn  char betweensize rightleft   x size window  odsetcursor top left  move top corner  odputch  display corner character  odrepeat betweensize  display top line  odputch  display corner character   loop middle line window  linecountertop linecounter bottom linecounter odsetcursor linecounter left  move line start  odputch  display left line char  odrepeat betweensize  display blank area  odputch  display right line char  odsetcursor bottom left  move bottom corner  odputch  display corner character  odrepeat betweensize  display bottom line  odputch  display corner character   opendoors  manual end page odrestorescreen                                        purpose restores screen content previous saved using odsavescreen function function used display mode format bool odrestorescreen void pbuffer return true success false failure description function restores entire content screen along current cursor position display color previously stored using odsavescreen function unlike odgettext odputtext function odsavescreen odrestorescreen function work display mode ascii ansi avatar rip pbuffer parameter must point buffer previously passed odsavescreen note odsavescreen odrestorescreen function save stored information different format odgetttext odputtext function reason save screen content odgettext restore odrestorescreen visaversa function fails reason value false returned odcontroloderror variable set indicate reason failure information odcontroloderror variable see page see also odsavescreen odgettext odputtext odclrscr example example use odrestorescreen function see example accompanies odsavescreen function page  opendoors  manual end page odsavescreen                                        purpose save content screen later restored using odrestorescreen used display mode format bool odsavescreen void pbuffer return true success false failure description function save entire content screen along current cursor position display color later restored using odrestorescreen function unlike odgettext odputtext function odsavescreen odrestorescreen function work display mode ascii ansi avatar rip pbuffer parameter point buffer current screen information stored buffer must least byte size note odsavescreen odrestorescreen function save stored screen information different format odgetttext odputtext function reason save screen content odsavescreen restore odputtext visaversa also note used rip graphic mode function save restores textual information bitmapped graphical information function fails reason value false returned odcontroloderror variable set indicate reason failure information odcontroloderror variable see page see also odrestorescreen odgettext odputtext odclrscr example one case might wish save restore content screen sysop chat mode activated accomplished using odcontrolodcbeforechat odcontrolodcafterchat variable following example cause screen content saved entire screen cleared prior entering sysop chat mode sysop press  chat key  sysop end chat mode  opendoors  manual end page user original screen restored user able continue working door though nothing happened code perform screen saving restoring  function prototype  void beforechatfunction void void afterchatfunction void  buffer hold content screen prior chat  char beforechatbuffer  variable store whether screen save successful  char beforechatsaved false  function called prior entering chat mode  void beforechatfunction void  store current screen content  beforechatsaved odsavescreen beforechatbuffer  present blank screen chat mode  odclrscr  function called exiting chat mode  void afterchatfunction void  screen successfully saved prior chat  beforechatsaved  restore original screen content  odrestorescreen beforechatbuffer code included main function enable screen saving restoring code odcontrolodcbeforechat beforechatfunction odcontrolodcafterchat afterchatfunction  opendoors  manual end page odscroll                                        purpose scroll rectangular area screen specified number line upwards downwards requires ansiavatarrip graphic mode active format bool odscroll int nleft int ntop int nright int nbottom int ndistance word nflags return true success false failure description function scroll rectangular area screen described parameter nleft ntop nright nbottom parameter nleft nright column number parameter ntop nbottom row number parameter ndistance indicates direction number line scroll text specified area positive value denote moving text upwards negative value denote moving text downwards new line created scrolling text appear current color function return leaf cursor original position display color original setting function requires ansi avatar mode ansi mode active function equivalent calling odgettext odputtext sending addition code modem clear newly created line ansi mode scrolling accomplished quickly area scrolled equal width entire screen clearing newly created line done sending simple control sequence instead line space character avatar mode active scrolling window accomplished sending single byte control sequence last parameter odscroll nflags normally set scrollnormal however set nflags scrollnoclear newly created line top bottom screen cleared would take longer see also odgettext odputtext odwindowcreate odwindowremove example example program us odscroll function see exchatc example program described page  opendoors  manual end page odsendfile                                        purpose sends asciiansiavatarrip file disk using terminal emulation format bool odsendfile char pszfilename return true file successfully sent false opendoors unable send file description powerful function display ascii ansi avatar rip file odsendfile function used display existing bb text file  logoff screen  door hang user also make use odsendfile function build many door screen external file allow easily create screen ansi editor program  thedraw  could also optionally allow sysops customize door use bb odsendfile function called full path filename file wish displayed thus wished send ansi file mainmenuscr would simply call odsendfile  mainmenuscr  many case instead one file want displayed particular several different file want different one displayed according user graphic mode example might four file mainmenuasc mainmenuans mainmenuavt mainmenurip asc file containing special control code an file containing ansi control code avt file containing avatar control code rip file containing rip graphic control code case odsendfile function automatically select appropriate file according user current display mode omitting extension altogether thus call odsendfile  mainmenu  would cause opendoors automatically send appropriate file according user graphic mode setting odsendfile function used  automatic mode  specify filename extension look one four filename extension listed  opendoors  manual end page                              extension file type                              asc require graphic mode display an requires ansi graphic mode display avt requires avatar graphic mode display rip requires rip graphic mode displayed                              user rip graphic enabled odsendfile first search rip file file exists specified filename rip extension odsendfile search avt an found asc user ansi graphic enabled odsendfile attempt first display an file found search asc case user using plainascii mode function attempt display asc file displaying rip file remote system opendoors attempt locate display corresponding avtansasc file local system file found window displayed indicating name rip file sent remote system rip file displayed page pausing disabled displaying avtansasc file odsendfile send ansi avatar code file directly remote terminal interpret display local screen regardless actual filename extension interpretation accomplished opendoor built terminal emulator terminal emulator fully support ansi avatar level level  control code terminal emulator also translate remote accessquickbbs style control code enabled setting odcontrolodnoracodes false control code supported opendoors listed chart following page control code inserted file opendoors replace various piece user system information  opendoors  manual end page                            control ascii code value description                            fa  display user full name fb  location user calling fc  display user password fd  businessdata phone number fe  homevoice phone number ff  date user last call fg  time day last call fh  user flag setting fi  user b flag setting fj  user c flag setting fk  user flag setting fl  user remaining netmail credit fm  number message posted user fn  last read message number user fo  display security level user fp  number time user called fq  total uploads user fr  total kbytes uploaded user f  total downloads user ft  total kbytes downloaded user fu  minute user used today fv  user screen length setting fw  user first name fx  user ansi setting fy  user  continue  prompt setting fz  user screen clearing f  user fullscreen editor setting f  user quiet mode setting f  user hotkeys setting f  display user alias f  date user first call f  user date birth f  user subscription expiry date f  number day expiry f  user avatar setting f  user upload download ratio f  user upload k download k ratio                             opendoors  manual end page                            control ascii code value description                            f  fullscreen message reader ka  total call bb received kb  name last caller bb kc  total active message bb kd  display first message ke  display last message kf  time user paged sysop kg  full name current weekday kh  display total number user ki  display current time kj  display current date kk  minute user online kl  second user online km  minute user used today kn  second user used today ko  minute remaining user today kp  second remaining user today kq  user daily time limit kr  display current baud rate k  current weekday shortform kt  user daily download limit ku  minute next event kv  time next system event kw  node user currently kx  disconnect user                            see also oddispemu odlistfiles odhotkeymenu example example use odsendfile function displaying custom door menu see exvotec example program described beginning page  opendoors  manual end page odsetattrib                                        purpose function change text color ansi avatar mode using single ibmpc color attribute value format void odsetattrib int ncolor return na description odsetattrib one two function change color currently displayed text function allows set text color using single ibmpc style color attribute hand odsetcolor function allows set display color specifying foreground background text color generally speaking two function use matter personal preference however likely find convenient use odsetcolor function changing display color however odsetattrib offer advantage allowing manipulate color displayed single value instead two separate value could convenient example displaying text user configured color using single byte represent color likely easier using two alternative method setting color displayed text include color code within string displayed odprintf function benefit along instruction described section odprintf function begin page function effect user ansi avatar rip mode enabled result use function within door program text automatically displayed multiple color graphic mode available displayed without color graphic mode available note color set passed function ibmstyle screen attribute hence set color text displayed single hexidecimal value encoded follows       background color xf       foreground color  opendoors  manual end page left digit significant nibble hexidecimal number represents background color right digit least significant nibble represents foreground color possible color along corresponding hexidecimal value listed chart                          foreground color background flashing                          black black blue blue green green cyan cyan red red magenta magenta brown brown white grey white bright black black bright blue blue bright green green b bright cyan b cyan c bright red c red bright magenta magenta e yellow e brown f white bright f white                          see also odsetcolor oddispemu odclrscr odclrline odsetcursor example time may wish allow user select color text wish displayed perhaps configure door ideal color displayed system demonstrate use odsetattrib function show another function show user possible color displayed allows user choose color prefer function return color attribute value user chosen color unsigned char choosecolor void register unsigned char counter  displaying color  char string  string input user  odsetattrib x  display title  oddispstr  available color nrnr  counter counter   loop color   opendoors  manual end page odsetattrib counter  set appropriate color  odprintf  u  counter  display color number  counter   every color   odsetattrib x   reset display color   oddispstr  nr    start new line  odsetattrib x  allow user choose color  oddispstr  color prefer  odinputstr string return atoi string  return chosen color   opendoors  manual end page odsetcolor                                        purpose function change current display color ansi avatar rip mode using foreground background color value format void odsetcolor int nforeground int nbackground return na description odsetcolor one two function change color currently displayed text function allows set text color using separate foreground background text color whereas odsetattrib allows set text color using single ibmpc style color attribute generally speaking two function use matter personal preference alternative method setting color displayed text include color code within string displayed odprintf function benefit along instruction described section odprintf function begin page function effect user ansi avatar rip mode turned result use function within door program text automatically displayed multiple color graphic mode available displayed without color graphic mode available odsetcolor function accepts two parameter first parameter foreground color used displaying text second parameter background color used displaying text example odsetcolor lwhite dblack would set current color light white dark black foreground background text color one color value listed following page  opendoors  manual end page                 foreground color value                 dark black dblack dark blue dblue dark green dgreen dark cyan dcyan dark red dred dark magenta dmagenta dark brown dbrown grey dark white dgrey light black grey lblack light blue lblue light green lgreen light cyan lcyan light red lred light magenta lmagenta yellow lyellow white lwhite                                 background color value                 black dblack blue dblue green dgreen cyan dcyan red dred magenta dmagenta brown dbrown grey dgrey blinking black bblack blinking blue bblue blinking green bgreen blinking cyan bcyan blinking red bred blinking magenta bmagenta blinking brown bbrown blinking grey bwhite                 see also odsetattrib oddispemu odclrscr odclrline odsetcursor example example using odsetcolor function set color displayed text show pair two function function allow program set foreground  opendoors  manual end page background color text without setting contrast odsetcolor function set foreground background color time function presume function used within door set color displayed text original text color prior calling either function dark white black function must also access two global variable  currentforeground   currentbackground  defined void setforeground char foreground void setbackground char background unsigned char currentforegrounddblack unsigned char currentbackgrounddgrey void setforeground char foreground  set new text color  odsetcolor foreground currentbackground currentforegroundforeground  save new foreground  void setbackground char background  set new text color  odsetcolor currentforeground background currentbackgroundbackground  save new background  using function would able set foreground text color function call like setforeground lyellow set background text color function call like setbackground dgrey  opendoors  manual end page odsetcursor                                        purpose function reposition text cursor ansi avatar rip mode format void odsetcursor int nrow int ncolumn return na description function reposition cursor specified row column screen nrow value ncolumn value ansi avatar rip mode must active see also oddispemu odclrscr odclrline odsetcolor odsetattrib example simple example demonstrates use odsetcursor function note example detects whether graphic mode available carry task without use odsetcursor odinit  initialize door operation  odclrscr  clear screen  odcontroluseransi  odcontroluseravatar  graphic mode available  odsetcursor   display demo  oddispstr  top left corner  odsetcursor  oddispstr  top right corner  odsetcursor  oddispstr  fifteenth linenr  else  graphic mode available   display demo  oddispstr  top left corner  odrepeat oddispstr  top right cornernr  oddispstr  nnnnnnnnnnnnn  oddispstr  fifteenth linenr  odgetkey true  wait user press key   opendoors  manual end page odsetdtr                                        purpose control dtr data terminal ready signal modem used primarily cause modem  hang  format void odsetdtr bool bhigh return na description certain circumstance call back verification door may wish  hang  modem without exiting door program accomplished modem controlling dtr data terminal ready signal modem passing false value odsetdtr cause dtr signal set low passing true value cause dtr signal set high normally opendoors maintains dtr signal high state since modem configured disconnect remote modem dtr signal set low calling odsetdtr false used hangup modem hanging method sure set dtr signal high carrier detect signal disappeared information determining state carrier detect signal see odcarrier function described page note modem disconnect remote user response lowering dtr signal software may used modem may wish also provide option disconnecting modem sending  hang  command sequence modem since opendoors normally monitor carrier detect signal exit signal disappears disable opendoor carrier detection wish program continue executing hanging modem opendoors automatic carrier detection disabled using odcontroloddisable opendoors control structure variable follows odcontroloddisable  discarrierdetect see also odcarrier odexit example example using odsetdtr function  hang  modem see example accompanies odcarrier function described page  opendoors  manual end page odsetpersonality                                        purpose set current status line sysop function key personality used format bool odsetpersonality char pszname return true success false failure description function change current status line sysop function key personality pszname parameter contain string uniquely identifies personality set function may used opendoors program include opendoors  multiple personality system  enable use mp include following line first call opendoors function odcontrolodmpsincludemps opendoors includes number builtin personality additional personality may added using odaddpersonality function described page following personality included version opendoors name description                              standard opendoors style similar ra  pcboard similar pcboard remoteaccess similar remoteaccess x wildcat similar wildcat personality name case sensitive information opendoors multiple personality system see section begin page function return true success false failure case failure odcontroloderror variable set indicate nature failure information odcontroloderror variable see page see also odaddpersonality odsetstatusline  opendoors  manual end page odsetstatusline                                        purpose set currently displayed status line format void odsetstatusline int nsetting return na description opendoors status line enabled within door program default sysop able control setting status line using f f key keyboard function key follows f display basic door user information f display phone number important date f display security flag updownload info f display system information current time f display message info user setting f display chat reason sysop comment f display help information sysop f turn status line using odsetstatusline function manually set status line setting currently selected odsetstatusline accepts single parameter one value listed indicates status line would like selected                                corresponding value function key meaning                                statusnormal f basic door user info statusnone f turn status line statushelp f display help sysop statususer f phone number date statususer f security flag updownloads statususer f message info user setting statususer f chat reason sysop comment statussystem f system info current time                                note key may customized using variable opendoors control structure keep mind odsetstatusline function temporarily change current status line setting sysop still able change status line setting using function key instance  opendoors  manual end page wished allow sysop normally see line text displayed door time still allow sysop turn status line time could place line odsetstatusline statusnone beginning program similarly user page sysop opendoors call odsetstatusline statususer order display status line show user reason chat still allowing sysop switch back status line wish permanently turn opendoor status line without allowing sysop able turn back using sysop function key simply set  odcontrolodstatuson  variable false variable described opendoors control structure section manual begin page  opendoors  manual end page odsleep                                        purpose suspends program execution yielding control task multitasking environment format void odsleep todmillisec millisecond return na description odsleep suspends execution program specified number millisecond note do version opendoors value rounded nearest millisecond program execution suspended odsleep yield control processor task multitasking environment calling odsleep sleep time cause control yielded waiting process without imposing minimum sleep time process waiting execute function return immediately opendoors automatically call odsleep situation need however may circumstance odsleep used improve performance particular odsleep used improve performance application also running time calling odsleep essentially telling operating system program nt currently need processing time allocated appropriate use odsleep improve overall system performance overusing odsleep dramatically degrade performance program way determine optimal use odsleep trial error common situation might want use odsleep program anything useful receive input user reason call odgetkey true rather sitting tight loop repeatedly checking user pressed key yet better call odsleep let task run checking opendoors call odsleep following circumstance transmitting character outbound serial buffer full opendoors yield waiting character buffer sent odgetkey called wait parameter set true  opendoors  manual end page waiting input execution following input function odgetanswer odhotkeymenu menu displayed odpopupmenu odeditstr odinputstr pausing end screen odsendfile odlistfiles odhotkeymenu chat mode see also odkernel  opendoors  manual end page odspawn                                        purpose facilitate easy execution child task door format bool odspawn char pszcommandline return true success false failure description function allows easily run program within door program external file transfer utility compression utility function attempt swap opendoors entire door expanded memory disk opendoors swapping controlled opendoors control structure variable odswappingdisable odswappingems odswappath odspawn  function first attempt swap opendoors em memory enough em  later memory available used opendoors swap disk file directory specified odcontrolodswappath variable unlike turbo c  borland c library function system spawnf function automatically store door screen prior executing subprogram restore screen upon return function also store current drive directory setting prior executing program restore program returned normally user time continue decreased execution odspawn function however freeze user time spawn process using opendoors control structure variable odspawnfreezetime see also odspawnvpe example example various us odspawn function run command processor within door program allow sysop access do shell simply use following line code odspawn getenv  comspec   opendoors  manual end page following function example using odspawn function call dsz allowing user download file pas name file wish send user function ask user transfer protocol would like use generate appropriate dsz command line transmit file user note order use door implement function external file transfer program  dsz  must available current search path alternative may want allow sysop specify location dsz file within configuration program wish receive file allow user upload instead sending one simply change   command line  r  char download char filename char commandline  string containing dsz command line  char protocol  character representing chosen protocol   display protocol menu  odprintf  select file transfer protocol nr  odprintf  x xmodemnr  odprintf  ymodemnr  odprintf  z zmodemnr  odprintf  press abort transfernr   loop valid protocol chosen  protocolodgetkey  get key   abort key pressed  protocol  protocol return false protocol x protocol protocol z protocol x protocol protocol z odprintf  begin receiving file press ctrl x abortnr   generate dsz command line  sprintf commandline  dsz port c  odcontrolport protocol filename return odspawn commandline  spawn dsz   opendoors  manual end page odspawnvpe                                        purpose facilitate easy execution child task door allows specification child environment return errorlevel returned child task search path executable file format int odspawnvpe int nmodeflag char pszpath char papszarg char papszenv return  failure errorlevel returned child process success description function behaves similarly odspawn function thus save space manual recapitulate already said description odspawn function instead description concentrate additional feature available odspawnvpe function already familiar odspawn function take moment review description function odspawn function opendoors  quickspawn  function designed quick easy use feature available odspawnvpe function addition feature odspawn function odspawnvpe function also provides following feature odspawnvpe search  path  file executed odspawnvpe allows pas altered environment child process odspawnvpe return errorlevel returned child process parameter passed odspawnvpe function identical passed c spawnvpe function first parameter usually pwait flag second parameter name child program execute full path child program specified child program exist current directory opendoors search directory listed path environment variable also exe com extension provide opendoors look first com file found exe file third parameter array argument pas child process null argument passed  opendoors  manual end page fourth parameter environment passed child process null copy current environment used see also odspawn example example use odspawn  function see example accompanying odspawn function specific example odspawnvpe function consider following code executes  testexe  program odspawnvpe pwait  testexe  null null  opendoors  manual end page odwindowcreate                                        purpose creates popup window specified size color storing content screen   window window later removed screen restoring original content screen   window using odwindowremove function requires ansi avatar rip mode format void odwindowcreate int nleft int ntop int nright int nbottom char psztitle byte btbordercol byte bttitlecol byte btinsidecol int nreserved return pointer newly allocated window structure success null failure description function creates popup window remote local screen content screen beneath window stored allow window later removed screen using odwindowremove function window drawn using boarder character defined already existing odcontrolodboxchars array boarder displayed using color attribute specified btbordercol working area window created color specified btinsidecol title may optionally displayed window specifying string psztitle title displayed color specified bttitlecol wish title displayed pas empty string null pointer psztitle success odwindowcreate return pointer buffer allocated store information window content screen   window pointer point passed call odwindowremove function requires ansi avatar rip graphic mode avatar mode active function take advantage special avatar control sequence display window much faster possible ansi mode ansi mode window display slightly faster btbordercol bttitlecol equal note nreserved parameter function currently used preserve compatibility future version opendoors parameter always set currently size buffer allocated store window information lengthwidth byte size odwindowcreate fails reason value null returned odcontroloderror variable set indicate reason failure information odcontroloderror variable see page  opendoors  manual end page see also odwindowremove oddrawbox odgettext odputtext odsavescreen odrestorescreen odscroll example example use odwindowcreate function see included exchatc example program  opendoors  manual end page odwindowremove                                        purpose remove window previously created using odwindowcreate restoring original screen background format bool odwindowremove void pwininfo return true success false failure description odwindowremove function remove window screen previously created odwindowcreate deallocates memory allocated store window information content screen beneath window restored appear prior call odwindowcreate pwininfo must point value returned odwindowcreate note overlapping window must removed reverse order created proper display result last window created must first window removed odwindowremove fails reason value false returned odcontroloderror variable set indicate reason failure information odcontroloderror variable see page see also odwindowcreate oddrawbox odgettext odputtext odsavescreen odrestorescreen odscroll example example use odwindowremove function see included exchatc example program  opendoors  manual end page                                        chapter opendoors control structure introduction control structure                                        opendoors  control structure  used opendoors order provide wide range information system door running user currently using door along providing mean customize much opendoor behavior using opendoors control structure access alter information user online information system door running information opendoors also use control structure customize text displayed opendoors function key responds many aspect opendoor behavior opendoors control structure quite simply normal c  struct  named odcontrol defined opendoorh file  struct  contains many different variable provide access information provided control structure hence access content control structure variable example variable  systemname  contains name bb door running would use odcontrolsystemname following section chapter contains complete reference variable make opendoors control structure reference includes name type complete description use variable reference divided following category variable reference variable section beginning listed page door information file statistic       modem setting             bb caller information         door setting              opendoors behavior customization       function key customization          opendoors  manual end page color customization            text customization            within section variable listed alphabetically name also order make use variable opendoors control structure important understand concept boolean truefalse bitmapped flag variable familiar two term described detail glossary located towards end manual  opendoors  manual end page control structure door info file stats                                        following opendoors control structure variable provide program information concerning door information file opendoors obtained bb caller information found elsewhere control structure following control structure item listed section infopath set location optionally name door information file odinfotype type door information file found odnode node number door running usertimeofcreation time door information file created                                        infopath char odcontrolinfopath used variable set prior calling odinit opendoors function variable allows control opendoors look door information drop file default opendoors search door information file current directory variable set name directory opendoors first search door information file directory wish opendoors look particular type door information file instance want opendoors read dorinfodef ignore doorsys file specify full path filename file wish opendoors use usually good idea design door allow system operator set location door information file allow sysop place door directory facilitate use door multi line bb system using opendoors configuration file system system operator set door information file location andor name using bbsdir keyword however may also wish allow location door information file set command line following example illustrates method reading setting location door information file door command line include  opendoorh   opendoors  manual end page main int argc char argv argc strncpy odcontrolinfopath argv  oddispstr  sample opendoors doornr  oddispstr  press key continue  nr  odgetkey true odexit                                        odinfotype char odcontrolodinfotype variable indicates type information file opendoors obtained bb caller information found elsewhere opendoors control structure variable one following value indicating door information file corresponding type                       odinfotype door information file type value                       dorinfo dorinfo def exitinfo exitinfobbs normal raexitinfo exitinfobbs extended raexitinfo exitinfobbs ra x qbbsexitinfo exitinfobbs quickbbs chaintxt chaintxt sfdoorsdat sfdoorsdat callinfo callinfobbs doorsysgap doorsys gappcboard doorsysdrwy doorsys doorway style doorsyswildcat doorsys wildcat standard custom custom door information file defined config file nodoorfile drop file found                       value variable valid odinit opendoors function called note variable treated readonly variable normally altered program altering variable may cause opendoors rewrite different type door information file upon exiting read upon startup  opendoors  manual end page                                        odnode char odcontrolodnode variable indicates node number door running information supplied bb door information file node number automatically opendoors specifically node number determined automatically system produce sfdoorsdat pc boardgap style doorsys wildcat style doorsys door information file information supplied door information file provided sysop door configuration file opendoors use value found alternatively set variable manually system produce dorinfo def file opendoors use variable determine dorinfo def file search instance odcontrolodnode set opendoors first search dorinfodef file file found opendoors default dorinfodef filename                                        user char odcontrolusertimeofcreation timeof creation variable contains time day door information file created variable available door running system produce exitinfobbs file determine type door information file door running see odcontrolodinfotype variable  opendoors  manual end page control structure serial port setting                                        following opendoors control structure item store communication setting opendoors us communicate modem value normally set upon first call opendoors function odinit procedure however may need manual set variable wish allow greater configurability door reading door information file using opendoors write nondoor program variable always used opendoors others relevant opendoor builtin serial communication code used instead fossil driver used fossil driver present denoted list control structure variable controlling opendoor serial port setting follows odcontrolbaud serial port bps rate odcontrolodconnectsppedthe modem connection bps rate odcontrolodcomaddress serial port address   odcomfifotrigger fifo trigger size   odcomflowcontrol type flow control use odcontrolodcomirq serial port irq number odcontrolodcommethod fossil builtin serial io used odcontrolodcomnofifo disables use fifo odcontrolodcomrxbuf size receive buffer odcontrolodcomtxbuf size transmit buffer odcontrolodnofossil prevents opendoors using fossil driver even one available odcontrolodopenhandle allows live serial port handle passed opendoors odcontrolport serial port number based  opendoors  manual end page                                        baud unsigned long odcontrolbaud variable contains bps rate computer communicating modem confused bps rate local modem communicating remote modem value indicates program operating local mode fossil driver used serial io value ignored correspond one baud rate application directly set fossil driver bps rate recognized fossil driver bps rate used fossil driver must locked bps fossil driver commandline locked fossil driver ignore attempt application change bps rate locked port reason odcontrolbaud setting effect fossil driver locked                                        odcom int odcontrolodcomaddress address variable used opendoors performing serial io using fossil driver fossil driver used serial port address set fossil driver command line variable may optionally set specify base address serial port used port com com opendoors normally determine serial port address automatically however serial port port address must specified using variable specifying serial port address variable change default value                                        odcom char odcontrolodcomfifotrigger fifotrigger variable used opendoors performing serial io using fossil driver fossil driver used irq line set fossil driver command line  opendoors  manual end page variable set number byte placed uart fifo buffer interrupt triggered uart fifo used valid value                                        odcom unsigned char odcontrolodcomflowcontrol flowcontrol variable set type serial io flow control use default variable set comdefaultflow specifies default mode flow control often rtscts flow control value comrtsctsflow explicitly enables rtscts flow control value comnoflow disables flow control going change value variable set prior first call opendoors function                                        odcom unsigned char odcontrolodcomirq irq variable used opendoors performing serial io using fossil driver fossil driver used irq line set fossil driver command line variable may optionally set specify irq line used serial port default opendoors us normal irq line port com com irq port com com override default irq line set using variable specifying irq line variable change default value                                        odcom char odcontrolodcommethod method readonly variable report method opendoors using serial io variable set odinit first call opendoors function variable one following value comfossil indicates fossil driver used cominternal indicates opendoor internal serial io code used comwin indicates win communication system  opendoors  manual end page used                                        odcom char odcontrolodcomnofifo nofifo variable used opendoors performing serial io using fossil driver fossil driver used receive buffer size set fossil driver command line normally opendoors use fifo buffer uart installed disable use fifo buffer setting variable true                                        odcom unsigned int odcontrolodcomrxbuf rxbuf variable used opendoors performing serial io using fossil driver fossil driver used receive buffer size set fossil driver command line variable allows set size opendoor serial io receive buffer set buffer size default value character used normally buffer size large enough door program however find inbound character lost processed program may wish increase size buffer variable changed first call odinit opendoors function                                        odcom unsigned int odcontrolodcomtxbuf txbuf variable used opendoors performing serial io using fossil driver fossil driver used receive buffer size set fossil driver command line variable allows set size opendoor serial io transmit buffer set buffer size default value character used  opendoors  manual end page variable changed first call odinit opendoors function                                        odconnect dword odcontrolodconnectspeed speed variable contains best guess current modem connection speed information currently accurate doorsys file used situation always set equal odcontrolbaud                                        odopen dword odcontrolodopenhandle handle platform supported currently win version opendoors variable used pas live serial port handle opendoors opendoors use opendoors close handle exit value set opendoors open close serial port                                        port char odcontrolport variable contains serial port number modem connected number based value corresponds com value corresponds com value normally set odinit function door information file read changed modem initialization carried odinit function  opendoors  manual end page control structure bb caller information                                        already described two type variable opendoors control structure variable simply used allow customize opendoor various feature altering color prompt timeouts etc variable opendoors control structure serve provide information user online bb system door running section deal variable provide information bb user information variable read door information file small file created bb specifically purpose communicating door program depending bb system door running type door information file vary since different door information file provide piece information variable section available door running particular bb system variable available many bb system description variable section indicate door information file particular variable wish access variable certain door information file program test whether required information available particular door information file found order determine door information file door running use odcontrolodinfotype variable variable described section begin page test value odcontrolodinfotype variable find required information available may wish simply use sort default value variable alternatively allow door run certain bb system another possibility required information available imply obtain information user example wished know length user screen information available door information file could simply prompt user screen length first time use door information could stored door data file future reference example testing door information file door running consider case wanted display user birthday example display user birthday known otherwise print string  unknown  odcontrolodinfotype  raexitinfo odcontrolodinfotype  raexitinfo  opendoors  manual end page oddispstr odcontroluserbirthday else oddispstr  unknown  chart list door information file format opendoors recognizes along example bb system produce file reference letter type thus opendoors door run directly bb system produce one file format bb system used conjunction door information file conversion utility                                  file format example bb system                                  chaintxt wwiv                                  dorinfodef rbbspc                                  dorinfodef quickbbs remote access version  exitinfobbs std ver                                  doorsys doorway style remote access                                  doorsys pcbgap style pcboard gap                                  doorsys wildcat style wildcat  telegard                                  sfdoorsdat spitfire tribbs                                  callinfobbs wildcat xx                                  dorinfodef remote access version  later exitinfobbs ext ver                                  chart following page list opendoors control structure variable section along brief description use variable described detail  opendoors  manual end page                                     variable name variable content                                     emsi information information current iemsi session eventstatus status next system event eventstarttime start time next system event eventerrorlevel errorlevel next system event eventdays day week execute event eventforce whether next system event forced eventlastrun next system event last run sysopname name bb sysop systemcalls total number call bb received systemlastcaller name last caller bb systemlasthandle handle alias last caller systemname name bb timelog variable time bb busy useransi whether user ansi graphic mode userattribute user attribute bitmapped flag userattrib second set user attribute bitmapped flag userattrib third set user attribute flag useravatar whether user avatar graphic mode userbirthday date user born usercallsign user amateur radio call sign usercombinedrecord user combined message area setting usercomment sysop comment user usercredit amount netmail credit user userdataphone user data phone number userdateformat format user wish date displayed userdeductedtime total time subtracted user userdownk total kilobyte downloaded user userdownlimit user daily download limit userdownloads total number file downloaded user userechomailentered whether user entered echomail usererrorfree whether connection errorfree userfilearea user current file area userfirstcall date user first call bb userflags user sysopdefined flag setting userforwardto name forward user mail usergroup user group number userhandle user alias userhomephone user home telephone number userlanguage user language setting userlastpwdchange total call since last password change userlastdate date user last call userlastread highest message number read user userlasttime time user last call userlocation name city user life userlogindate date current call began                                      opendoors  manual end page                                     variable name variable content                                     userloginsec user security beginning call userlogintime time current call began userlogonpassword user password beginning call usermenustack content user current menu stack usermenustackpointer pointer top menu stack usermessages total number message written user usermsgarea user current message area username user name usernetcredit user remaining netmail credit usernetmailentered whether user entered netmail usernum user record number user file usernumcalls number call user made bb usernumpages number time user paged sysop userpassword user current password userpending value unsent netmail written user userreasonforchat reason user wish chat sysop userripver rip protocol version used userscreenlength length user screen userscreenwidth width user screen usersecurity user security access level usersex user gender usersubdate date user subscription expires usertimelimit user daily time limit usertodayk kilobyte downloaded user today userupk total kilobyte uploaded user useruploads total number file uploaded user userwantchat whether user wish chat userxirecord user record usersxibbs file                                                                            emsi char odcontrolraemsisession information char odcontrolraemsicrtdef char odcontrolraemsiprotocols char odcontrolraemsicapabilities char odcontrolraemsirequests char odcontrolraemsisoftware char odcontrolraholdattr char odcontrolraholdattr char odcontrolraholdlen variable provide door information pertaining interactive emsi session established note  opendoors  manual end page variable available system produce ra  later style extended exitinfobbs door information file iemsi session established boolean variable odcontrolraemsisession true session established variable false full discussion iemsi protocol beyond scope manual specification iemsi protocol available opendoors support bb                                        eventdays unsigned char odcontroleventdays variable bitmapped flag day week next system event run bitmap bit follows             bit mask meaning             x sunday x monday x tuesday x wednesday x thursday x friday x saturday x day             information bitmapped flag see glossary item entitled  bitmapped flag  variable available system produce exitinfobbs door information file                                        event unsigned char odcontroleventerrorlevel errorlevel variable contains errorlevel associated next system event variable available system produce exitinfobbs door information file  opendoors  manual end page                                        event char odcontroleventforce force variable indicates whether next system event forced run particular time variable contains value true user forced offline order accommodate event variable false event wait user log normally variable available system produce exitinfobbs file                                        event char odcontroleventlastrun lastrun variable contains string representing date next system event last run format userlastdate variable variable available system produce exitinfobbs file                                        event char odcontroleventstarttime starttime variable contains string representing time next system event scheduled start format userlasttime variable variable available system produce exitinfobbs wildcat style doorsys door information file                                        event unsigned char odcontroleventstatus status variable represents status next system event equal value esenabled event information contained control structure valid variable available system produce exitinfobbs file  opendoors  manual end page                                        sysopname char odcontrolsysopname odcontrolsysopname variable contains name sysop bb door running variable available bb system produce dorinfo def including ra qbbs process dorinfodef exitinfobbs file wildcat style doorsys file                                        systemcalls long odcontrolsystemcalls variable contains total number call placed bb available bb produce exitinfobbs file                                        systemlast char odcontrolsystemlastcaller caller string contains name previous caller bb line available exitinfobbs                                        systemlast char odcontrolsystemlasthandle handle string contains handle alias previous caller bb line available exitinfobbs                                        systemname char odcontrolsystemname odcontrolsystemname variable contains name bb door running variable available bb system produce dorinfo def including ra qbbs process dorinfodef exitinfobbs file                                        timelog char odcontroltimelogstartdate variable string contains date beginning time period time log recorded variable available system produce exitinfobbs file  opendoors  manual end page int odcontroltimelogbusyperhour variable array element element indicating total number time bb use hour day element corresponds time period  element corresponds time period  order determine frequency system use hour percentage simply calculate total entry array divide given entry total order come average variable available system produce exitinfobbs file int odcontroltimelogbusyperday variable array element element indicating total number time bb use day week element corresponds sunday element monday order calculate frequency system use day week use method calculating frequency call hour described available system produce exitinfobbs file note least version remoteaccess maintain variable correctly thus even presence exitinfobbs file array may contain zero entry                                        useransi char odcontroluseransi variable contains boolean value indicating whether user ansi mode turned ansi graphic mode enabled variable contain value true ansi graphic mode disabled variable contain value false many opendoors function test setting variable order determine whether send ansigraphics control character also variable contains true value opendoors display  ansi  indicator status line may change value variable time first call odinit opendoors function depending upon bb system door running change variable may may result change user ansi setting upon return bb  opendoors  manual end page variable available door information file format                                        user unsigned char odcontroluserattribute attribute variable bitmap eight flag represent individual piece information pertaining user currently online flag follows                   bit mask description                   x user deleted x screen clearing x   prompt x ansi mode x user nokill setting x transferpriority x full screen editor x quiet mode                   information using setting bitmapped flag please see entry entitled  bitmaped flag  glossary manual note variable available system produce exitinfobbs format door information file                                        user unsigned char odcontroluserattrib attrib see userattrib variable information variable like userattrib variable except contains different information bitmapped flag odcontroluserattrib variable follows                   bit mask description                   x user hotkeys setting x avatar graphic x full screen reader x hidden userlist                    opendoors  manual end page note variable available system produce exitinfobbs door information file                                        user unsigned char odcontroluserattrib attrib variable contains user attribute flag ra  later exitinfobbs file used                                        useravatar char odcontroluseravatar variable boolean value indicating whether avatar graphic mode avatar graphic available many opendoors function make use avatar graphic code greater display speed avatar graphic mode avt indicator appear status line door running system produce ra  style extended exitinfobbs door information file useravatar variable set automatically extended exitinfobbs file available value default false case may wish ask user whether wish use avatar graphic thus set variable                                        user char odcontroluserbirthday birthday variable string format odcontroluserlastcall variable store date user birthday available variable available system produce ra  later style extended exitinfobbs wildcat style doorsys file                                        user char odcontrolusercallsign callsign variable string contains user amateur radio call sign variable available system produce chaintxt file  opendoors  manual end page                                        usercombined unsigned char odcontrolusercombinedrecord record variable array bitmapped flag flag corresponding individual message area case first bit odcontrolracombinedrecord corresponds first message area second bit second message area given bitflag turned user corresponding message area enabled combined access bit turned user area enabled combined access detailed description combined message access beyond scope manual variable available system produce ra  later style extended exitinfobbs door information file                                        usercomment char odcontrolusercomment variable string contains sysop comment user currently online comment may displayed opendoors status line variable available variable available system produce ra  later style extended exitinfobbs wildcat style doorsys file                                        usercredit unsigned int odcontrolusercredit variable contains total amount netmail credit caller left change variable bb door exit control returned bb variable available system produce exitinfobbs door information file                                        user char odcontroluserdataphone dataphone string contains user data business phone number available value available system produce exitinfobbs pcboardgap style doorsys wildcat doorsys format door information file  opendoors  manual end page                                        user int odcontroluserdeductedtime deducted time variable contains signed integer value indicates total amount time deducted user call variable available system produce ra  later style extended exitinfobbs door information file                                        userdownk unsigned int odcontroluserdownk variable contains total kilobyte file current user downloaded bb available system produce exitinfobbs wildcat style doorsys sfdoorsdat format door information file                                        user unsigned int odcontroluserdownlimit downlimit variable contains total number kilobyte caller permitted download call door allows file downloaded probably want compare value variable size file transferred total kilobyte already downloaded stored odcontrolusertodayk variable variable available system produce exitinfobbs file                                        user unsigned int odcontroluserdownloads downloads variable contains total number file current user downloaded bb available system produce exitinfobbs pcboardgap style doorsys wildcat style doorsys sfdoorsdat format door information file                                        userecho char odcontroluserechomailentered mailentered variable boolean value indicating whether user entered new echomail call variable value true echomail entered value false echomail entered  opendoors  manual end page variable contain valid value odinit opendoors function called change made variable reflected within bb software control returned bb variable accessible system produce exitinfobbs door information file                                        usererror char odcontrolusererrorfree free variable contains boolean value indicating whether user connected bb via error free connection eg vmnp similar modem protocol variable available system produce sfdoorsdat wildcat style doorsys ra  later style extended exitinfobbs door information file                                        userfirst char odcontroluserfirstcall call variable string contains date user first call format odcontrol userlastcall variable variable available system produce ra  later style extended exitinfobbs door information file                                        user unsigned char odcontroluserflags flag odcontroluserflags variable array four sysop defined bitmapped flag represent sort information user odcontroluserflags store flag bit respectively likewise odcontroluserflags store flag b b variable available system produce exitinfobbs format door information file                                        userhandle char odcontroluserhandle variable contains user alias handle name user alias handle variable blank variable available system produce chaintxt ra  later extended exitinfobbs wildcat style doorsys door information file  opendoors  manual end page                                        user char odcontroluserhomephone homephone string contains user home data phone number available value available system produce one following door information file exitinfobbs pcboardgap style doorsys wildcat style doorsys sfdoorsdat                                        user unsigned char odcontroluserlastpwdchange last pwdchange variable contains number call user made since last changed password variable available exitinfobbs file                                        user char odcontroluserlastdate lastdate variable string containing date user last call bb always format  mmddyy  mm two digit representing number month user call january february dd two digit representing day month user last call beginning mm last two digit year user last call variable available system produce one following door information file chaintxt exitinfobbs pcboardgap style doorsys wildcat style doorsys file                                        user unsigned int odcontroluserlastread lastread variable contains number highest message number user read available exitinfobbs format door information file  opendoors  manual end page                                        user char odcontroluserlasttime lasttime variable contains string representing time user last call bb always format  hh mm  hh two digit representing hour format hour user last call mm two digit representing minute user last call thus following string would valid entry string             pm variable available system produce exitinfobbs wildcat style doorsys format door information file                                        user char odcontroluserlocation location string contains name location current user calling usually name city region province state etc sometimes country user life content variable displayed opendoors status line value variable valid odinit opendoors function called also may change value variable wish however change may immediately reflected status line may may cause setting changed user return bb variable available system produce one following door information file dorinfo def exitinfobbs pcboardgap style doorsys wildcat style doorsys sfdoorsdat callinfobbs available chaintxt doorway style doorsys file                                        user char odcontrolcallerlogindate logindate variable contains string representing date current call bb began variable format odcontroluserlastdate variable described  opendoors  manual end page variable available system produce exitinfobbs file                                        user long odcontroluserloginsec loginsec variable contains user security login used detect change sysop program course call comparing value odcontrolusersecurity variable variable available system produce exitinfobbs file                                        user char odcontroluserlogintime logintime variable contains string representing time day current call bb began variable format odcontroluserlasttime variable also described variable available system produce exitinfobbs wildcat style doorsys sfdoorsdat file                                        user char odcontroluserlogonpassword logon password variable string contains user password time current call bb began variable used detect change sysop program user password taken place course call order detect change simply compare content string content odcontroluserpassword variable variable available system produce exitinfobbs format door information file                                        user char odcontrolusermenustack menustack variable array string containing stack bb menu executed used record current position user within bb menu system string contains base portion filename menu without extension odcontrolramenustackpointer variable point top menu stack however  opendoors  manual end page complete discussion menu stack beyond scope manual variable available system produce ra  later style extended exitinfobbs door information file                                        user unsigned char odcontrolusermenustackpointer menustack pointer variable point top current menu stack information menu stack please refer odcontrolramenustack variable variable available system produce ra  later style extended exitinfobbs door information file                                        user unsigned int odcontrolusermessages message variable contains value representing total number message written user available exitinfobbs wildcat style doorsys format door information file                                        username char odcontrolusername string contains name user currently line used opendoors display current user name status line likely used door differentiating among different user case probably change value variable user name usually change could result problem returning bb system example using variable see exvotec example program variable available bb system                                        usernet unsigned int odcontrolusernetcredit credit variable contains amount netmail credit current user name variable available system produce exitinfobbs file  opendoors  manual end page note wish change value user remaining netmail credit use odcontrol usercredit variable instead variable                                        usernet char odcontrolusernetmailentered mailentered variable boolean value indicating whether user entered new netmail groupmail call variable value true netmailgroupmail entered value false netmailgroupmail entered variable contain valid value odinit opendoors function called change made variable reflected within bb software control returned bb variable accessible system produce exitinfobbs door information file                                        usernum unsigned int odcontrolusernum variable contains number user record user database file first record useful changing user setting reread bb user phone number security level might altered call back verification door however value variable altered variable available system produce following door information file format chaintxt pc boardgap style doorsys wildcat style doorsys sfdoorsdat exitinfobbs                                        user unsigned int odcontrolusernumcalls numcalls variable contains total number call current user placed bb available system produce exitinfobbs pcboardgap wildcat style doorsys door information file  opendoors  manual end page                                        user unsigned int odcontrolusernumpages numpages value variable contains total number time user paged sysop used limit number time user permitted page sysop opendoors increment variable every time user page sysop via odpage function variable used type door information file however variable reflect value within bb exitinfobbs file produced otherwise variable contain number time user paged within door total number time user paged exitinfobbs system change value variable reflected within bb upon return door                                        user char odcontroluserpassword password variable contains user password accessing bb opendoors use value variable contain valid value odinit opendoors function called may change value variable note however change variable may may cause setting changed control return bb depend upon particular bb system door running variable available system produce one following door information file exitinfobbs pcboardgap wildcat style doorsys sfdoorsdat callinfobbs                                        userpending unsigned int odcontroluserpending variable represents total value netmail written current user yet exported message base variable available system produce exitinfobbs door information file                                        userreason char odcontroluserreasonforchat forchat variable string containing reason user wish chat sysop entered time paging sysop variable contain empty string  opendoors  manual end page user paged sysop reason user wish chat unknown see also odcontroluserwantchat variable variable available bb system regardless style door information file produce however variable passed door bb thus user reason chat within door necessarily correspond reason chat outside door                                        userrip char userrip variable set true user rip remote imaging protocol graphic enabled false setting determined door information drop file many case case automatically determine whether user system support rip graphic using odautodetect function see page                                        userripver byte userripver variable contains version rip protocol use variable available remoteaccess  exitinfobbs file                                        user unsigned int odcontroluserscreenlength screen length value variable represents total number line displayed user screen usually either may wish make use variable allow door pause display long piece text every screen length order allow user read information pass screen case would simply maintain counter total number line displayed value reach one le length user screen display prompt asking user whether wish continue variable set user setting within bb system produce following door information file format chaintxt exitinfobbs pcboardgap wildcat style doorsys callinfobbs file  opendoors  manual end page variable used opendoors function odlistfiles variable contains valid value opendoors pause listing file every screen give user option continuing aborting disabling  continue  prompt rest file listing thus using odlistfiles system produce one door information file listed may wish obtain user screen length user screen length available particular type door information file found set value variable default going set value variable called odinit opendoors function                                        user unsigned char odcontroluserscreenwidth screenwidth variable contains value representing width user screen often equal variable available system produce chaintxt ra  later style extended exitinfobbs door information file                                        user unsigned int odcontrolusersecurity security variable contains numerical value representing user security access level bb may wish use value determine whether current user door access certain sysoponly function case may wish configuration file used door sysop may define minimum security level sysop access would able compare configuration setting security level stored variable order determine whether sysop function available alternative method used exvotec sample door determining whether current user sysop compare user name value odcontrolsysopname variable method advantage requiring configuration program disadvantage door function correctly bb system odcontrolsysopname variable available bb system odcontrolusersecurity variable available bb system produce following door information file  opendoors  manual end page format chaintxt exitinfobbs pcboardgap wildcat style doorsys sfdoorsdat callinfobbs                                        usersex char odcontrolusersex variable contains single character representing gender user currently online variable contain uppercase f user female upper case user male variable available system produce chaintxt ra x style exitinfobbs file                                        usersubdate char odcontrolusersubdate variable string format odcontroluserlastdate variable store date expiry user subscription bb variable available system produce pcboardgap wildcat style doorsys ra  later style extended exitinfobbs door information file                                        user int odcontrolusertimelimit timelimit variable contains amount time minute user left door note value may may equal total amount time user left bb depending upon whether bb thirdparty door manager program allows limited amount time door variable contains valid value odinit opendoors function called opendoors us variable keep track much time user left door automatically warn user nearly time used opendoors also force user door time door expired opendoors automatically subtracts one minute variable every minute opendoors active unless chat mode activated case user time freeze also adjusts value variable sysop us time adjustment function key hence normally need alter value variable however may case wish subtract penalty add bonus user time  timebank  door door game permit user  gamble time   opendoors  manual end page depending bb system door running value variable may may effect user time left upon return bb bb system either reset user time value rewritten door information file variable always subtract amount time spent door user remaining time variable available door information file format                                        user unsigned int odcontrolusertodayk todayk variable contains total kilobyte file current user downloaded bb current day available system produce exitinfobbs pc boardgap wildcat style doorsys sfdoorsdat format door information file                                        userupk unsigned int odcontroluserupk variable contains total kilobyte file current user uploaded bb available system produce exitinfobbs wildcat style doorsys sfdoorsdat file                                        useruploads unsigned int odcontroluseruploads variable contains total number file current user uploaded bb available system produce exitinfobbs pcboardgap wildcat style doorsys sfdoorsdat format door information file                                        user char odcontroluserwantchat wantchat variable boolean value indicates whether user wish chat sysop ie user paged sysop yet receive chat sysop variable used door information file format however change variable reflected bb  opendoors  manual end page door running system produce exitinfobbs door information file variable automatically turned ie set true user begin page sysop chat within odpage function automatically turned ie set false sysop break chat via chat function key also setting variable true turn flashing wantchat indicator opendoors status line                                        user unsigned int odcontroluserxirecord xirecord variable contains number user record userxibbs file variable available system produce remote access  later style extended door information file  opendoors  manual end page control structure door setting                                        section deal variable opendoors control structure reflect current door setting variable follows odcurattrib current display attribute  unknown odokaytopage control whether user currently permitted page sysop odpageendmin end valid paging hour odpagestartmin start valid paging hour odsilentmode turn local user interface oduserkeyboardon control whether opendoors currently accept input remote user keyboard odupdatestatusnow force immediate update status line sysopnext indicates whether sysop reserved use system current call                                        odcur int odcontrolodcurattrib attrib readonly value store current display color attribute value  current display color unknown door first begin execution                                        od char odcontrolodokaytopage okaytopage variable allows control whether user currently permitted page sysop via odpage function value pageenable indicates paging currently permitted regardless sysop page hour setting value pagedisable indicates paging current permitted value pageusehours indicates odpage function check value  opendoors  manual end page odpagestartmin odpageendmin variable order determine whether paging permitted odokaytopage variable set call odinit opendoors function default value pageusehours information odpage function see page                                        od unsigned int odcontrolodpageendmin pageendmin variable used set beginning valid sysop paging hour within odpage function odcontrolodokaytopage variable described set maybe opendoors check value variable prior paging sysop via odpage function variable contain time valid sysop paging hour end represented number minute since midnight information odpage function see page                                        od unsigned int odcontrolodpagestartmin pagestartmin variable used set beginning valid sysop paging hour within odpage function odcontrolodokaytopage variable described set maybe opendoors check value variable prior paging sysop via odpage function variable contain time valid sysop paging hour begin represented number minute since midnight information odpage function see page                                        odsilent bool odcontrolodsilentmode mode variable set true prior first call opendoors function opendoors operate silent mode local display sysop command used silent mode automatically disabled program running local mode  opendoors  manual end page                                        odupdate char odcontrolodupdatestatusnow statusnow setting variable true force opendoors update status line next odkernel execution status line updated variable reset default value false                                        oduser char odcontroloduserkeyboardon keyboardon variable boolean value indicating whether opendoors currently accept input remote user opendoors provides function key usually alt k unless changed default allow sysop temporarily prevent user control door sysop activates feature flashing keyboardoff indicator appear status line variable set false sysop press alt k combination second time toggle user keyboard back flashing indicator disappear variable set back true                                        sysopnext char odcontrolsysopnext variable boolean value indicating whether  sysop next  feature activated  sysop next  feature reserve system sysop call ended toggled within opendoors use function key altn default also  sysop next  feature activated indicator appear opendoors status line variable available system produce sfdoorsdat ra  later style extended exitinfobbs door information file information testing type door information file available please see page  opendoors  manual end page control structure diagnostics                                        help diagnosing problem opendoors program opendoors store information recent error occurred opendoors function return  error   failure  state reason failure recorded following opendoors control structure variable provides diagnostics information oderror store  reason code  last failed opendoors api function call                                        oderror int odcontroloderror opendoors api function return  error   failure  state usually denoted either value false null reason failure recorded variable since successful function call alter value odcontroloderror variable must careful check value odcontroloderror variable also check opendoors function return code order determine function failed variable always store reason recent function call failure errnone function failed oderror may take following value errnone indicates error occurred yet errmemory function unable allocate required memory usually indicates enough available memory failure may also due memory corruption caused program inadvertently overwriting heap structure program compiled either small medium memory model try recompiling compact large huge memory model program already compiled compact large huge memory model try making system memory available program  opendoors  manual end page errnographics setting indicates function called requires ansi avatar rip graphic mode none mode active errparameter invalid parameter passed opendoors function check function description chapter four determine required value function parameter errfileopen opendoors unable open file due specified filename existing due file locked exclusive access another process due hardware failure errfileread opendoors able open specified file unable read required data file error may due invalid file format due portion file locked another process due hardware failure errlimit internal function limit exceeded refer function description chapter four information function limitation errnoremote indicates function called valid local mode odcarrier odsetdtr  opendoors  manual end page control structure opendoors customization                                        opendoors control structure provides many variable allow customize opendoor behavior appearance customization variable fit one following category general behavior customization variable sysop function key customization variable color customization variable languagespecific prompt customization variable section deal variable fit first category  general behavior customization variable  category dealt following section chapter brief overview variable grouped section opendoors control structure following overview detailed description variable odappicon program icon win version odboxchars array character used oddrawbox function odbeforeexit function call prior exiting odcafterchat function call sysop chat odcaftershell function call do shell odcbeforechat function call prior sysop chat odcbeforeshell function call prior do shell odcfglines set configuration file custom door information file line keywords odcfgtext set builtin configuration file keywords opendoors recognize odchatactive control whether sysop chat mode active odclearonexit control whether screen cleared upon door exit  opendoors  manual end page odcolordelimiter indicates character delimit imbedded color code odprintf function odcolornames string opendoors recognizes name various text color odconfigfile used enable disable opendoors configuration file system odconfigfilename set filename read configuration file system odconfigfunction callback function opendoors call allow program process custom configuration file entry oddefaultpersonality set default personality used opendoors multiple personality system also set personality use mp active oddefaultripwin whether opendoors use default line rip window ansi text true line window false oddisable disable opendoors activity reading door information file monitoring carrier detect remaining time oddisabledtr specifies string sent modem prevent modem hanging dtr lowered odemusimluatemodem simulates modem display speed emulation function odsendfile oddispemu odhotkeymenu oderrorlevel set errorlevel opendoors exit various condition odforcelocal force door operate local mode ignoring door information file using default user setting odhelpcallback allows provide help menu item win version opendoors  opendoors  manual end page odinbufsize set size opendoor internal localremote inbound buffer odinactivewarning number second hanging opendoors display inactivity timeout warning odinactivity control user inactivity timeout odkerexec called whenever odkernel executes odlastinput indicates whether last input came remote user  local sysop  odlistpause control whether user may pause display within odlistfiles odsendfile function using p key odliststop control whether user may terminate display within odlistfiles odsendfile function using ctrl k etc odlogfile enables disables opendoors log file system odlogfiledisable prevents logfile opened even logfile enabled odlogfile odlogfilemessages array message string opendoors use writing log file entry odlogfilename contains filename possibly path logfile odmaxtime indicates maximum length time user permitted use door odmaxtimededuction indicates amount time temporarily taken away user remaining time result maximum door time setting odmps enables disables opendoors multiple personality system odnofilefunc called door information file read  opendoors  manual end page odnoracodes disables translation raqbbs control code odnocopyright prevents opendoors displaying name version number door program begin execution odnoexit prevents opendoors exiting odexit function called odpagelen control length sysop page beep odpagepausing enables disables page pausing odsendfile odhotkeymenu odlistfiles function odpagestartmin indicates time day sysop paging first enabled odpagestatusline status line activated user page sysop odpageendmin indicates time day sysop paging disabled odprogname store name program odprogversion store version number program odprogcopyright place copyright information odregkey store registration key receive purchasing opendoors odregname store name company name purchased opendoors license registration odspawnfreezetime indicates whether user time remaining continues decreased execution odspawn  function false timer  frozen  true odswappingdisable disables swapping do shell odspawn  function odswappingnoems prevents swapping form done em expanded memory  opendoors  manual end page odswappingpath location disk swap file created odstatuson control whether status line sub system active odtimemsgfunc called instead displaying time limit warning message                                        odapp hicon odcontrolodappicon icon normally win version opendoors display icon application title bar window taskbar helpabout dialog box supply icon setting variable point handle icon returned loadicon                                        odbox char odcontrolodboxchars char variable allows specify character oddrawbox function us drawing boarder window element array follows odboxchars boxupperleft upper left corner box odboxchars boxtop top horizontal line odboxchars boxupperright upper right corner box odboxchars boxleft left vertical line odboxchars boxlowerleft lower left corner box odboxchars boxlowerright lower right corner box odboxchars boxbottom bottom horizontal line odboxchars boxright right horizontal line                                        odbefore void odcontrolodbeforeexit exit variable contains pointer function opendoors call prior exiting null wish function called exit time example use variable see description exvotec example program begin page  opendoors  manual end page                                        odcafter void odcontrolodcafterchat chat function pointed variable called sysop chat mode ended may useful allowing save user screen content prior chat restoring afterwards variable contains default value null function called alter string text displayed sysop chat see odcontrolodafterchat variable described section prompt customization portion control structure                                        odcafter void odcontrolodcaftershell shell function pointed variable called sysop returned do shell variable contains default value null function called alter string text displayed do shell see odcontrolodaftershell variable described section prompt customization portion control structure                                        odcbefore void odcontrolodcbeforechat chat function pointed variable called prior entering sysop chat mode may useful allowing save user screen content prior chat restoring afterwards variable contains default value null function called alter string text displayed prior sysop chat see odcontrolodbeforechat variable described section prompt customization portion control structure replace opendoors sysop chat facility simply activate chat mode function called chat mode facility remain active opendoors set odcontrolodchatactive variable false wish terminate chat mode prior variable set false set variable false wish opendoors activate chat mode  opendoors  manual end page                                        odcbefore void odcontrolodcbeforeshell shell function pointed variable called prior executing sysop do shell variable contains default value null function called alter string text displayed do shell see odcontrolodbeforeshell variable described section prompt customization portion control structure                                        odcfglines char odcontrolcfglines array contains string keywords represent various line definition custom door information file keyword must character le length keywords case sensitive see page information defining custom door information drop file format default value array follows  ignore   comport   fossilport   modembps   localmode   username   userfirstname   userlastname   alias   hoursleft   minutesleft   secondsleft   ansi   avatar   pagepausing   screenlength   screenclearing   security   city   node   sysopname   sysopfirstname   sysoplastname   systemname   rip  wish change variable must calling opendoors function  opendoors  manual end page                                        odcfgtext char odcontrolodcfgtext array string contains builtin configuration file keywords recognized opendoors keywords may character size case sensitive wish change setting must calling opendoors function default value array follows  node   bbsdir   doordir   logfilename   disablelogging   sundaypaginghours   mondaypaginghours   tuesdaypaginghours   wednesdaypaginghours   thursdaypaginghours   fridaypaginghours   saturdaypaginghours   maximumdoortime   sysopname   systemname   swappingdisable   swappingdir   swappingnoems   lockedbps   serialport   customfilename   customfileline   inactivitytimeout   pageduration   chatusercolor   chatsysopcolor   filelisttitlecolor   filelistnamecolor   filelistsizecolor   filelistdescriptioncolor   filelistofflinecolor   personality   nofossil   portaddress   portirq   receivebuffer   transmitbuffer   pagepromptcolor   localmode   popupmenutitlecolor   opendoors  manual end page  popupmenubordercolor   popupmenutextcolor   popupmenukeycolor   popupmenuhighlightcolor   popupmenuhighkeycolor   nofifo   fifotriggersize   diabledtr   nodtrdisable                                         odchat char odcontrolodchatactive active variable set true sysop chat mode active set false sysop chat mode active variable used determine whether chat mode active force chat mode end sysop press chat mode key alt c default personality used chat mode active variable set false                                        odclear char odcontrolodclearonexit onexit variable contains boolean value indicates whether wish opendoors clear screen prior exiting variable default value true cause screen cleared door program exit however may wish set variable value false cause content screen remain unchanged door exit setting variable false probably result messy display door return control batch file door return directly bb result smoother transition door back bb sysop left blank screen door configuration file configuration program may wish option allow individual sysop determine whether screen cleared door exit                                        odcolor char odcontrolodcolordelimiter delimiter variable set character used delimit color code odprintf function default back quote character wish able display back quote character using odprintf function thus  opendoors  manual end page wish use different character delimit color code odprintf function simply set variable alternative character wish use wish disable imbedded color code feature odprintf function simply set variable value zero information odprintf imbedded color code see description odprintf function begin page                                        odcolor char odcontrolodcolornames name array set string opendoors recognize color description keywords keywords imbedded odprintf format string also keywords used change color setting opendoors configuration file wish change keywords normally calling opendoors function keywords always supplied upper case character default value array follows  black   blue   green   cyan   red   magenta   yellow   white   brown   grey   bright   flashing                                         odconfig void odcontrolodconfigfile void file set variable includeconfigfile enable opendoors configuration file system set noconfigfile disable configuration file system variable set prior first call opendoors function information opendoors configuration file system see page  opendoors  manual end page                                        odconfig char odcontrolodconfigfilename filename set variable point string containing filename wish opendoors configuration file system read variable default value null filename doorcfg used default                                        odconfig void odcontrolodconfigfunction char keyword char function option set variable point function opendoors call line unrecognized keywords encountered configuration file allows add configuration file keywords first parameter function pointer string containing unrecognized keywords second parameter pointer string containing option specified keyword option specified keyword string length                                        oddefault void odcontroloddefaultpersonality unsigned char personality operation variable set default personality opendoors use multiple personality system active multiple personality system active personality set variable personality available variable set prior calling opendoors function variable set point personality function set one manifest constant represent one builtin personality peropendoors perpcboard perra perwildcat information opendoors multiple personality system see page  opendoors  manual end page                                        oddefault char odcontroloddefaultripwin ripwin variable default false set false opendoors reset rip text window line window appropriate door support ripgraphics nonrip mode variable set true opendoors use default sized text output window line size                                        oddisable unsigned int odcontroloddisable variable bitmapped flag used disable certain opendoors feature normally active order allow maximum customization opendoors bit variable represents different feature disabled disable feature set bit corresponds particular feature enable feature bit reset bit represented keyword follows disinfofile setting disinfofile bit odcontroloddisable variable allows prevent opendoors reading rewriting door information file wish disable opendoors reading door information file must prior calling odinit opendoors doordriver function time must also manually set required variable normally set information obtained door information file comm port number baud rate user name may wish disable reading door information file number case example may wish manually read another format door information file supported opendoors obtain necessary door information program command line also using opendoors write nondoor communication program terminal program want prevent opendoors attempting read door information file startup discarrierdetect setting bit allows prevent opendoors exiting carrier detect signal modem disappears bit may set rest time use bit disable opendoors carrier detection probably want monitor state carrier detect signal using odcarrier function described page distimeout flag allows prevent opendoors exiting user run time discarrierdetect flag may set reset bit  opendoors  manual end page time often want use setting writing nondoor program would want exit particular amount time elapsed sure confuse flag user inactivity timeout disable inactivity timeout set docontrolodinactivity variable dislocaloverride setting affect opendoors behavior locked bps rate specified configuration file another bps rate specified door information file default opendoors initialize modem bps rate specified configuration file unless bps rate specified door information file case bps rate used indicate door operating local mode override bps rate specified configuration file setting flag disables local mode override causing modem always initialized locked bps rate even door information file specifies local mode used disbpssetting used fossil driver opendoors normally change bps rate passed bb bb pass valid fossil bps rate setting disbpssetting flag disables bps rate setting dislocalinput local keyboard may disabled setting bit affect sysop input circumstance input also accepted remote user setting effect sysop function key dissysopkeys setting also disables local keyboard however unlike dislocalinput function disables sysop function key door input local keyboard disdtrdisable setting prevents opendoors disabiling dtr response modem even specified opendoors disables dtr response exiting win version open serial port handle provided opendoors startup disnameprompt prevents opendoors prompting user name operating automatic local mode setting odforcelocal true specifying local command line note order disable opendoors status line odcontrolodstatuson variable used instead oddisable variable may also disable user inactivity timeout setting odcontrolodinactivity variable  opendoors  manual end page odcontrolodstatuson variable described later section                                        oddisable char odcontroloddisabledtr dtr unles disdtrdisable oddisable flag set win version opendoors attempt disable dtr response modem closing serial port serial port opened opendoors done sending series command modem possibly waiting response command string format specifies command followed required response command response separated single space character response required two command command may separated two space character  character translated carriage return  character translated one second pause default value string   ato                                         odemu bool odcontrolodemusimulatemodem simulatemodem flag set default value false opendoors terminal emulator display text full speed flag set true emulation function display text approximately speed would displayed sent modem based current connect speed local mode average modem speed bps assumed allows animation displayed locally speed would appear remote system switch affect following function oddispemu odsendfile odhotkeymenu                                        od unsigned char odcontroloderrorlevel errorlevel allows configure errorlevel program exit code opendoors exit various circumstance element array follows  opendoors  manual end page errorlevelenable enables disables custom errorlevels errorlevelcritical critical error errorlevel errorlevelnocarrier carrier lost errorlevel errorlevelhangup sysop manually terminated call errorleveltimeout user time expired errorlevel errorlevelinactivity keyboard inactivity timeout errorlevel errorleveldroptobbs sysop returned user bb errorlevel errorlevelnormal door exited normally wish override default errorlevels used opendoors set element errorlevelenable array true set remaining array element appropriate errorlevels note setting array affect errorlevels opendoors us cause door exit one reason listed setting effect errorlevel returned program explicitly exit calling odexit function program return calling exit returning main function                                        od char odcontrolodforcelocal forcelocal variable default false cause opendoors behave normally variable set true prior calling odinit opendoors function opendoors operate local mode case door information file read also user name used odcontrolusername set prior calling odinit first opendoors function default opendoors setting odcontrolodforcelocal set follows ansi mode time limit minute user location name bb  unknown location  otherwise bb name known user name set sysop name  sysop  sysop name specified configuration file may wish add  local  type parameter program command line permit sysop easily operate door local mode interface odcontrolodforcelocal setting                                        odhelp void odcontrolodhelpcallback void  opendoors  manual end page callback variable set nonnull value win version opendoors provide content item help menu call function pointed variable user chooses content menu item                                        odinbuf unsigned int odcontrolodinbufsize size specifies size character opendoor internal localremote inbound buffer size two byte storage required character buffer variable changed prior calling odinit first opendoors function set variable default value buffer corresponding variable confused fossil internal communication receive buffer set odcontrolodcomrxbuf unlike serial io receive buffer used character received remote system buffer serf queue input remote system local keyboard find character lost information set door user may wish increase size buffer                                        od unsigned int odcontrolodinactivity inactivity opendoors built userinactivity timeout facility automatically disconnect user appears sleeping keyboard user pressed key keyboard great length time warned disconnected due inactivity still respond another second opendoors automatically disconnect user return control bb software odcontrolodinactivity variable allows set maximum length time second user disconnected inactivity variable default value second may disable opendoors inactivity timeout altogether setting odcontrolodinactivity variable value  opendoors  manual end page                                        odinactive int odcontrolodinactivewarning warning variable set number second prior hanging opendoors display inactivity timeout warning variable changed first call opendoors api function explicitly set program setting default second                                        odkerexec void odcontrolodkerexec void odcontrolodkerexec set point function opendoors call function whenever odkernel executes provides easy way perform processing regular basis door execution odcontrolodkerexec variable default null                                        odlast char odcontrolodlastinput input indicates whether last key retrieved using odgetkey function originated remote user local sysop input originated remote variable set input originated local keyboard variable set                                        odlist char odcontrolodlistpause pause variable contains boolean value allows control whether user may pause displaying within odlistfiles odsendfile function variable set default value true user able pause display pressing p key resume display pressing key however pause feature may disabled setting variable false                                        odlist char odcontrolodliststop stop variable contains boolean value allows control whether user may abort displaying within odlistfiles odsendfile function variable  opendoors  manual end page set default value true user able pause display pressing ctrl k ctrl c key however stop feature may disabled setting variable false                                        odlocal void odcontrolodlocalinput int input set function called whenever sysop press nonsysopfunction key local keyboard key pressed passed function single int parameter accepts                                        odlogfile void odcontrolodlogfile void make opendoors log file system available program set variable includelogfile prior calling opendoors function set set nologfile opendoors log file system automatically enabled                                        odlogfile char odcontrolodlogfiledisable disable variable default value false unless  logfiledisable  option specified configuration file case variable set true variable set true opendoors write logfile even logfile system enabled using odcontrolodlogfile                                        odlogfile char odcontrolodlogfilemessages message array pointer string contains message opendoors automatically write log file log file system enabled wish change setting array calling opendoors function default string array follows  carrier lost exiting door   system operator terminating call exiting door   user time limit expired exiting door   user keyboard inactivity time limit exceeded exiting door   system operator returning user bb exiting door   opendoors  manual end page  exiting door errorlevel  invoking operating system shell   returning operating system shell   user paging system operator   entering sysop chat mode   terminating sysop chat mode   entering door   reason chat   exiting door                                         odlogfile char odcontrolodlogfilename name variable specifies filename optionally full path logfile opendoors perform logging variable effect set prior calling opendoors function log file name specified configuration file name stored variable set variable log file name specified configuration file default name  doorlog  used wish set variable prior calling odinit opendoors function                                        od unsigned int odcontrolodmaxtime maxtime variable specifies maximum length time user permitted use door normally set configuration file option upon entering door user time remaining online greater odmaxtime setting time remaining temporarily decreased maximum value upon exit door number subtracted minute added back onto user remaining time user remaining time le value setting effect value disables maximum time setting altogether                                        odmaxtime int odcontrolodmaxtimededuction deduction variable store amount time added user time upon exit door result maximum time deduction described maximum time feature used variable given value  opendoors  manual end page                                        odmps void odcontrolodmps void make opendoors multiple personality system available program set variable includemps calling opendoors function variable set set nomps multiple personality system disabled information opendoors multiple personality system see page                                        odno void odcontrolodnofilefunc filefunc odnofilefunc set point function function called whenever door information drop file located read provides easy mechanism add door information file reader provide local login prompt drop file present wish door operate local mode set odcontrolodforcelocal true prior returning function successfully read door information file format set odcontrolodinfotype custom neither variable set odnofilefunction opendoors report unable find read door information file exit immediately                                        odnora char odcontrolodnoracodes code variable default false set true translation remoteaccessquickbbs control code function odsendfile odhotkeymenu oddispemu disabled                                        od char odcontrolodnocopyright nocopyright variable boolean value allows prevent opendoors displaying name version number copyright notice registration information program begin execution set variable true disable display copyright associated information variable set true opendoors also change initial display color startup obvious reason variable take effect opendoors operating unregistered mode  opendoors  manual end page                                        odnoexit char odcontrolodnoexit variable contains boolean value allows prevent opendoors exiting shutting may useful want program processing called odexit function wish program exit automatically user drop carrier normally variable default value false indicating opendoors exit normally odexit function called however may optionally set variable true odinit opendoors function called case odexit function called either program manually automatically opendoors response user dropping carrier etc opendoors exit however normal operation closing serial port rewriting door information file carried set odnoexit variable true probably provide mechanism allow program detect opendoors shutdown due loss carrier etc best way provide function called beginning odexit function setting odcontrolodbeforeexit pointer described                                        odpage char odcontrolodpagelen len variable allows control length second sysop page beep produced user page sysop via odpage function                                        odpage char odcontrolodpagepausing pausing variable contains boolean value indicates whether page pausing enabled odsendfile odhotkeymenu odlistfiles function default value true indicates page pausing enabled value false indicates page pausing disabled  opendoors  manual end page                                        odpage int odcontrolodpagestartmin startmin int odcontrolodpageendmin odpage variable indicate start end time sysop endmin paging expressed number minute past midnight sysop paging available odpage function start time including end time                                        odpage char odcontrolodpagestatusline statusline variable control status line activated user page system operator via odpage function value cause corresponding status line activated value  prevents change made current status line setting variable normally set personality function see page                                        odprog char odcontrolodprogcopyright copyright variable contain program copyright notice  c copyright name  information used helpabout dialog box win version opendoors may used place future version opendoors                                        odprogname char odcontrolodprogname variable contain full name program character set opendoors use string  opendoors  place variable used variable set prior calling opendoors function include program version number information used write program name log file indicate program name various window among place  opendoors  manual end page                                        odprogversion char odcontrolodprogversion variable contain version information program used variable set prior calling opendoors function information used helpabout dialog box win version opendoors among place                                        odregkey unsigned log odcontrolodregkey purchase opendoors licence registration variable set registration key prior calling opendoors function                                        odregname char odcontrolodregname purchase opendoors licence registration variable set name company name listed opendoors registration record                                        odspawn char odcontrolodspawnfreezetime freezetime variable boolean value indicates whether user time remaining frozen execution one odspawn  function variable set true user time remaining decrease time odspawn  function executing however variable set false user time remaining continue subtracted execution odspawn  function default value variable false                                        odswapping char odcontrolodswappingdisable disable variable boolean value specifies whether opendoors attempt swap entire door upon  opendoors  manual end page do shell call one odspawn  function variable default false set true opendoors attempt perform swapping activity                                        odswapping char odcontrolodswappingnoems noems variable boolean value used prevent opendoors swapping em memory variable default value false set true opendoors attempt use em memory swapping swap disk                                        odswapping char odcontrolodswappingpath path variable specifies drive directory opendoors create disk swapping file applicable one path specified separating path semi colon character                                        odstatus char odcontrolodstatuson variable boolean value allows program completely disable opendoors status line variable default value true cause opendoors status line controllable function key displayed updated would normally however variable set false opendoors update status line allow status line redisplayed result one status line f f key pressed change value variable false true opendoors automatically redisplay status line note however status line nt automatically removed value variable changed true false order erase status line resetting value variable reset output window full screen calling function window  manually erase old status line either clearing bottom two line screen clearing entire screen important confuse use variable odsetstatusline function described page status line enabled sysop change status line displayed using function key f f odsetstatusline  opendoors  manual end page function allows program make change status line setting sysop make pressing one function key status line removed screen allowing full line text displayed pressing f key making appropriate call odsetstatusline function note however done status line still enabled turned pressing function key hand status line turned using variable odcontrolodstatuson status line subsystem disabled pressing function key  bring back  writing program status line would undesirable nondoor communication program would use odcontrolodstatuson variable hand wanted temporarily remove status line say order line door program output could viewed still allowing status line turned sysop function key would use odsetstatusline function information odsetstatusline function see page                                        odtime void odcontrolodtimemsgfunc char string msgfunc variable default value null set point function opendoors call function instead displaying time limit warning message user message redirected function inactivity timeout warning inactivity timeout expired le minute left today daily time limit expired  opendoors  manual end page control structure function key                                        within opendoors bb software door sysop access number function key permit sysop carry various function entering chat mode hanging user shelling do variable section allow customize key carry standard sysop function allowing customize door interface mimic bb package default opendoors emulates function key used remote access bb package may choose example door use key combination used pcboard addition opendoors provides interface allows add function key accepted door could allow add additional feature giving sysop access status screen display information door many variable section unsigned ints represent sysop key combination alt h f ctrl p value format returned turbo c  borland c bioskey function high order byte represents scan code key low order byte represents ascii value key combination note complete tutorial key code beyond scope manual information key code see documentation bioskey function accompanies compiler wish determine key code corresponds particular keystroke simple program listed compile use program simply display key code key pressed press escape key order determine code shift f would simply run program press shift f key combination keyboard record value displayed screen include stdioh include biosh main int nkey nkey bioskey printf  x x n  nkey nkey nkey xff nkey xff  opendoors  manual end page                                        built variable allow customize sysop function key function control function hanging user shelling key do variable assigned default value correspond function key used remoteaccess bb package however may change value variable order customize key combination carry function door program remember wish change value variable must called odinit opendoors function variable contain scan code asciicode combination representing keystroke described variable follows                                variable corresponding function                                odcontrol enter sysop chat mode keychat normally alt c odcontrol invoke sysop do shell keydosshell normally alt j odcontrol return bb without hanging keydropbbs normally alt odcontrol hangup user keyhangup normally alt h odcontrol turn user keyboard keykeyboardoff normally alt k odcontrol decrease user remaining time keylesstime normally downarrow odcontrol lock user bb system keylockout normally alt l odcontrol increase user remaining time keymoretime normally uparrow odcontrol array eight function key set keystatus current status line normally f f f f f f f f odcontrol  sysop next  toggle key keysysopnext normally alt n                                 opendoors  manual end page                                        custom addition sysop function key built opendoors function may wish add function key door key example might wish alt z combination display window information door may wish add user editor door accessible alt e combination four variable unsigned char odcontrolodnumkeys unsigned int odcontrolodhotkey unsigned int odcontrolodlasthot void odcontrolodhotfunction void provide program interface add sysop function key accessible remote user door written opendoors allows define sixteen custom sysop function key key code described beginning section stored odcontrolodhotkey array odcontrolodnumkeys variable record number key defined odcontrolodnumkeys variable default value order add function key simply place key code key first n element odcontrolodhotkey array set odcontrolodnumkeys variable number key defined opendoors watch keyboard predefined sysop function key pressed one key pressed opendoors place key code pressed key odcontrolodlasthot variable program able respond one custom function key pressed checking value odcontrolodlasthot variable time variable contains nonzero value case able determine function key pressed checking key code contained variable taking appropriate action key pressed sure reset value odcontrolodlasthot variable back zero indicate opendoors program received responded function key pressed alternative testing content odcontrolodlasthot variable also program respond custom sysop function key providing callback function array void odcontrolodhotfunction void nth element array corresponds nth element odcontrolodhotkey array use mechanism simply set appropriate element array point  opendoors  manual end page function wish opendoors call sysop press corresponding function key instance assume following function included program source code void addpoints void  add ten point user score  currentuser point  wanted function called sysop press page key could following  get number new sysop function key increment   total number key  int newkey odcontrolodnumkeys  set next sysop hotkey page  odcontrolodhotkey newkey x  set corresponding function addpoints  odcontrolodhotfunction newkey addpoints  opendoors  manual end page control structure color customization                                        variable allow customize color text displayed opendoors variable assigned color attribute format used odsetattrib described page variable follows                                variable color used                                odcontrol text typed sysop user odchatcolor chat mode odcontrol file description field filesbbs odlistcommentcol listing odcontrol color page pausing prompt odcontinuecol displayed end page odcontrol filename field filesbbs listing odlistnamecol odcontrol  missing  string filesbbs listing odlistofflinecol odcontrol file size field filesbbs listing odlistsizecol odcontrol title field filesbbs listing odlisttitlecol odcontrol color window title displayed odmenutitlecol odpopupmenu odcontrol color window border odmenubordercol displayed odpopupmenu odcontrol color normal text displayed odmenutextcol odpopupmenu odcontrol color shortcut key displayed odmenukeycol odpopupmenu odcontrol color selection bar odmenuhighlight displayed odpopupmenu col odcontrol color shortcut key displayed odmenuhighkeycol selected line odpopupmenu                                 opendoors  manual end page control structure text customization                                        addition aspect opendoors may customized use opendoors control structure text displayed opendoors may also customized may done either create door opendoors use language english simply give door  personal touch  variable described section allow define text want displayed opendoors time variable pointer string set default value odinit function thus wish change string pointed variable must odinit opendoors api function called set variable simply set point stringconstant program example set text displayed opendoors prior do shell could odcontrolodbeforeshell char  nrjust moment  nr  chart list text customization variable without  odcontrol  prefix sake brevity along default string note string must always length default string may display longer text within string wish display shorter text must pad remaining space string space order preserve length string must fixed length also length listed chart string asterisk length column may length also keep mind string  printfstyle  formatting sequence   must retain sequence order addition four pointer odafterchat odaftershell odbeforechat odbeforeshell set value null case opendoors display string variable string normally displayed                                       variable name len default value                                       odafterchat  nrchat mode ended  nrnr  odaftershell  nr  thanks waitingnrnr  odbeforechat  nrsysop breaking chat  nrnr   opendoors  manual end page odbeforeshell  nrplease wait moment  nr  odchatreason  would   like chat nr  odcontinue  continue yn  odcontinueno char n odcontinuenonstop char  odcontinueyes char odday  sun  odday  mon  odday  tue  odday  wed  odday  thu  odday  fri  odday  sat  odhangingup  terminating call  odhelptext  alt c hat h angup l ockout j do   k eyboardoff rop bb  odhelptext  opendoors  c copyright   brian pirie registered version  odinactivitytimeout  user sleeping keyboard inactivity   timeout  nrnr  odinactivitywarning  warning minute remaining   today  nrnr  odmonth  jan  odmonth  feb  odmonth  mar  odmonth  apr  odmonth  may  odmonth  jun   opendoors  manual end page odmonth  jul  odmonth  aug  odmonth  sep  odmonth  oct  odmonth  nov  odmonth  dec  odnokeyboard  keyboard  odnosysop  nri afraid sysop available   timenr  odnoresponse  responsenrnr  odnotime  sorry used time   today  nrnr  odoffline  offline  odpaging  nrpaging sysop chat  odpresskey  press enter continue   odsendingrip  xb sending rip file xc  odstatusline    node  odstatusline  u bps  odstatusline  security time   f help  odsysopnext  sn  odtimeleft  min  odtimewarning  warning minute remaining tod   ay  nrnr  odwantchat  wantchat                                         opendoors  manual end page                                        chapter special topic additional information win version                                        section provides additional information win version opendoors nt found elsewhere manual working win version opendoors take time read entire section also read section chapter describe compile run win program use opendoors win version opendoors designed similar possible do version opendoors mean possible compile source code produce do window program however porting existing do opendoorsbased program win platform important thing keep mind first thing note do program execution begin main function whereas window begin winmain function allow source file build do window version use conditional compilation opendoorh defines constant form odplatxxx indicating version opendoors used currently either odplatdos odplatwin however o unix version opendoors created would use definition odplatos odplatunix win version pas ncmdshow parameter passed winmain opendoors odcontrolodcmdshow program always start main window maximized regardless user requested also probably want use new odparsecmdline function do window program allow standard commandline option processed odparsecmdline function accepts command line information format passed main winmain function general structure opendoors program compiled either do win becomes  opendoors  manual end page  add includes  include  opendoorh  ifdef odplatwin int winapi winmain hinstance hinstance hinstance hprevinstance lpstr lpszcmdline int ncmdshow else int main int argc char argv endif  add local variable  ifdef odplatwin odcontrolodcmdshow ncmdshow odparsecmdline lpszcmdline else odparsecmdline argc argv endif  add rest program point  porting existing opendoors program win version opendoors another issue pay careful attention fact working bit world bit programming flat memory model many advantage k segment related limitation example must aware size basic data type used using may changed example int bit wide instead bit wide one place difference becomes important performing fileio directly dumping structure disk using function fread fwrite case must declare structure using type size bit bit world order file format compatible do win version program example exvotec example program declares structure using fixed sized type always available program including  opendoorh  type following size regardless platform compiling int bit signed integer int bit signed integer int bit signed integer byte bit unsigned integer word bit unsigned integer dword bit unsigned integer  opendoors  manual end page note obviously many detail bit programming window programming beyond scope document information issue discussed probably wish consult source information win programming probably aware win edition opendoors make extensive use multithreading number thread depend mode opendoors operating situation following thread may exist client thread executes code write program along opendoors api function local screen thread responsible drawing program output screen receiving input local keyboard frame window thread handle opendoors menu toolbar status bar sysop function key remote input thread receives input serial port add opendoors common localremote input queue carrier detection thread block executes carrier detect signal go low time update thread update user time remaining online monitor user timeouts since thread execute operating system determines actually something win version opendoors provides high performance responsiveness may also want make use multithreading directly within program please note may use thread perform background processing opendoors requires call opendoors api function one thread wish customize information displayed helpabout dialog box including program name copyright information provide application icon add online help help menu refer section manual following odcontrol variable odcontrolodappicon odcontrolodhelpcallback odcontrolodprogname odcontrolodprogversion odcontrolodprogcopyright section describes run window based door program dosbased bb package indicates com n autoassign set systemini file explanation follows default value  opendoors  manual end page setting window  prevents windowsbased program accessing serial port previously used nonwindowsbased program window program running closed setting value allowing windowsbased door program immediately use modem even msdos session vm still active value x greater allow windowsbased program access serial port dosbased program accessed serial port least x second example default setting window  comautoassign allowed windowsbased program access serial port do program used least second section describes run window based door program dosbased bb package also indicates dtron utility run start command return reason window program exit close serial port calling closehandle function window lower dtr line serial port modem configured respond hanging remote user talking people seems  feature  fundamental design flaw depending want look unique window wo nt effect opendoors running window nt however majority people undoubtedly using win version opendoors window unfortunate since win communication facility otherwise well designed rumor microsoft next upgrade window fix problem however must stress rumor nt received confirmation microsoft opendoors currently provides two solution problem first opendoors ability use already open serial port handle information supplied hopefully window based bb software provide option running door program serial port still open allow pas serial port handle door program command line opendoors allows serial port handle passed command line set directly odcontrol structure described later manual bb system form hot sharing serial port supported serial port remain open time closehandle problem avoided mean situation closehandle problem still dealt opendoors running window system opendoors open serial port must close serial port exiting would case msdos based bb system running  opendoors  manual end page window unless intermediate layer provided default situation opendoors disable dtr response modem close serial port sending command modem exact sequence command used opendoors specified odcontroloddisabledtr string dtr response disabling may turned setting disdtrdisable odcontroloddisable flag since many program opendoors included assume hangup modem lowering dtr signal small utility usually run door first raise dtr signal reenables dtr response modem utility included package named dtronexe wrote dtron utility freely redistributed program summarize dtr disabling opendoors subsequent reenabling dtron required win version opendoors running window modem configured hangup dtr signal lowered bb software ability pas live serial port handle door program setting com n autoassign systemini required win version opendoors called msdos session previously accessed serial port note win version opendoors requires window window nt run window x even win opendoors make use window nt multitasking multithreading service available win  opendoors  manual end page configuration file system                                        one useful opendoors feature optionally choose include program opendoors configuration file system required enable configuration file system include following line first call opendoors function odcontrolodconfigfile includeconfigfile opendoors search read opendoors configuration file specify name file default name doorcfg used using configuration file sysop set wide variety option modem system configuration information maximum time limit door even define custom door information drop file format example doorcfg file included opendoors package show format option automatically supported configuration file system configuration file format designed easy use example configuration file contains comment provide complete description option feel free redistribute doorcfg modified version file door program addition many configuration file setting already supported add setting specific particular program specify filename configuration file use odconfigfilename control structure variable example following line odcontrolodconfigfilename  mydoorcfg  cause opendoors look configuration file mydoorcfg instead default doorcfg opendoors fill first search configuration file directory specified odconfigfilename variable specific directory name supplied found search current directory configuration file system unable locate configuration file setting omitted file default value setting used automatically mean configuration file always optional unless program custom setting requires order run format configuration file follows blank line text following semicolon character ignored configuration option specified using keyword possibly followed one option keywords case sensitive option order option  opendoors  manual end page configuration file significant exception  customfileline  option information  customfileline  setting see section begin page builtin configuration option follow bbsdir bb system directory indicates door information file drop file found doordir door working directory door system file located opendoors automatically perform chdir directory initialization return original directory exit logfilename specifies filename path optional door record log information disablelogging prevents door writing log file node bb node number door running used opendoors unable determine node number mean daypaginghours specifies sysop paging hour sysop paging permitted beginning start time including end time time  hour format disable paging particular day set paging start end time time day one sunday monday tuesday wednesday thursday friday saturday pageduration duration sysop page value indicates number beep compose sysop page alarm maximumdoortime maximum length time user permitted access door user total remaining time bb le value user permitted access door shorter length time option disabled commenting line inactivitytimeout specifies maximum number second may elapse without user pressing key user automatically disconnected value disables inactivity timeouts sysopname name sysop opendoors usually determine sysop name door information drop file however bb package supply information case sysop name required door may supplied  opendoors  manual end page systemname like sysop name option usually determined door information file available sysop supply information chatusercolor specifies color text typed user sysop chat mode format color name included description odcolorconfig function chatsysopcolor specifies color test typed sysop chat mode filelisttitlecolor filesbbs listing color filelistnamecolor filelistsizecolor filelistdescriptioncolor filelistofflinecolor swappingdir directory disk swapping done swappingnoems disables swapping em memory swappingdisable disables swapping entirely lockedbps bps rate door communicate modem valid rate value force door always operate local mode option normally needed information usually available door information file fossilport specifies fossil driver port number modem connected fossil port usually corresponds com port com option normally needed information usually available door information file customfilename specifies filename used custom door information file format described detail customfileline specifies content particular line custom door information file format last two configuration file option  customfilename   customfileline  allow system operator using program define door information drop file format information topic see section begin page also extend opendoor configuration file format add option supplying callback function called whenever opendoors encounter unrecognized  opendoors  manual end page configuration file keyword prototype function follows customlinefunction char keyword char option cause opendoors use function would include following line first call opendoors function odcontrolodconfigfunction customlinefunction use different function name wish opendoors encounter unrecognized keyword call function passing pointer upper case version keyword string first parameter pointer option follow keyword second parameter instance following line encountered configuration file registeredto john smith sysop name parameter passed function would char keyword  registeredto  char option  john smith  custom line function written way opendoors pass configuration option function function recognize option would simply ignored example program demonstrates use custom line function add configuration file option program look three custom configuration file option  registrationkey   defaultcolor   displaywinners   registrationkey  option present numerical value following option stored global variable  key   defaultcolor  option present color description  bright red black  translated odsetattr color code using odcolorconfig color setting stored global variable defaultcolor since variable initialized x value dark white black option omitted color used default  displaywinners  option included configuration file global variable displaywinners set true regardless option may follow keyword include  opendoorh   include opendooorh   prototype custom line function  void customlinefunction char keyword char option unsigned long keyl  variable config option  unsigned char defaultcolorx  opendoors  manual end page char displaywinnersfalse main  program execution begin   begin door operation reading config file  odcontrolodconfigfile includeconfigfile  tell opendoors use custom line function  odcontrolodconfigfunction customlinefunction odinit  main program operation go  odexit false  exit program   code custom line function  void customlinefunction char keyword char option  option registration key  stricmp keyword  registrationkey   keyatol option  store key variable   option text color  else stricmp keyword  defaultcolor    get color value using odcolorconfig  defaultcolorodcolorconfig option  example option enabled keyword  else stricmp keyword  displaywinners    keyword present turn option  displaywinnerstrue  opendoors  manual end page defining custom door information file format                                        mentioned previous section opendoors configuration file system provides two setting allow sysop define custom door information file format permit opendoors door operate directly bb system produce door information file format directly supported opendoors custom door information file format defined using  customfilename  option followed one line beginning  customfileline  option  customfilename  option specifies filename used distinguish file format file format filename include path specify path door information file located sysop use bbsdir configuration file setting filename custom format one builtin format custom format override builtin format actual format custom file specified using number line begin keyword  customfileline  line correspond single line door information file option following  customfileline  keyword specifying information found line one following keywords ignore cause next line door information file ignored use line none option apply comport com port modem connected indicates local mode fossilport fossil port number modem connected modembps bps rate communicate modem nonnumerical value indicates local mode localmode door operating local mode username full name user userfirstname first name user userlastname last name user alias user pseudonym handle hoursleft hour user left online  opendoors  manual end page minutesleft minute user left online time left online format hh mm secondsleft second user left online time left online format hh mm s format mm s one time option used user time left taken total value ansi g ansi graphic mode avatar avatar graphic mode pagepausing user wish pause end screen screenlength number line user screen screenclearing screen clearing mode security user security level access level city city user calling node node number user connected sysopname full name sysop sysopfirstname sysop first name sysoplastname sysop last name systemname name bb example define custom door information file format consider following imaginary file format name dropinfotxt brian pirie  user name  local mode com  serial port use  bps rate    file creation time  time remaining minute  ansi mode ottawa canada  location format would defined opendoors configuration file follows  opendoors  manual end page customfilename dropinfotxt customfileline username customfileline localmode customfileline comport customfileline modembps customfileline ignore customfileline minutesleft customfileline ansi customfileline city notice first  customfileline  keyword configuration file corresponds first line dropinfotxt file second  customfileline  second line also notice keyword  ignore  used line contains file creation time since customfileline keyword allows read information  opendoors  manual end page multiple personality system                                        opendoors multiple personality system allows do version opendoors support multiple sysop function key status line  personality  commonly use feature conjunction  personality  setting opendoors configuration file allow sysop choose one builtin personality closely mimic bb software using opendoors includes following personality configuration keyword manifest constant                              standard peropendoors pcboard perpcboard remoteaccess perra wildcat perwildcat pcboard remoteaccess wildcat personality mimic status line function key used bb package name standard personality personality used default trimmed version status line provided opendoors  earlier addition using personality supplied opendoors create personality simply involves writing function opendoors call setup sysop function key display status line include following line first call opendoors function odcontrolodmps includemps include multiple personality system program also enables personality setting configuration file using configuration file system set default personality used opendoors setting odcontroloddefaultpersonality one manifest constant listed table included multiple personality system program setting determine personality use  personality  option set configuration file program later change personality using odsetpersonality function include multiple personality system program setting determine personality always used creating personality involves writing single function whenever opendoors need perform operation  opendoors  manual end page involves personality call function passing one following message value peropinitialize initialize personality installing custom function key peropdeinitialize deinitialize personality returning changed setting original value peropcustomkey indicates custom function key pressed peropdisplayx x number indicates specified status line drawn scratch peropupdatex x number indicates specified status line updated reflect change enabled multiple personality system setting odcontrolodmps includemps install personality function opendoors calling odaddpersonality call odaddpersonality supply string containing name personality along top bottom output line number use line number specify portion screen use door output leaving remainder screen available displaying personality status line personality installed opendoors selected sysop using  personality  configuration file option manually activated using odsetpersonality function information odaddpersonality function see page make personality function default personality setting odcontroloddefaultpersonality point personality function case builtin personality setting used default personality enabled multiple personality system setting odcontrolodmps includemps enabled multiple personality system manner personality function become one personality used within program creating personality use odcontrolodpagestatusline variable set status line activated user page system operator  opendoors  manual end page log file system                                        order system operator monitor system activity diagnose problem occurred system unattended common bb software door program record major event log file log file typically record date time even user logging transferring file sending message paging system operator similar activity sometimes system operator configure piece software running particular node write single log file case system operator prefer program write log file however software serving one line multi node bb system never attempt write log file used another node opendoors us  frontdoor format  log file standard chosen clearly documented format quickly becoming standard bulletin board software log file segment log file produced opendoors listed      thu feb vote   brian pirie entering door  user paging system operator  entering sysop chat mode  terminating sysop chat mode  user time expired exiting door enable opendoors log file system simply include following line first call opendoors function odcontrolodlogfile includelogfile opendoors initialized open log file begin logging activity unless logging disabled odcontrolodlogfiledisable variable log file name taken odcontrolodlogfilename variable usually set configuration file logfile name set opendoors use logfile named doorlog upon opening log file opendoors write entry indicating time use entered door odcontrolodprogname variable set program name written log file immediately current date information variable set opendoors write name version information place opendoors log file system enabled opendoors automatically produce logfile entry following event user paging sysop beginning chat end chat  opendoors  manual end page sysop entering returning do shell user inactivity timeout user time expired sysop dropping user back bb sysop hanging user sysop locking user user hanging bb program calling odexit function  opendoors  manual end page making door multinodeaware                                        majority bb system single phone line allowing one user access system time also many multinode bb system system quite possible one user may using door program simultaneously opendoors designed single node multinode operation however want program operate correctly multinode system number concurrency issue must keep mind writing code door program designed behave multinode system would singleline bbs others add special feature possible multinode environment instance may want permit user interact chat one another  real time  many simple door may require special attention multinode capability however door must access data file resource shared among node necessary carefully coordinate access resource two primary issue often concern creating door program multinode system first issue discussed coordinate concurrent file access multiple node second topic deal installation door program multinode system concurrent file access                                        one important issue arises writing door program multinode system coordinate simultaneous access single data file multiple instance program generally safe multiple node reading simultaneously single file multiple node updating file without coordination lead lost update problem consider example exvotec example program included opendoors package user vote poll exvotec must update total number vote user answer program intended single node operation could simply reading current number vote appropriate option adding one total writing updated total back file however approach used multi node system quite possible two user would vote poll node read poll record memory situation one node would add one total number vote poll record memory  opendoors  manual end page write updated information file second node would add one total without reading updated information written first node second node writes information file overwrites first node total final effect second user vote overwrites first first user vote lost solution problem lock file unit entire update operation prevent node accessing unit time unit could entire file single record file exvotec lock entire file performing update operation case may appropriate lock single record file important thing understand one node lock file unit node much wait first node finished update operation mean one node updating information node could possibly need access always perform lock read write unlock cycle quickly possible let look approach taken exvotec user indicated option heshe wish vote vote attempt open file exclusive access exvotec effect lock entire file duration file open another node attempt open file one node locked open operation fail c runtime library set errno variable eacces effect tell another node currently working file must wait turn case exvotec continues retry open operation node finished update time open operation succeed approach even work many node attempting update file time whichever node first attempt open file gain exclusive access file additional node forced wait access file one node finish file another node gain access file whichever happens next node reattempt open operation process continues waiting node chance perform update exvotec repeatedly try open file second time give reporting error indicate unable access file waiting process exvotec repeatedly call odkernel sysop function key carrier detection essential door operation continue performed exvotec successfully secured exclusive access file first read record going update important done file unit locked order ensure copy record memory match  opendoors  manual end page stored file exvotec update record based question user voted writes information back file exvotec immediately close file allowing node also access file exvotec carefully designed file update operation never interrupted instance opendoors function called could detect timeout terminate program file update operation progress delayed user make response file unit always unlocked case closed within fraction second locked order node never wait long access file presented detailed account exvotec handle multinode file access detail involved coordinating multiple file access overwhelming first begin come naturally begin always think term multinode scenario summarize important element typically involved multinode file access decide appropriate file unit lock application simple case entire file case may wish lock individual file record using appropriate runtime library function b always perform update operation lock read update write unlock cycle individual file unit chance node also need access file unit ensure update operation interrupted delayed user make response designed program concurrent file access test nt multinode bb system access perform testing multitasking environment multiple copy program running different window  opendoors  manual end page multinode configuration                                        second issue may want bear mind door program typically setup multinode system unfortunately may differ considerable depending upon bb software used however issue may consider discussed program must able locate correct door information file appropriate node bb system make separate door information file available node one following mean naming node door information file uniquely eg dorinfodef dorinfodef separate directory node door information file eg nodedoorsys nodedoorsys etc first case opendoors automatically select correct door information file assuming know node running see item c later case must tell opendoors directory must look find appropriate door information file may following mean specifying location file command line odparsecmdline used providing configuration file keyword set door information file location node providing different configuration file node see item b b using opendoors configuration file system nodespecific option used node accessing configuration file possible different configuration file node filename specified command line odparsecmdline used case configuration file used node case node number serial port information possible door information file location operation used basing configuration file example doorcfg file included opendoors package may want remove option file c many case program must also able determine node running information  opendoors  manual end page available door information file stored task environment variable opendoors automatically set appropriate node number odcontrolodnode otherwise program requires information specified program command line odparsecmdline function support option reason program might need know current node number include order opendoors display information correctly status line order determine configuration file read node directory look door information file order opendoors know door information file read eg dorinfodef dorinfodef etc order provide form realtime interaction node internode chat program running msdos multinode file access coordinated locking part file shareexe utility must installed  opendoors  manual end page                                        chapter troubleshooting getting assistance opendoors chapter                                        chapter perhaps important section entire manual provide detailed instruction help tracing source problem program written opendoors included chapter stepbystep opendoors troubleshooting guide chart listing common problem solution also included chapter information many mean available getting help opendoors including opendoors support bb opendoors echomail conference get touch strongly encouraged take time read chapter troubleshooting problem                                        experiencing difficulty program writing using opendoors suggested follow step listed order quickly solve problem also sure check  solution common problem  section manual many common difficulty people opendoors easily fixed using instruction  common solution  section also difficulty solving problem hesitate get touch always happy help problem addition may find mean opendoors support described latter chapter invaluable solving difficulty opendoors keep mind program write  bug  begin expect spend least programming project tracing solving error bug would nice every program written worked correctly first time fact life debugging always important part software life  opendoors  manual end page cycle fact often separate good program bad amount time programmer spend debugging improving unfortunately difficult impossible come  magic formula  debugging software debugging software really art science however basic guideline followed greatly ease task software debugging problem solving secret software debugging lie obtaining much information problem possible sometimes possible solve bug making intuitive change program rewriting piece code solve problem different mean debugging often requires  planned attack  planned attack generally involves little learning much going wrong possible first step solving bug usually lie locating source problem located problem solving often relatively simple procedure locating source bug use software debugger one built turbo c  borland c integrated development environment invaluable debugging program written opendoors also follow step listed order obtain information related problem trying solve reread section manual turbo c  borland c manual program source code apply problem experiencing check solution common problem section common problem opendoors solved using simple chart check value oderrno variable often provide vital clue source problem use oderrno variable described section still stuck please feel free get touch see end chapter information reaching always happy help opendoors general programming problem  opendoors  manual end page solution common problem                                        several common difficulty opendoors listed along suggested solution problem experiencing difficulty program written opendoors would suggest read section thoroughly common problem listed left margin solution listed right portion page                                        program check compiler able locate opendoors wo nt header file  opendoorh  accomplished either compile placing header file directory header file stdioh etc placing header file current directory sure linking program correct library memory model using see section compiling opendoors also sure source code file program exvotec library file listed project file project file loaded information compiling program written opendoors see page tried solution program still wo nt compile problem likely error source code file unable resolve problem feel free get touch                                        screen using odclrscr function clear screen getting result likely user clear online screen clearing turned wish force screen clearing regardless user screen clearing setting probably good idea use function call oddispemu  xc  true                                        fixup problem probably caused mismatch overflow memory model selection compiler memory model error library using see section compiling program opendoors information correct library using memory model selection  opendoors  manual end page opendoors support                                        powerful easy use door toolkit comprehensive manual two portion opendoors help write bb door similar program third element opendoors extensive opendoors support mechanism opendoors email conference support bb give chance share idea source code opendoors programmer lot information concerning opendoors along newest version online registration available opendoors world wide web site addition source also happy answer question hear suggestion future version opendoors remainder chapter provides information various source opendoors support also keep eye open  opendoors tech journal  produced regular basis user opendoors included newsletter information opendoors future version question answer opendoors bb door utility programming general sample source code much opendoors support bb                                        one mean receiving opendoors support via opendoors bb outline available opendoors bb newest version package always available download also available download example source code file may find helpful writing program opendoors access opendoors conference opendoors programmer share idea source code receive help difficulty learning opendoors get touch question comment suggestion bug report file truly may use programming registration key system user receive full access upon first call opendoors bb north american phone number support bb  opendoors  manual end page   opendoors support bb also fidonet address  interested list file available support bb simply filerequest  file  receive newest version opendoors filerequest  odoors  opendoors word wide web site                                        opendoors world wide web site setup provide todate information opendoors includes news concerning opendoors opendoors tip technique pointer source opendoors support online registration access newest version opendoors current url address opendoors web site http omegascscarletoncaugopendoorhtml however plan moving new location time year unable reach opendoors web site url please get touch able tell moved opendoors conference                                        opendoors conference devoted opendoors bb door bb utility programming general opendoors conference serf place people working opendoors share idea source code example trick technique opendoors conference receive help opendoors programming general also available opendoors conference information future version opendoors recent development concern bb door utility programmer opendoors conference also place suggestion future version opendoors opendoors bug report place announce availability program much information interest programmer working opendoors become involved opendoors conference following mean opendoors conference available internet mailing list subscribe send email listserv hmscom put  opendoors  manual end page subscribe opendoor message body help using listserver send email listserv hmscom put help message body opendoors conference available fidonet north america echo backbone available large number bb system fidonet capable system may also obtain opendoors feed directly moderator brian pirie getting touch                                        question opendoors would like help program writing suggestion future version opendoors please feel free get touch get touch following mean best way contact internet email primary email address pirie msncom difficulty contacting address may also reached address aa freenetcarletonca writing message opendoors support conference information opendoors conference see previous section chapter calling opendoors support bb information support bb provided earlier chapter sending question comment fax fax number   fidonet netmail address  would like able reply netmail message crashmail afraid simply afford choose send netmail please indicate whether would like reply routed netmail may work routed netmail available area place message hold poll pick  opendoors  manual end page conventional mail postal address brian pirie cedarock drive kanata km h canada try respond correspondence soon possible sort difficulty opendoors detailed information supply source code program causing problem duplicate problem quickly able determine source problem also write problem opendoors may wish sure read followed instruction section troubleshooting found page mind taking time answer question related opendoors may able save time writing waiting response simply following instruction troubleshooting section often answer question receive already manual  opendoors  manual end page aaa aa aa aaaaaaa aa aa aa aa aa aa                                        appendix content package main opendoors package distributed form single compressed archive file thus received version opendoors file whose name began odoors file listed included opendoors package file missing probably want look recent version opendoors another source note medium compact memory model library distributed separately main opendoors package miscaleneous file fileiddiz description opendoors package dorinfodef sample door info file testing program doorcfg sample opendoors configuration file example program exhelloc simple program using opendoors exchatc splitscreen sysop chat program exmusicc example ansi music opendoors exskic simple slalom skiing action game exvotec example online voting program votedosexe compiled version exvotec do version votewinexe exvotec compiled window version dtronexe free utility running win door library file odoorslib do small memory model library odoorllib do large memory model library odoorhlib do huge memory model library odoorwlib win import library microsoft version odoorsdll opendoors win dll header file opendoorh opendoors header file opendoors documenation ordertxt easytoprint order form opendoortxt opendoors programmer manual file  opendoors  manual end page bbbbbb bb bb bb bb bbbbbb bb bb bb bb bbbbbb                                        appendix b change version since version  lot work gone opendoors many month spent cleaning restructuring opendoors code process touched nearly every line opendoors code well making opendoors source code easier maintain also involved making opendoors easily portable bit multithreaded platform effort completed began work win port opendoors opendoors package includes do win version library giving option developing one platform win version opendoors highly multithreaded give best possible performance exciting new bb package designed specifically window nt work win version opendoors give head start developing application integrate smoothly new bb package even program used dosbased bb package win version opendoors allows take advantage window gui multithreading capability flat bit memory model do k limitation different memory model worry also allows access service available window based program odbc easy database access mapi email fax messaging internal restructuring opendoors win port package would enough alone count major new version version  also includes many exciting new feature enhancement bug fix new option  silent mode  added operating silent mode opendoor local sysop interface disabled output displayed local screen input accepted local keyboard silent mode activated setting odcontrolodsilentmode true prior first call opendoors function specifying silent commandline odparsecmdline used  opendoors  manual end page opendoors fully support rtscts flow control enabled default disable use rtscts line flow control use odcontrolodcomflowcontrol version  builtin serial io module would unable initialize serial port  us serial port  option turned desqview multitasking environment option turned multitasking environment typically remove serial port information bios data segment however seems serial io software commonly us default address port information available bios data area opendoors  changed thing opendoors provides standard commandline processing function odparsecmdline function provides one step method adding support many common commandline option program function handle option serial port information including nonstandard serial port configuration node number information user information drop file configuration file location silent mode turn local interface efficiency privacy one step local login without drop file detail run included example program votedosexe votewinexe help command line option odparsecmdline function particularly helpful several situation program used multinode system allows potential user try program local mode specifying local command line allows door information specified command line rather drop file supported bb system allows serial port handle directly passed program windowsbased bb system support provides customizable commandline help window win version opendoors new function odsleep allows suspend program execution specified number millisecond releasing time process multitasking environment call odsleep yield control process without forcing program execution suspended process waiting sysop page timing mechanism reworked default odcontrolodokaytopage set pageusehours allowing sysop paged paging hour  opendoors  manual end page set odpagestartmin odpageendmin rather allowing sysop paged time day night default permit sysop paging pm setting paging start end time value correctly permit paging hour day opendoors provides multiline editor function odmultilineedit editor allows user enter edit information span multiple line email message text file editor configured operate full screen mode smaller area screen specify editor designed easy use highly customizable one new feature opendoors  somehow omitted manual since version  possible set name drop file use including path filename odcontrolinfopath variable known inaccuracy missing information version  manual corrected example program exchatc expanded demonstrate opendoor standard chat mode replaced splitscreen chat mode within program multiple exvote c example file combined simplified single example program prior version  memory leak odpopupmenu function fixed odcontrolodopenhandle used provide opendoors already open serial port handle platform support currently applies win version opendoors variable set nonzero value prior calling first opendoors function odparsecmdline opendoors proceeds normally opening serial port closing serial port exiting new switch odemusimulatemodem added odcontrol set default value false opendoors terminal emulator display full speed always done however flag set true emulation function display text approximately speed would displayed sent modem based current connect speed allows animation displayed locally speed would appear remote system switch affect following function oddispemu  opendoors  manual end page odsendfile odhotkeymenu opendoors distinguishes serial port bps rate odcontrolbaud connection bps new variable odcontrolodconnectspeed situation separate value available connect speed eg caller connected bps opendoors display value status line currently separate connect speed obtained doorsys drop file format latest version qbbs exitinfobbs drop file supported new odeditstr flag editflagshowsize added default field shown odeditstr one character larger number character may entered esthetic reason cursor remains within highlighted field even full string entered however may prefer highlighted area reflect exact number character permitted accomplished setting editflagshowsize tab character expanded local display new remoteaccess  exitinfobbs field supported included addition following new odcontrol member userripver userattrib systemlasthandle operating  forced automatic local  mode door information file used opendoors display window prompt user name startup time new feature disabled specifying disnameprompt odcontroloddisable flag latest version sfdoorsdat drop file supported sfmaindat sfsysopdat sffiledat sfmessdat format sfdoorsdat also recognized new function odgetinput allows easily handle extended key program arrow key insert function key opendoors configuration file system display error exit program particular configuration file name specified configuration file found  opendoors  manual end page cccc cc cc cc cc cc cc cc cccc                                        appendix c future version make promise feature change seen future version opendoors would like take moment tell bit feature expect see future version opendoors probably already aware opendoors constantly evolving package help meet need programmer working opendoors nearly every idea change made package result suggestion comment receive people using opendoors reason likely continue produce new version opendoors long demand idea upgrade certainly shortage either right feature considering upcoming version opendoors include telnet support html support direct interfacing new window nt bb package feature help writing multinode door program direct interfacing bb system additional rip graphic support including possible display rip image local screen possible support additional programming language operating system improvement existing opendoors feature configuration file option multiple log file format many smaller change  opendoors  manual end page ddddd dd dd dd dd dd dd dd dd dd dd ddddd                                        appendix special thanks many people would like thank suggestion idea assistance making opendoors today among would like thank everyone registered opendoors participate opendoors conference provide many suggestion bug report word encouragement opendoors beta team thankyou putting problem along way certainly helped make opendoors better package people helped beta test opendoors  robert bouman doug crone greg diener patrick dixon joel downer mike fenton le howie vince jacob scott jibben dean mill jimmy rose jim woodward timothy ward mark williams last least would like thank wife pearl support long hour taken put opendoors together  opendoors  manual end page gggg gg gg gg gg gggg gg gg gg gg gggg                                        glossary ansi ansi acronym  american national standard institute  one standard approved ansi terminal display protocol allows case bb software perform certain display function changing color displayed text moving location cursor screen majority though bb user use terminal software ansi capability user graphic display capability using ascii mode instead ansi terminal protocol sometimes referred  ansi graphic  graphic sense provides visual control ascii tty terminal imply support bitmapped vector graphic compare ascii avatar api api acronym  application program er interface  api set well documented function variable data type use access certain service program write c program us standard c library function fopen strcpy using sort api use opendoors function odprintf odgetkey using function part opendoors api operating system provide apis allow program gain access operating system feature screen display file io communication api provided microsoft window window nt called win api ascii ascii pronounced  asskey  acronym  american standard code information interchange  definition set letter number symbol displayed computer system also used within domain bb software ascii mode often used refer lack advanced display capability ansi avatar ascii mode used character displayed standard teletype tty fashion one another also color cursor positioning function available ascii mode compare ansi avatar  opendoors  manual end page avatar avatar acronym  advanced video attribute terminal assembler recreator  avatar graphic display protocol similar ansi like ansigraphics avatar graphic allow function cursor positioning color changing however avatar also offer many capability available ansi performs function ansi much quickly avatar graphic le common ansi ascii becoming popular time go compare ascii ansi baud  baud   baud rate  generally used synonym  bps  bps bps acronym  bit per second  refers rate data sent communication medium two important bps rate relevant opendoors serial port bps rate also called dce rate speed computer communicating local modem connect speed hand speed local modem communicating remote modem serial port speed must least fast connection speed often serial port speed locked fixed speed higher fastest possible connection speed modem example serial port might locked speed bps modem could connected   slower speed opendoors usually need know serial port bps rate order function correctly stored odcontrolbaud certain situation opendoors also able report connection speed stored odcontrolodconnectspeed although opendoors never requires information operate bitmapped boolean value described bit mapped flag flag used indicate whether various condition exist example whether certain setting enabled whether particular event occurred however unlike boolean variable single bitmapped flag represents one truefalse value fact bit binary digit make variable used represent separate truefalse state ie bit map particular piece information hence term  bit map  example using bitmapped flag let u take case single  unsigned char  contains three independent truefalse value call variable userinfo indicate whether user ansi graphic whether user screen clearing turned whether user endofpage   prompt enabled internally bit userinfo variable follows  opendoors  manual end page bit  ansi graphic   screen clearing    prompt case three constant define order simplify access bitmapped flag follows define ansigraphics x define screenclearing x define moreprompts x note normally within opendoors constant defined need know value bit piece information stored using bitmapped flag able set clear individual flag check whether flag set using simple method set flag equivalent boolean value  true  cleared flag equivalent boolean value  false  set flag variable  flagconstant clear flag variable  flagconstant test flag variable flagconstant  variable  name bitmapped flag variable  flagconstant  predefined constant individual setting return example could turn user ansi graphic setting using line userinfo  ansigraphics turn screen clearing would userinfo  ansigraphics perform action waiting user press return enter   prompt enabled would userinfo moreprompts   whatever want   opendoors  manual end page boolean many variable used within opendoors contain value  boolean value  boolean value twostate variable who state referred  true   false variable contains value  true  indicates certain condition contains value  false  indicates condition example boolean variable  wait  might used indicate whether opendoors wait user press key continue without waiting case value  true  would indicate opendoors wait value  false  would indicate wait note c programming language actual boolean variable type usually char int used store boolean value constant true false defined opendoorh file used represent two state boolean value thus set boolean variable  wait  value  true  would use line waittrue set variable  wait   false  would waitfalse however test whether boolean variable  true   false  using c compare  operator value  true  always numerical value actually true constant represents one many possible numerical value  true  instead perform action  wait  boolean variable  true  would wait   whatever want  perform action  wait  boolean variable  false would wait   whatever want  interest sake boolean value named th century english mathematician studied formal logic created boolean algebra algebra deal true false value  opendoors  manual end page bps bps acronym  bit per second  purpose term bps baud refer thing carrier term  carrier   carrier detect  refers signal detect modem send computer indicates whether modem currently connected communicating another modem door driver module opendoors bb software us status carrier detect signal order know whether user still connected bb computer thus user hang something go wrong connection lost opendoors able detect state exit bb bb also detect carrier signal  lost  reset ready accept call chat mode term  chat mode  refers mean sysop communicate user bb door sysop chat anything typed sysop appear user screen likewise anything typed user appear sysop screen sysop chatting available single multiline system sysop chatting initiated sysop either time user online specifically response sysop page compile  compiling  refers process converting source code write program executable file exe file end user use process building executable file generally divided two stage first stage called compiling source file converted object file often named obj second stage called linking one object file combined along library file produce final executable file dll dll acronym  dynamic link library  dynamic link library similar static library contains one function application program use unlike static library code dynamic link library added program executable file link time instead dynamic link library exists separate file must loaded program run win version opendoors resides dll see also  library   opendoors  manual end page door  door  program run part bb system separate central bb software remoteaccess maximus quickbbs pcboard etc door provides additional feature built bb software line game online shopping service voting booth match making system access special file message much much since user also communicates door online bb may necessarily obvious user door even separate entity central bb software door also referred  drop file   exit file   chain information file  door information file file passed file central bb software door program providing information user online bb door running current modem connection door information file may also used pas changed information back bb amount time user used door opendoors take care work involved reading writing door information file described  basic door programming  section chapter example door information file supported opendoors include doorsys exitinfobbs dorinfo dat sfdoorsdat callinfobbs chaintxt dtr dtr acronym  data terminal ready  signal computer sends modem indicating computer ready send receive information modem configured hangup dtr signal lowered convenient mean hanging modem case problem window dtr signal always lowered program close serial port echo see  local echo  fossil fossil driver simply fossil tsr program driver device driver opendoors optionally make use order communicate modem fossil driver loaded prior starting bb door usually autoexecbat configsys file two commonly used fossil driver x bnu fossil acronym  fidoopusseadog standard interface layer  although become standard nearly bb software fossil driver also available specialized serial port hardware popular  digiboard  multiport serial card import library see  library   opendoors  manual end page library  library   library file  collection precompiled function variable used program feature capability function opendoors make use contained within opendoors library file likewise c runtime library consisting familiar function fopen printf atoi also contained within library file information different opendoors library file see section begin page several different kind library file static library file actually collection individual object file compile program make use static library file portion library file program actually us linked program executable exe file static library file identified lib extension do version opendoors resides static library dynamic link library hand combined program executable file instead dynamic link library exist separate dll file must also present program executed win version opendoors resides dynamic link library import library small file describes dynamic link library common way program call function dynamic link library requires import library used program link time see also  dll  link  linking  generally refers process combining several object file final executable file reference symbol name odprintf resolved address corresponding object see also  compiling  local mode term  local mode  refers mode bb system door program may operate local mode bbsdoor behave would user connected via modem bb except display input done simply bb software modem local mode allows sysop another person direct access bb computer use bbsdoor software either user testing software running correctly programming door software local mode useful testing debugging door without requiring door connected remote system door written opendoors automatically support local mode operation compare  remote   opendoors  manual end page local echo term  local echo  refers door displaying character sent modem local screen  output window  allows sysop view information sent user system manner appear user screen locked eg  locked baud rate   locked bps rate   locked commport speed  etc usually communication port modem connected set transfer data bps rate rate modem communicating however many high speed modem allow high speed data transfer using built data compression method case actual rate data transfer easily exceed true bps rate connection result bps rate port kept single speed faster true modem connection order increase modem speed performance referred locking commport bps rate opendoors full support use locked bps rate log file log file normal text file bb software record major activity taken place log file permit sysop review activity taken place bb time away computer log file helpful identifying system error crash occurred alerting sysop case user causing problem bb simply letting sysop know called recently called memory model c c program compiled variety different memory model memory model describes data program code addressed memory writing msdos program generally choice six different memory model named tiny small compact medium large huge provides different combination maximum size data code program may writing win program single flat bit memory model program use memory model allows program address theory gigabyte data code modem device connected computer permit communicate computer usually standard telephone line  opendoors  manual end page object file object file contains compiled version source code file program source code file may c file cpp file asm file pa file ba file number extension associated programming language language source code file compiled obj file created containing information executable code name symbol variable function shared obj file order produce exe file may executed process known linking must performed link process one object file composing program combined along necessary code library file used order produce final exe file online case bb software bb door program term online refers state user using bb usually user connected bb remote location using modem however also possible user using actual bb computer software operating  local mode  output window local screen bb bb software running usually divided two section bottom screen often one two line status line display information sysop bb user currently online rest screen usually  output window  information displayed user also displayed local screen case status line case entire screen output window usually upper line screen opendoors door output window bottom two line status line however possible disable opendoors status line case entire screen output window see also  status line  page see  sysop page  parameter c programming language many task accomplished calling function function called one piece information may passed function form parameter example function used set foreground background color displayed text might accept two parameter one two color setting example function odsetcolor would called follows odsetcolor dgreen dred  opendoors  manual end page case dgreen foreground color first parameter dred background color second parameter c parameter enclosed parenthesis located name function called parameter separated comma character function accept parameter parenthesis nothing ie odclrscr registration demonstration version opendoors may used limited circumstance limited period time wish continue using opendoors  evaluation period  must  register  information registering opendoors please see chapter manual remote used reference bb software door program term remote used refer user computer communicating bb distant location use modem compare  local mode  rip  rip   ripscrip   remote imaging protocol  popular graphical terminal standard used bb system unlike terminal emulation standard ansi avatar mode supported opendoors rip operates bit mapped graphic mode allowing feature line circle icon drawn remote screen opendoors provides support rip graphic although opendoors operates text mode status line usually bottom two line screen displayed opendoors door devoted status line although status line may turned status line display information user online along information current state bb system reference sysop function key see also  local window  sysop term sysop shortform  system operator  refers individual responsible running maintaining bb system sysop usually person direct access local keyboard computer bb bb utility bb door running sysop chat see  chat mode   opendoors  manual end page source code term  source code  refers original file file used produce library executable program source code file contain language statement command directly written programmer source code file compiled produce executable file may  run  sysop page sysop paging refers process whereby user bb system may call page sysop attention wish  chat  sysop thought similar ringing telephone user page sysop bb system produce sort sound sysop may elect respond within hearing range computer common reason user page sysop include case difficulty aspect bb question simply interested friendly conversation sysop obviously since sysop may wish disturbed user paging certain time bed bb software provides control allow control paging feature might include ability set hour day week paging permitted ability temporarily override ability caller page sysop user applied computer general term user simply refers person using computer hardware software however applied particularly bbs term user refers specifically person call bb carry activity communicating via message chatting uploading downloading file using door often term user used contrast term sysop case user people call user bb sysop win win name api program written run microsoft window microsoft window nt use access operating system service win program use flat bit memory model access advanced operating system service multithreading win program run do o win program run window x using win system opendoors since requires multithreading service provided win  opendoors  manual end page iiiiii ii ii ii ii ii iiiiii                                        index manual       debugging access level         demo version         alias           display function      ansi graphic displaying text   archive content       door driver function      ascii chart         door driver module      ascii mode         door function        avatar graphic   door information file door setting        b dorinfoxdef file       do shell          baud rate          download limit        bb information        bb name          e bb system         exit function      error free connection      box character      example program changing bps rate          foregroundbackground colour   builtin function key     example program choosing text colour          c example program clearing line example program dialog box    caller information       example program door utility carrier detect       one program         chat          example program drawing window chat mode        example program exiting door  colour attribute code     example program first door    colour constant       example program hanging cbv colour customization door           colour function        example program hotkeyed menu   colour       example program input key    common problem        example program setting door info compiler error        file location        compiling opendoors     example program shelling do custom function key      example program terminal emu   example program testing available door information        opendoors  manual end page example program testing screen clearing capability example program transferring file memory model       using dsz         memory swapping        example program user statistic modem port         door           modem setting        example program vote      example program waiting cr  n exiting door program      new version         f node number         feature           feedback form         file display function      object file         filesbbs file        odautodetect function     fossil driver        odcarrier function      fossil port         odchat function       function key       odclearkeybuffer function   future version        odclrline function      odclrscr function    g odcolourconfig function    odcontrol structure     getting touch u     oddisable variable      graphic mode     oddisp function       oddispemu function      h oddispstr function      oddrawbox function      history          odeditstr function      hotkeys           odexit function  odgetanswer function     odgetinput function     odgetkey function   ibm colour attribute code    odgettext function      iemsi session information    odhotkeymenu function     inactivity timeout   odinit function      input function     odinputstr function    odkernal function      k odkernel function      odlistfiles function     keyboard buffer     odlogwrite function     key            odmultilineedit function   odpage function     l odparsecmdline function   odpopupmenu function     language customization     odprintf function   learning opendoors       odputch function      library          odputtext function      library file         odrepeat function      line number         odrestorescreen function   linking           odsavescreen function    local mode      odscroll function      locked           odsendfile function     odsetattrib function      opendoors  manual end page odsetcolor function     solution problem      odsetcursor function     source code       odsetdtr function      special thanks        odsetpersonality function   status line  odsetstatusline function   stop key          odsleep function      support          odspawn function       support bb      odspawn function      swapping          odspawnvpe function     sysop chat      odwindowcreate function    sysop function key      odwindowremove function  sysop key          opendoorh file     sysop name         opendoors bb       sysop next setting       opendoors customization     sysop page         opendoors echo        sysop paging       opendoors history       system event         address         system name         output function        output window       p terminal emulator    terminal emulator control code  paging hour       text customization       paging sysop       thankyous         pause key          time left          phone number         timeout           printing   troubleshooting        printing manual        problem          u product support        project file         user handle alias      user information       r user keyboard key      user keyboard setting      registration  user name          registration form      user password        rip            user timeout         ripscrip          v version history        screen function        screen length        w screen width         security level        wantchat setting       setting colour     opendoors  manual end page 