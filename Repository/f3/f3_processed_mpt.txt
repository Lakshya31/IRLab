mpt protocol v user manual copyright c matthew thomas right reserved mpt protocol v user manual b l e f c n e n  introduction feature licensing customer support getting started help screen setup program mpt program running mpt program option delete aborted downloads b beep upon completion cdsx log cd file stamp current date ex effective baud rate f enable fifo buffer hf handshake fast hd handshake disk writes hn handshaking h handshake slow lx log dsz file n monitor carrier signal allow overwriting received file px com port number r allow resumed transfer sx uart baud rate hangup modem finished w wait keystroke finished x enable rle compression sender file specification receiver file specification exit code example mpt display screen access color help screen batch status current file status throughput efficiency uart stats display footer message mpt protocol v user manual setup program main menu change default option adjust screen color install registration information quit save setting acknowledgment inside outside trademark product appendix log file format enhanced dsz log format cd log format b mpt autostart receive c suggested reading software revision mpt protocol v user manual n r u c n  feature mpt protocol powerful tool getting data one place another serial link whether downloading uploading file bulletin board system moving file pc compatible computer serial cable without modem find mpt job quickly accurately mpt offer many advanced feature þ full color screen display transfer status þ standalone setup program changing default option configuring screen color installing registration information þ uart serial port baud rate bps þ autosensing uarts full support fifo buffer þ ability use com port port irq base io address fully configurable þ call data standard cd logging file transfer þ enhanced dsz compatible logging file transfer þ screen operation use direct video memory access desqview taskview omniview topview microsoft window ibm pc multitasking video buffer mtvb present þ optional autostart protocol receiver þ optional data compression block level using rle technique þ fast reliable recovery line data error þ dynamic block scaling optimal data throughput þ file transferred batch þ many feature  licensing mpt protocol accompanying documentation released shareware give chance experience performance software day evaluation period continue use product beyond period required register information becoming registered user found file licensetxt author specifically disclaims warranty expressed implied including limited implied warranty merchantability fitness particular purpose program license granted herein particular without limiting operation program license respect particular application use purpose event shall author liable loss profit lost saving commercial damage page mpt protocol v user manual incidental consequential damage arising use inability use mpt protocol even author matthew thomas authorized distributor product advised possibility damage claim party agreement shall governed law state wisconsin customer support product support available three channel contact author question suggestion problem comment call programmer guild bb  send email matt thomas call execpc bb  send email matt thomas drop note via u mail mpt software company matthew thomas po box racine wi author offer limited support unregistered user mpt protocol order help get program installed evaluation problem installing using software read entire user manual please read manual requesting help many time problem cleared finding answer manual feel free request help either channel mentioned make attempt answer mail received please aware registered user first priority support page mpt protocol v user manual g e n g r e  experienced user wish get quick start using mpt protocol brief chapter included help along complete explanation use protocol setup program continue reading beyond chapter help screen run mpt first time try executing mptexe without parameter see screen full information command line option screen  quick reference  card speak help get software running choose read rest documentation right away setup program also included mpt file called mptsetexe program allows change software default option screen color enter registration information order setup program operate must logged drive directory containing mptexe file mpt protocol program type mpt press enter setup program read mptexe file current directory file corrupted alerted much setup program selfexplanatory thing might obvious without explanation þ choosing baud rate uart value  current  cause software sense use current baud rate uart mptexe executed þ choosing  effective  baud rate value  uart  cause mpt use uart baud rate whether specified autosensed  effective  baud rate þ  adjust screen color  mode pressing key cause color scheme change monochrome use monochrome monitor may wish use option immediately upon entering color set screen return default color set press c key key destroy change made color set saving þ  change default option  screen option choose written mptexe file default running mpt may override default using command line parameter detailed chapter page mpt protocol v user manual h e p p r g r  chapter familiarize mpt protocol feature command line parameter running mpt load run mpt program command line must given command line come keyboard msdos prompt batch file calling program bb load mpt directly without using do commandcom program command line specific syntax three general format mpt command line mpt option filespec filespec filespec  mpt option listfile mpt option r path anything appearing square bracket optional may need specified proper operation mpt note mpt completely ignores  case  command line mean upper lowercase character may mixed combination word  mpt  beginning command line required case tell msdos load mptexe program file  option  outlined  program option  section    r  letter follow option required command line letter   tell mpt send file another computer  r  tell mpt receive file another computer  filespec   listfile   path  portion command line described section entitled  sender file specification   receiver file specification  program option mpt protocol offer number feature setting section explain command line option affect mpt operation note plus syntax enables option minus disables page mpt protocol v user manual following description option                   delete aborted downloads                   enabled setting cause mpt delete transferred portion file fully received disabled setting cause protocol leave partially received file disk give user option continuing transfer later using  allow resumed transfer  option note parameter effect used send mode                 b b beep upon completion                 enabling setting cause mpt emit series beep alert user transfer finished beeper sound regardless whether transfer success disabling setting cause program remain silent time             cdsx log cd file             option allows user specify log file mpt create cd log entry file transferred may replace  x  valid do drive pathfile combination  cd  specified value  x  cd log entry written file example following command line receive file logged using cd file  c logsmptlog  mpt cdsc logsmptlog r whereas following receiver command line log file cd format mpt cd r information cd log format see appendix  log file format  page mpt protocol v user manual                  stamp current date                  setting enabled cause mpt stamp received file current time date transfer setting disabled mpt stamp file original time date passed header packet beginning file transfer useful setting bb sysops wish datestamp file according uploaded note option effect used send mode             ex effective baud rate             using option  x  may replaced numeric value inclusive nonzero value adjust effective baud rate specified value value zero cause mpt set effective baud rate value uart baud rate see section entitled  sx uart baud rate  information uart baud rate effective baud rate typically baud rate uart serial port displayed logged communication program baud rate used session however many modem communicate computer one baud rate communicating phone line different baud rate example usrobotics courier hst modem communicate another courier hst modem effective baud rate bit per second however modem actually communicating uart bps difference uart baud rate effective baud rate mpt allows specified separately mpt use effective baud rate calculate estimated transfer time efficiency percentage displayed transfer                    f f enable fifo buffer                    option effective com port use equivalent uart installed enabled setting allows mpt enable fifo buffer use transfer setting disabled fifo buffer disabled transfer mpt always return uart state mpt began page mpt protocol v user manual almost case setting remain enabled disable option provided user wish emulate uart uart mpt transfer           hf handshake fast           setting enables fast hardware handshaking file transfer unsure whether use hardware handshaking good idea consult modem manual baud modem use hardware handshaking however mnp modem highspeed modem usr courier hst usr hstdual standard using mpt transfer file directconnect link two computer hardware handshaking may necessary enabled case one computer sends faster receive hardware handshaking hardware handshaking us two pin serial port called ct input rts output arbitrate data flow serial port rule ctsrts handshaking fairly easy understand data may sent serial port long ct line high ct line go low sender must stop transmitting data ct go high ready receive data receiver must raise rts line point receiver receive data must lower rts line data received                hd handshake disk writes                setting enables fast hardware handshaking disk write handshaking disk write handshaking cause protocol lower rts line whenever data written disk setting useful computer bios do disk driver cause hardware interrupt disabled extended period time mpt read data uart interrupt disabled result uncommon baud rate get  overrun error  disk driver cause problem setting page mpt protocol v user manual likely solve problem overrun error continually occurring may need use h parameter detailed note hd parameter typically used receiver disk writes occur however sender may use setting force receiver end use disk write handshaking           hn handshaking           option completely disables ctsrts handshaking           h handshake slow           setting enables slow hardware handshaking disk write handshaking slow handshaking useful receiving file computer slow process received character uart baud rate situation rts line toggled pace sender speed suitable slow machine process data experiencing overrun error receiving file mpt try using hd parameter detailed h parameter error continue another possible solution install uart serial port internal modem mpt support uart provision buffering received data take part load cpu note h parameter typically used receiver however sender may use setting force receiver end use slow handshaking            lx log dsz file            option allows user specify log file mpt create dsz log entry file transferred may replace  x  valid do drive pathfile combination  l  specified value  x  dsz log entry written file example following command line receive file logged file  c logslog  mpt lc logsmptlog r whereas following receiver command write log file mpt l r information dsz log format see appendix page mpt protocol v user manual                    n n monitor carrier signal                    setting enabled cause mpt end dcd signal carrier lost transfer setting disabled mpt ignore state dcd signal note bb sysops enable setting user drop carrier transfer mpt end control immediately restored bb software                       allow overwriting received file                       setting enabled allows mpt overwrite existing file example file header received  foobar  file name already exists receive path mpt delete old file write new one name setting disabled mpt allow received file overwrite another file           px com port number           setting tell mpt com port use  x  may replaced value inclusive specified com port installed mpt attempt use information com port configuration see chapter  mpt setup program                   r r allow resumed transfer                  setting enabled allows mpt receiver request resumed transfer example file header received  foobar  file name already exists receive path mpt check see shorter expected length resume request sent cause transmitter send remaining portion file feature useful recovering lost carrier signal abnormal amount line noise setting disabled mpt attempt resume transfer case header existing file received mpt check  allow overwriting received file  setting writing new file disk page mpt protocol v user manual           sx uart baud rate           using option  x  may replaced numeric value inclusive nonzero value adjust uart baud rate specified value value zero cause mpt autodetect use current uart baud rate mpt program executed uart baud rate uart integrated circuit resides serial adaptor card internal modem sometimes motherboard computer uart acronym universal asynchronous receiver transmitter complicated way saying  serial port  serial port communicate external device various speed baud rate uart baud rate setting mpt adjusts speed unsure value use uart baud rate try using autodetect value may wish consult modem manual information baud rate used communicate modem                    hangup modem finished                    setting enabled mpt lower rts dtr signal end session modem configured  hang  dtr signal lowered setting disabled mpt end rts dtr signal set high                       w w wait keystroke finished                       setting enabled cause mpt wait keystroke end transfer returning do setting disabled mpt return control do immediately session end                  x x enable rle compression                  setting enabled allows mpt use rle compression possible transferring data either end mpt connection sender receiver disables parameter rle compression used page mpt protocol v user manual rle compression mpt us rle compression technique attempt shorten block data transferred mpt never transmit compressed block data unless compressed block shorter original block compression routine mpt written turbo assembler quite efficient however high baud rate transferring precompressed file created pkzip overhead caused mpt analyzing block compressibility slow throughput slightly especially slower machine therefore rle compression disabled allow greatest possible throughput compressed file high baud rate note disabling rle compression typically beneficial baud rate baud even slow machine fast enough analyze output data compression enabled baud rate baud efficiently sender file specification version mpt protocol capable sending individual file single batch file transmitted mpt preceded header packet contains name file length original time date stamp control information receiver read header packet determine sender transmitting invoking sender command line two distinct syntax specifying file transmit mpt option filespec filespec filespec  mpt option listfile first syntax least one file specification must placed command line additional file specification may placed first file specification may actual filename including drive letter subdirectory may include wildcard character ie  mpt parse wildcard specification individual file name file specified mpt send first file found second syntax single absolute file specification wildcards specified mpt command line immediately preceded symbol mpt read file expecting find contains list file specification may contain wildcard character separated crlf character example command line mpt c filelst file named  filelst  must placed root directory drive c contains list file specification send page mpt protocol v user manual receiver file specification receiving file mpt syntax command line follows mpt option r path  path  portion optional may single drive pathfilename combination purpose  path  tell mpt place file receives file name specified  path  parameter file name portion ignored mpt determines file name information packet receives file sender therefore specifying path filename parameter must end backslash character example following command line valid cause result mpt r c downloadmyfileext mpt r c download first command line terminating backslash path parameter  myfileext  portion ignored received file placed  c download  directory mpt allows file name specified certain calling program insist passing along receive path one path specification appears mpt command line receive mode first one following  r  parameter used remainder command line ignored exit code mpt protocol return control do end transfer return do exit code calling program following code returned mpt transfer completed successfully transfer began ended without completing session ended transfer began mpt detected invalid registration information mpt invoked without command line parameter page mpt protocol v user manual example following example command line syntax mpt c filetxt send file using default option mpt hf pexe pexe send two file use fast handshaking mpt  send file root dir mpt x txt send text file allow compression mpt x zip send zip file nt try compress mpt n fileslst send file list ignore carrier mpt e send bps effective bps mpt p cdsmptlog r receive file com log cd mpt r c file receive  c file  directory mpt r receive root current drive mpt r receive file delete aborted downloads mpt ldszlog r receive dsz logging mpt r r receive allow resume overwriting page mpt protocol v user manual h e p p l  chapter familiarize mpt display meaning item shown mpt session screen access mpt executed first thing put full screen display mpt run normal do condition access screen use direct memory access word mpt put updated screen information directly memory board resident display adaptor bypassing slow bios do routine alternative technique since protocol program often used multitasking environment direct video access cause conflict  shared  monitor mpt offer alternative mpt executed program check presence one following multitasking subsystem desqview taskview omniview topview microsoft window ibm pc one system active multitasking video buffer mtvb enabled current process mpt direct video access corresponding mtvb instead physical memory display adaptor technique allows complete display compatibility list multitasking subsystem color color scheme mpt display easily customized color monochrome display using mpt setup program see chapter  setup program  detail help screen help screen appear mpt executed without command line parameter always available quick reference command line syntax detailed information option shown help screen see chapter  mpt program  mpt executed command line parameter status display appear filling screen information concerning status transfer page mpt protocol v user manual next section explain content area display batch status display area contains information entire batch transfer hand left side batch status window total batch estimated time transfer estimate based  effective baud rate   uart baud rate  see chapter  mpt program  information baud rate right side window current value progress batch batch progress meter bottom reflects percentage completion entire batch current file status display window contains information file currently transferred particular interest window  last message  item verbal message shown regarding mpt status message description discussed section entitled  message  throughput efficiency window show information concerning estimated efficiency file transfer progress  compression  item show  rle  current block data compressed  none  normal block data item may also show  disabled  either end connection specified  x  option command line disabled rle compression using setup program  block size  meter reflects length current block byte k byte also shown window average speed character per second estimated efficiency percentage theoretical  maximum  efficiency uart uart status  modem light  display give status signal mpt us serial port page mpt protocol v user manual top uart window shown type uart installed com port mpt using recognized uarts b in insb n nsc nsa insca n nsa nsaf mpt optionally use fifo buffer  enable fifo buffer  option enabled uart type see chapter  mpt program  information using fifo buffer remainder uart display show status transmit line txd receive line rxd carrier detect line dcd clear send line ct request send line rts indicator next item light corresponding signal high active stats stats window show miscellaneous information option indicator beside item normally lit item enabled unless otherwise noted following brief description item beep status  beep upon completion b  option date status  stamp current date  option dcd status  monitor carrier signal n  option dele status  delete aborted downloads  option hang status  hangup modem finished  option fifo indicator lit fifo buffer used indicator lit  allow overwriting received file  option enabled mpt receiver actually overwrites file indicator blink remainder transfer particular file resu indicator lit  allow resumed transfer r  option enabled mpt receiver actually resume file indicator blink remainder transfer particular file page mpt protocol v user manual virt indicator lit mpt using mtvb virtual screen display access information item see section entitled  screen access  near beginning chapter wait status  wait keystroke finished w  option display footer footer line mpt display indicates miscellaneous item interest cover left right displayed mpt screen far left section contain    r  indicate send receive mode next com port mpt using following two item uart baud rate labeled ubps effective baud rate labeled ebps value shown bit per second next handshaking indicator show type handshaking use n none handshake slow handshake disk f handshake fast finally far right version number user id remote mpt protocol driver item show  unknown  synchronization established remote protocol message number message may conveyed user mpt protocol section give important message meaning synchronizing mpt attempting communicate control information connecting protocol occurs beginning file transferred synchronization failed mpt unable synchronize connecting protocol sendingreceiving file mpt synchronized begun file transfer page mpt protocol v user manual filenameext done transfer  filenameext  completed successfully filenameext deleted partially received file  filenameext  deleted occur  delete aborted downloads  option enabled error writing cdsdsz log file mpt problem writing log file error byte xxxx errortype message indicates mpt attempting recover type line error value xxxx show byte position current file error occurred errortype indicates caused error seven cause line error crc mpt detected error comparing crcs usually cause line noise bad connection long mpt receiver received block longer k length typically result line noise  adding  spurious garbage character bit stream short mpt receiver got partial block complete duplicate mpt receiver received block data already received successfully waiting mpt receiver waiting next logical block sequence timeout receiver received block data within reasonable time frame overrun mpt receiver experienced uart buffer overrun error usually caused slow receiver cpu high baud rate slow disk bios driver multitasking receiving computer without uart information correcting problem see chapter error reading file filenameext mpt sender could read current file disk cancelled senderreceiver transfer cancelled end connection cancelled transfer cancelled locally pressing esc key page mpt protocol v user manual carrier lost dcd signal lowered transfer reported  monitor carrier signal  option enabled fatal timeout sender received response receiver within reasonable amount time many error twenty consecutive line error occurred transfer allowed overwrite file receiver got file header existing file  allow overwriting received file  option disabled ca nt create file receiver ca nt create file received ca nt write disk receiver ca nt write received information disk file following message occur transfer begin cause errorlevel returned do invalid registration information mptexe file contains invalid useridserial number combination invalid parameter xx invalid parameter xx given command line invalid speed xxxxx invalid speed baud rate specified invalid handshaking invalid handshaking option specified invalid port x invalid com port specified occur mpt identify active uart specified port sendreceive specified    r  parameter given command line error reading list file mpt sender could read specified list file listfile page mpt protocol v user manual file found filenameext mpt could locate file filenameext specified list file command line file specified mpt sender found file specification command line list file page mpt protocol v user manual h e e u p p r g r  accompanying mpt protocol program setup program called mptsetexe allows user customize mpt setup program accomplishes reading mptexe file must reside default directory updating custom setup information using mptset program easy first log directory mptexe file resides done do using  chdir   cd  command next execute mptsetexe program program reside anywhere hard disk floppy disk setup program first attempt read mptexe file present current directory somehow corrupted alerted mptexe file found read successfully presented setup program main menu main menu main menu contains following information change default option adjust screen color install registration information quit save setting four option choose may select option moving arrow shown screen point option wish select arrow key move arrow press enter choose selected item main menu may also press esc key result action selecting  quit save setting  option change default option selecting item presented screen showing number option current default currently set mptexe file explanation option detailed chapter wo nt repeat section page mpt protocol v user manual thing note setting option uart baud rate choosing uart baud rate setting  current  cause mpt use baud rate uart operating program executed effective baud rate setting  uart  cause mpt match effective baud rate uart baud rate mpt executed irqs base address irq setting adjust hardware interrupt com port base address setting adjust base io address uart mapped com port base address must entered hex format setting allow customization nonstandard com port see internal modem serial port manual information irqs base address setting cd dsz log file setting allow default log file specified default setting except com port base address irqs overrided using command line parameter executing mpt adjust screen color selecting item cause portion mpt status screen shown along menu item colorized using arrow key position arrow point item adjusted following key affect  selected  item enter change foreground color space change background color esc return main menu following two key affect entire display c select default color scheme select monochrome scheme install registration information item allows registered mpt user install user id serial number information registering please read file licensetxt note registered mpt puma user receive user id serial number mail use  install registration information  option install page mpt protocol v user manual information mptexe typing userid may use mixed upper lower case letter cap lower case whichever desire enter serial number exactly shown registration certificate mpt run improper user id serial number information receive message  invalid registration information  running mpt double check id serial number certificate information entered mptsetexe registered lynx user may use lynxmptexe program extract registration information lynxexe use mpt protocol must first place registered lynxexe file current directory execute lynxmptexe program follow screen instruction detail quit save setting option cause mptset prompt response save new setting mptexe n responding  n  cause mptset end without updating mptexe responding   cause mptset end writing new setup information mptexe file running mpt using mptset note  stats  window reflect default setting specified default overrided command line parameter page mpt protocol v user manual c k n w l e g e e n  chapter dedicated people made mpt project possible including user registered lynx protocol user helped test lynx mpt contributed way inside large percentage development time mpt spent coding tuning uart interface routine using turbo assembler  repeated test revealed mpt operates quite reliably baud direct link mhz mhz even uart hat borland international fine assembler remainder project coded turbo pascal  borland awardworthy compiler development system speed display mpt attributed qwik toolbox eagle performance software qwik irreplaceable kit full goody make programming without crt unit genuine pleasure good work eagle thedraw thesoft programming service used develop everything visual mpt software package thedraw proved invaluable tool designing user display kudos mr ian davis quality screen design software mpt protocol distributed zipped format technology made possible wonderful pkzip shareware product pkware inc thanks mr phil katz topnotch shareware product outside mpt made shareware marketplace extensive testing author fine people kindly volunteered testing service nick ani kevin bass mike callahan chuck dennis charles edstrom ken flower shawn johnson scott kuntzelman al maynard lee pollard bob rapp john schuit thanks folk page mpt protocol v user manual trademark product courier hst hstdual standard product usrobotics desqview product quarterdeck office system dsz product omen technology inc ibm pc topview trademark international business machine msdos microsoft window registered trademark microsoft corporation pkzip registered trademark pkware inc qwik product eagle performance software taskview product sunny hill software thedraw trademark thesoft programming service mpt protocol trademark matthew thomas turbo assembler turbo pascal registered trademark borland international inc page mpt protocol v user manual appendix l g f l e f r  enhanced dsz log format enhanced dsz logging mpt us provided compatibility program recognize type logging log file consists single line text file transferred following sample entry bps cps error mptzip mpt format field entry follows beginning leftmost field send r receive e aborted transfer l lost carrier length file byte effective baud rate mpt follows dsz format using  represent actual baud rate average transfer rate character per second total number error occurred transmission number flow control restriction specified dsz documentation mpt record value field always contain zero length last block transferred file name file transferred name protocol used last field either empty contains resumed signify file resumed field part original dsz specification cd log format cd logging standard recording online activity type developed attempt standardize interface various communication utility terminal emulator bb software external protocol mpt phone bill analyzer page mpt protocol v user manual supporting cd logging mpt activity tracked utility read cd file following example cd log entry made mpt   mpt com port comm parameter n sent file autoexecbat file size protocol mpt ended   call ended abruptly transfer error efficiency  average cps first line record header give date time transfer began record number identifies record file transfer entry mpt name program created entry following header singleline entry describing transfer com port n communication port used transfer n value comm parameter n designates effective baud rate data bit parity check stop bit transfer parameter separated space mpt always us n data type sent file filename rcvd file filename name transferred file file size nnn size transferred file nnn size byte kilobyte protocol mpt file transfer protocol used page mpt protocol v user manual ended yymmdd hh mm s ended yymmdd hh mm s aborted sender ended yymmdd hh mm s aborted receiver ended yymmdd hh mm s call ended abruptly tell transfer terminated show sender receiver aborted transfer carrier signal lost call ended abruptly transfer error nnn provides total number error encountered transfer entry missing error occurred transfer efficiency nnn provides efficiency file transfer  nnn  efficiency percentage    example average cps nnnn provides average character transmitted per second file  nnnn  cps average whole number   example page mpt protocol v user manual appendix b p u r r e c e v e  mpt feature allows sending protocol alert receiver start download synchronization decrease number required keystroke start download time none terminal program evaluated author directly support type autoreceive mode external protocol zmodem may possible terminal support mpt autoreceive using builtin script language wait mpt auto packet beginning external mpt receiver protocol following format mpt autopacket mpt sender transmits onesecond interval beginning batch transfer turbo pascal format mpt string character received terminal session mpt receive protocol initiated perhaps see type feature supported future release popular terminal program done using script page mpt protocol v user manual appendix c u g g e e r e n g  indepth information aspect computer telecommunication author recommends following book  dvorak guide pc telecommunication  john c dvorak nick ani published osbornemcgrawhill book page contains two   floppy disk included first disk  telix se  complete powerful communication package along modem tutor program second disk packed zipped actually number useful shareware program suggested retail price  check local computer book store excellent source information page mpt protocol v user manual appendix f w r e r e v n  following revision made mpt protocol software package v  initial release protocol name software  puma  first release v  release made change name protocol  mpt protocol  due trademark problem previous name page 